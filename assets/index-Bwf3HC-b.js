(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var $f={exports:{}},Wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function $T(){if(Ny)return Wo;Ny=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return Wo.Fragment=t,Wo.jsx=i,Wo.jsxs=i,Wo}var My;function ZT(){return My||(My=1,$f.exports=$T()),$f.exports}var X=ZT(),Zf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function JT(){if(Vy)return St;Vy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function z(I){return I===null||typeof I!="object"?null:(I=C&&I[C]||I["@@iterator"],typeof I=="function"?I:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,st={};function Z(I,Y,nt){this.props=I,this.context=Y,this.refs=st,this.updater=nt||Q}Z.prototype.isReactComponent={},Z.prototype.setState=function(I,Y){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Y,"setState")},Z.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function At(){}At.prototype=Z.prototype;function Tt(I,Y,nt){this.props=I,this.context=Y,this.refs=st,this.updater=nt||Q}var ct=Tt.prototype=new At;ct.constructor=Tt,et(ct,Z.prototype),ct.isPureReactComponent=!0;var _t=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},Nt=Object.prototype.hasOwnProperty;function N(I,Y,nt,$,ut,Rt){return nt=Rt.ref,{$$typeof:a,type:I,key:Y,ref:nt!==void 0?nt:null,props:Rt}}function S(I,Y){return N(I.type,Y,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function O(I){var Y={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(nt){return Y[nt]})}var M=/\/+/g;function x(I,Y){return typeof I=="object"&&I!==null&&I.key!=null?O(""+I.key):Y.toString(36)}function w(){}function Me(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(w,w):(I.status="pending",I.then(function(Y){I.status==="pending"&&(I.status="fulfilled",I.value=Y)},function(Y){I.status==="pending"&&(I.status="rejected",I.reason=Y)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function re(I,Y,nt,$,ut){var Rt=typeof I;(Rt==="undefined"||Rt==="boolean")&&(I=null);var yt=!1;if(I===null)yt=!0;else switch(Rt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(I.$$typeof){case a:case t:yt=!0;break;case A:return yt=I._init,re(yt(I._payload),Y,nt,$,ut)}}if(yt)return ut=ut(I),yt=$===""?"."+x(I,0):$,_t(ut)?(nt="",yt!=null&&(nt=yt.replace(M,"$&/")+"/"),re(ut,Y,nt,"",function(Un){return Un})):ut!=null&&(R(ut)&&(ut=S(ut,nt+(ut.key==null||I&&I.key===ut.key?"":(""+ut.key).replace(M,"$&/")+"/")+yt)),Y.push(ut)),1;yt=0;var Re=$===""?".":$+":";if(_t(I))for(var $t=0;$t<I.length;$t++)$=I[$t],Rt=Re+x($,$t),yt+=re($,Y,nt,Rt,ut);else if($t=z(I),typeof $t=="function")for(I=$t.call(I),$t=0;!($=I.next()).done;)$=$.value,Rt=Re+x($,$t++),yt+=re($,Y,nt,Rt,ut);else if(Rt==="object"){if(typeof I.then=="function")return re(Me(I),Y,nt,$,ut);throw Y=String(I),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return yt}function q(I,Y,nt){if(I==null)return I;var $=[],ut=0;return re(I,$,"","",function(Rt){return Y.call(nt,Rt,ut++)}),$}function tt(I){if(I._status===-1){var Y=I._result;Y=Y(),Y.then(function(nt){(I._status===0||I._status===-1)&&(I._status=1,I._result=nt)},function(nt){(I._status===0||I._status===-1)&&(I._status=2,I._result=nt)}),I._status===-1&&(I._status=0,I._result=Y)}if(I._status===1)return I._result.default;throw I._result}var ot=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function zt(){}return St.Children={map:q,forEach:function(I,Y,nt){q(I,function(){Y.apply(this,arguments)},nt)},count:function(I){var Y=0;return q(I,function(){Y++}),Y},toArray:function(I){return q(I,function(Y){return Y})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},St.Component=Z,St.Fragment=i,St.Profiler=l,St.PureComponent=Tt,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,St.__COMPILER_RUNTIME={__proto__:null,c:function(I){return pt.H.useMemoCache(I)}},St.cache=function(I){return function(){return I.apply(null,arguments)}},St.cloneElement=function(I,Y,nt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var $=et({},I.props),ut=I.key,Rt=void 0;if(Y!=null)for(yt in Y.ref!==void 0&&(Rt=void 0),Y.key!==void 0&&(ut=""+Y.key),Y)!Nt.call(Y,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&Y.ref===void 0||($[yt]=Y[yt]);var yt=arguments.length-2;if(yt===1)$.children=nt;else if(1<yt){for(var Re=Array(yt),$t=0;$t<yt;$t++)Re[$t]=arguments[$t+2];$.children=Re}return N(I.type,ut,void 0,void 0,Rt,$)},St.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},St.createElement=function(I,Y,nt){var $,ut={},Rt=null;if(Y!=null)for($ in Y.key!==void 0&&(Rt=""+Y.key),Y)Nt.call(Y,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ut[$]=Y[$]);var yt=arguments.length-2;if(yt===1)ut.children=nt;else if(1<yt){for(var Re=Array(yt),$t=0;$t<yt;$t++)Re[$t]=arguments[$t+2];ut.children=Re}if(I&&I.defaultProps)for($ in yt=I.defaultProps,yt)ut[$]===void 0&&(ut[$]=yt[$]);return N(I,Rt,void 0,void 0,null,ut)},St.createRef=function(){return{current:null}},St.forwardRef=function(I){return{$$typeof:g,render:I}},St.isValidElement=R,St.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:tt}},St.memo=function(I,Y){return{$$typeof:v,type:I,compare:Y===void 0?null:Y}},St.startTransition=function(I){var Y=pt.T,nt={};pt.T=nt;try{var $=I(),ut=pt.S;ut!==null&&ut(nt,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(zt,ot)}catch(Rt){ot(Rt)}finally{pt.T=Y}},St.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},St.use=function(I){return pt.H.use(I)},St.useActionState=function(I,Y,nt){return pt.H.useActionState(I,Y,nt)},St.useCallback=function(I,Y){return pt.H.useCallback(I,Y)},St.useContext=function(I){return pt.H.useContext(I)},St.useDebugValue=function(){},St.useDeferredValue=function(I,Y){return pt.H.useDeferredValue(I,Y)},St.useEffect=function(I,Y,nt){var $=pt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(I,Y)},St.useId=function(){return pt.H.useId()},St.useImperativeHandle=function(I,Y,nt){return pt.H.useImperativeHandle(I,Y,nt)},St.useInsertionEffect=function(I,Y){return pt.H.useInsertionEffect(I,Y)},St.useLayoutEffect=function(I,Y){return pt.H.useLayoutEffect(I,Y)},St.useMemo=function(I,Y){return pt.H.useMemo(I,Y)},St.useOptimistic=function(I,Y){return pt.H.useOptimistic(I,Y)},St.useReducer=function(I,Y,nt){return pt.H.useReducer(I,Y,nt)},St.useRef=function(I){return pt.H.useRef(I)},St.useState=function(I){return pt.H.useState(I)},St.useSyncExternalStore=function(I,Y,nt){return pt.H.useSyncExternalStore(I,Y,nt)},St.useTransition=function(){return pt.H.useTransition()},St.version="19.1.0",St}var xy;function Bd(){return xy||(xy=1,Zf.exports=JT()),Zf.exports}var te=Bd(),Jf={exports:{}},tl={},Wf={exports:{}},td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function WT(){return Uy||(Uy=1,function(a){function t(q,tt){var ot=q.length;q.push(tt);t:for(;0<ot;){var zt=ot-1>>>1,I=q[zt];if(0<l(I,tt))q[zt]=tt,q[ot]=I,ot=zt;else break t}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var tt=q[0],ot=q.pop();if(ot!==tt){q[0]=ot;t:for(var zt=0,I=q.length,Y=I>>>1;zt<Y;){var nt=2*(zt+1)-1,$=q[nt],ut=nt+1,Rt=q[ut];if(0>l($,ot))ut<I&&0>l(Rt,$)?(q[zt]=Rt,q[ut]=ot,zt=ut):(q[zt]=$,q[nt]=ot,zt=nt);else if(ut<I&&0>l(Rt,ot))q[zt]=Rt,q[ut]=ot,zt=ut;else break t}}return tt}function l(q,tt){var ot=q.sortIndex-tt.sortIndex;return ot!==0?ot:q.id-tt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],v=[],A=1,C=null,z=3,Q=!1,et=!1,st=!1,Z=!1,At=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function _t(q){for(var tt=i(v);tt!==null;){if(tt.callback===null)s(v);else if(tt.startTime<=q)s(v),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=i(v)}}function pt(q){if(st=!1,_t(q),!et)if(i(p)!==null)et=!0,Nt||(Nt=!0,x());else{var tt=i(v);tt!==null&&re(pt,tt.startTime-q)}}var Nt=!1,N=-1,S=5,R=-1;function O(){return Z?!0:!(a.unstable_now()-R<S)}function M(){if(Z=!1,Nt){var q=a.unstable_now();R=q;var tt=!0;try{t:{et=!1,st&&(st=!1,Tt(N),N=-1),Q=!0;var ot=z;try{e:{for(_t(q),C=i(p);C!==null&&!(C.expirationTime>q&&O());){var zt=C.callback;if(typeof zt=="function"){C.callback=null,z=C.priorityLevel;var I=zt(C.expirationTime<=q);if(q=a.unstable_now(),typeof I=="function"){C.callback=I,_t(q),tt=!0;break e}C===i(p)&&s(p),_t(q)}else s(p);C=i(p)}if(C!==null)tt=!0;else{var Y=i(v);Y!==null&&re(pt,Y.startTime-q),tt=!1}}break t}finally{C=null,z=ot,Q=!1}tt=void 0}}finally{tt?x():Nt=!1}}}var x;if(typeof ct=="function")x=function(){ct(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Me=w.port2;w.port1.onmessage=M,x=function(){Me.postMessage(null)}}else x=function(){At(M,0)};function re(q,tt){N=At(function(){q(a.unstable_now())},tt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return z},a.unstable_next=function(q){switch(z){case 1:case 2:case 3:var tt=3;break;default:tt=z}var ot=z;z=tt;try{return q()}finally{z=ot}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(q,tt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ot=z;z=q;try{return tt()}finally{z=ot}},a.unstable_scheduleCallback=function(q,tt,ot){var zt=a.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?zt+ot:zt):ot=zt,q){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ot+I,q={id:A++,callback:tt,priorityLevel:q,startTime:ot,expirationTime:I,sortIndex:-1},ot>zt?(q.sortIndex=ot,t(v,q),i(p)===null&&q===i(v)&&(st?(Tt(N),N=-1):st=!0,re(pt,ot-zt))):(q.sortIndex=I,t(p,q),et||Q||(et=!0,Nt||(Nt=!0,x()))),q},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(q){var tt=z;return function(){var ot=z;z=tt;try{return q.apply(this,arguments)}finally{z=ot}}}}(td)),td}var Py;function tA(){return Py||(Py=1,Wf.exports=WT()),Wf.exports}var ed={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function eA(){if(Ly)return qe;Ly=1;var a=Bd();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:p,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,qe.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,A)},qe.flushSync=function(p){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=v,s.p=A,s.d.f()}},qe.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},qe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},qe.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin),z=typeof v.integrity=="string"?v.integrity:void 0,Q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:z,fetchPriority:Q}):A==="script"&&s.d.X(p,{crossOrigin:C,integrity:z,fetchPriority:Q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},qe.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},qe.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin);s.d.L(p,A,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},qe.preloadModule=function(p,v){if(typeof p=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},qe.requestFormReset=function(p){s.d.r(p)},qe.unstable_batchedUpdates=function(p,v){return p(v)},qe.useFormState=function(p,v,A){return d.H.useFormState(p,v,A)},qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},qe.version="19.1.0",qe}var ky;function nA(){if(ky)return ed.exports;ky=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ed.exports=eA(),ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function iA(){if(zy)return tl;zy=1;var a=tA(),t=Bd(),i=nA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===r){_=!0,r=h,o=f;break}if(E===o){_=!0,o=h,r=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===r){_=!0,r=f,o=h;break}if(E===o){_=!0,o=f,r=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),At=Symbol.for("react.provider"),Tt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case Z:return"Profiler";case st:return"StrictMode";case pt:return"Suspense";case Nt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case ct:return(e.displayName||"Context")+".Provider";case Tt:return(e._context.displayName||"Context")+".Consumer";case _t:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Me(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Me(e(n))}catch{}}return null}var re=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},zt=[],I=-1;function Y(e){return{current:e}}function nt(e){0>I||(e.current=zt[I],zt[I]=null,I--)}function $(e,n){I++,zt[I]=e.current,e.current=n}var ut=Y(null),Rt=Y(null),yt=Y(null),Re=Y(null);function $t(e,n){switch($(yt,n),$(Rt,e),$(ut,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?sy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=sy(n),e=ay(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ut),$(ut,e)}function Un(){nt(ut),nt(Rt),nt(yt)}function zi(e){e.memoizedState!==null&&$(Re,e);var n=ut.current,r=ay(n,e.type);n!==r&&($(Rt,e),$(ut,r))}function oi(e){Rt.current===e&&(nt(ut),nt(Rt)),Re.current===e&&(nt(Re),Yo._currentValue=ot)}var Ur=Object.prototype.hasOwnProperty,Pr=a.unstable_scheduleCallback,Lr=a.unstable_cancelCallback,Ga=a.unstable_shouldYield,Dl=a.unstable_requestPaint,dn=a.unstable_now,Xc=a.unstable_getCurrentPriorityLevel,Fa=a.unstable_ImmediatePriority,Is=a.unstable_UserBlockingPriority,kr=a.unstable_NormalPriority,$c=a.unstable_LowPriority,Cs=a.unstable_IdlePriority,Ka=a.log,Ol=a.unstable_setDisableYieldValue,se=null,qt=null;function rn(e){if(typeof Ka=="function"&&Ol(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(se,e)}catch{}}var Be=Math.clz32?Math.clz32:zr,Nl=Math.log,Zc=Math.LN2;function zr(e){return e>>>=0,e===0?32:31-(Nl(e)/Zc|0)|0}var Br=256,jr=4194304;function wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ds(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=wn(o):(_&=E,_!==0?h=wn(_):r||(r=E&~e,r!==0&&(h=wn(r))))):(E=o&~f,E!==0?h=wn(E):_!==0?h=wn(_):r||(r=o&~e,r!==0&&(h=wn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function qr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Qa(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ya(){var e=Br;return Br<<=1,(Br&4194048)===0&&(Br=256),e}function Xa(){var e=jr;return jr<<=1,(jr&62914560)===0&&(jr=4194304),e}function li(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ui(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $a(e,n,r,o,h,f){var _=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(r=_&~r;0<r;){var H=31-Be(r),F=1<<H;E[H]=0,b[H]=-1;var k=L[H];if(k!==null)for(L[H]=null,H=0;H<k.length;H++){var B=k[H];B!==null&&(B.lane&=-536870913)}r&=~F}o!==0&&Pn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function Pn(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Be(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194090}function Za(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Be(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Bi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Os(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ji(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:Ry(e.type))}function Ml(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var Jt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Jt,de="__reactProps$"+Jt,mn="__reactContainer$"+Jt,Ja="__reactEvents$"+Jt,Jc="__reactListeners$"+Jt,qi="__reactHandles$"+Jt,Vl="__reactResources$"+Jt,Hr="__reactMarker$"+Jt;function Hi(e){delete e[_e],delete e[de],delete e[Ja],delete e[Jc],delete e[qi]}function ci(e){var n=e[_e];if(n)return n;for(var r=e.parentNode;r;){if(n=r[mn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=cy(e);e!==null;){if(r=e[_e])return r;e=cy(e)}return n}e=r,r=e.parentNode}return null}function Ln(e){if(e=e[_e]||e[mn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function kn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Qe(e){var n=e[Vl];return n||(n=e[Vl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(e){e[Hr]=!0}var Wa=new Set,Ns={};function In(e,n){hi(e,n),hi(e+"Capture",n)}function hi(e,n){for(Ns[e]=n,e=0;e<n.length;e++)Wa.add(n[e])}var xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},Gr={};function Pl(e){return Ur.call(Gr,e)?!0:Ur.call(Ul,e)?!1:xl.test(e)?Gr[e]=!0:(Ul[e]=!0,!1)}function Gi(e,n,r){if(Pl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function zn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ve(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}var Fr,Ll;function fi(e){if(Fr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Fr=n&&n[1]||"",Ll=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+e+Ll}var Ms=!1;function Vs(e,n){if(!e||Ms)return"";Ms=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(B){var k=B}Reflect.construct(e,[],F)}else{try{F.call()}catch(B){k=B}e.call(F.prototype)}}else{try{throw Error()}catch(B){k=B}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var b=_.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var H=`
`+b[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{Ms=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?fi(r):""}function to(e){switch(e.tag){case 26:case 27:case 5:return fi(e.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Vs(e.type,!1);case 11:return Vs(e.type.render,!1);case 1:return Vs(e.type,!0);case 31:return fi("Activity");default:return""}}function xs(e){try{var n="";do n+=to(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ye(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Wc(e){var n=eo(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Us(e){e._valueTracker||(e._valueTracker=Wc(e))}function no(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=eo(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Kr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var th=/[\n"\\]/g;function me(e){return e.replace(th,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(e,n,r,o,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ye(n)):e.value!==""+Ye(n)&&(e.value=""+Ye(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Fi(e,_,Ye(n)):r!=null?Fi(e,_,Ye(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ye(E):e.removeAttribute("name")}function Qr(e,n,r,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ye(r):"",n=n!=null?""+Ye(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Fi(e,n,r){n==="number"&&Kr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function di(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ye(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Ft(e,n,r){if(n!=null&&(n=""+Ye(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ye(r):""}function Yr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ye(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function gn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Xr.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function io(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&kl(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&kl(e,f,n[f])}function ro(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ps(e){return nh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var mi=null;function pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gi=null,pi=null;function so(e){var n=Ln(e);if(n&&(e=n.stateNode)){var r=e[de]||null;t:switch(e=n.stateNode,n.type){case"input":if(sn(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[de]||null;if(!h)throw Error(s(90));sn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&no(o)}break t;case"textarea":Ft(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&di(e,!!r.multiple,n,!1)}}}var Bn=!1;function zl(e,n,r){if(Bn)return e(n,r);Bn=!0;try{var o=e(n);return o}finally{if(Bn=!1,(gi!==null||pi!==null)&&(Mu(),gi&&(n=gi,e=pi,pi=gi=null,so(n),e)))for(n=0;n<e.length;n++)so(e[n])}}function $r(e,n){var r=e.stateNode;if(r===null)return null;var o=r[de]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Cn)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{yn=!1}var jn=null,Ki=null,yi=null;function ao(){if(yi)return yi;var e,n=Ki,r=n.length,o,h="value"in jn?jn.value:jn.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var _=r-e;for(o=1;o<=_&&n[r-o]===h[f-o];o++);return yi=h.slice(e,1<o?1-o:void 0)}function qn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hn(){return!0}function oo(){return!1}function we(e){function n(r,o,h,f,_){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:oo,this.isPropagationStopped=oo,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=we(jt),Jr=A({},jt,{view:0,detail:0}),Bl=we(Jr),ks,zs,Gn,Wr=A({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gn&&(Gn&&e.type==="mousemove"?(ks=e.screenX-Gn.screenX,zs=e.screenY-Gn.screenY):zs=ks=0,Gn=e),ks)},movementY:function(e){return"movementY"in e?e.movementY:zs}}),_n=we(Wr),jl=A({},Wr,{dataTransfer:0}),ih=we(jl),ts=A({},Jr,{relatedTarget:0}),Bs=we(ts),lo=A({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),js=we(lo),ql=A({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qs=we(ql),rh=A({},jt,{data:0}),uo=we(rh),es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function co(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Gl[e])?!!n[e]:!1}function ns(){return co}var Fl=A({},Jr,{key:function(e){if(e.key){var n=es[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(e){return e.type==="keypress"?qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hs=we(Fl),Kl=A({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ho=we(Kl),_i=A({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),Ql=we(_i),Yl=A({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xl=we(Yl),$l=A({},Wr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gs=we($l),Xe=A({},jt,{newState:0,oldState:0}),Zl=we(Xe),Jl=[9,13,27,32],Fn=Cn&&"CompositionEvent"in window,u=null;Cn&&"documentMode"in document&&(u=document.documentMode);var m=Cn&&"TextEvent"in window&&!u,y=Cn&&(!Fn||u&&8<u&&11>=u),T=" ",U=!1;function j(e,n){switch(e){case"keyup":return Jl.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function ve(e,n){switch(e){case"compositionend":return J(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return e=n.data,e===T&&U?null:e;default:return null}}function Vt(e,n){if(Mt)return e==="compositionend"||!Fn&&j(e,n)?(e=ao(),yi=Ki=jn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function vi(e,n,r,o){gi?pi?pi.push(o):pi=[o]:gi=o,n=ku(n,"onChange"),0<n.length&&(r=new Ls("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var xe=null,Kn=null;function fo(e){ty(e,0)}function Wl(e){var n=kn(e);if(no(n))return e}function Tm(e,n){if(e==="change")return n}var Am=!1;if(Cn){var sh;if(Cn){var ah="oninput"in document;if(!ah){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),ah=typeof Sm.oninput=="function"}sh=ah}else sh=!1;Am=sh&&(!document.documentMode||9<document.documentMode)}function bm(){xe&&(xe.detachEvent("onpropertychange",Rm),Kn=xe=null)}function Rm(e){if(e.propertyName==="value"&&Wl(Kn)){var n=[];vi(n,Kn,e,pn(e)),zl(fo,n)}}function w0(e,n,r){e==="focusin"?(bm(),xe=n,Kn=r,xe.attachEvent("onpropertychange",Rm)):e==="focusout"&&bm()}function I0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wl(Kn)}function C0(e,n){if(e==="click")return Wl(n)}function D0(e,n){if(e==="input"||e==="change")return Wl(n)}function O0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var an=typeof Object.is=="function"?Object.is:O0;function mo(e,n){if(an(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Ur.call(n,h)||!an(e[h],n[h]))return!1}return!0}function wm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Im(e,n){var r=wm(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=wm(r)}}function Cm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Cm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Dm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Kr(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Kr(e.document)}return n}function oh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var N0=Cn&&"documentMode"in document&&11>=document.documentMode,Fs=null,lh=null,go=null,uh=!1;function Om(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uh||Fs==null||Fs!==Kr(o)||(o=Fs,"selectionStart"in o&&oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),go&&mo(go,o)||(go=o,o=ku(lh,"onSelect"),0<o.length&&(n=new Ls("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Fs)))}function is(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Ks={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},ch={},Nm={};Cn&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function rs(e){if(ch[e])return ch[e];if(!Ks[e])return e;var n=Ks[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Nm)return ch[e]=n[r];return e}var Mm=rs("animationend"),Vm=rs("animationiteration"),xm=rs("animationstart"),M0=rs("transitionrun"),V0=rs("transitionstart"),x0=rs("transitioncancel"),Um=rs("transitionend"),Pm=new Map,hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hh.push("scrollEnd");function Dn(e,n){Pm.set(e,n),In(n,[e])}var Lm=new WeakMap;function vn(e,n){if(typeof e=="object"&&e!==null){var r=Lm.get(e);return r!==void 0?r:(n={value:e,source:n,stack:xs(n)},Lm.set(e,n),n)}return{value:e,source:n,stack:xs(n)}}var En=[],Qs=0,fh=0;function tu(){for(var e=Qs,n=fh=Qs=0;n<e;){var r=En[n];En[n++]=null;var o=En[n];En[n++]=null;var h=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&km(r,h,f)}}function eu(e,n,r,o){En[Qs++]=e,En[Qs++]=n,En[Qs++]=r,En[Qs++]=o,fh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function dh(e,n,r,o){return eu(e,n,r,o),nu(e)}function Ys(e,n){return eu(e,null,null,n),nu(e)}function km(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Be(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function nu(e){if(50<Bo)throw Bo=0,Ef=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Xs={};function U0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,n,r,o){return new U0(e,n,r,o)}function mh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ei(e,n){var r=e.alternate;return r===null?(r=on(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function zm(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function iu(e,n,r,o,h,f){var _=0;if(o=e,typeof e=="function")mh(e)&&(_=1);else if(typeof e=="string")_=LT(e,r,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=on(31,r,n,h),e.elementType=R,e.lanes=f,e;case et:return ss(r.children,h,f,n);case st:_=8,h|=24;break;case Z:return e=on(12,r,n,h|2),e.elementType=Z,e.lanes=f,e;case pt:return e=on(13,r,n,h),e.elementType=pt,e.lanes=f,e;case Nt:return e=on(19,r,n,h),e.elementType=Nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case At:case ct:_=10;break t;case Tt:_=9;break t;case _t:_=11;break t;case N:_=14;break t;case S:_=16,o=null;break t}_=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=on(_,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ss(e,n,r,o){return e=on(7,e,o,n),e.lanes=r,e}function gh(e,n,r){return e=on(6,e,null,n),e.lanes=r,e}function ph(e,n,r){return n=on(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var $s=[],Zs=0,ru=null,su=0,Tn=[],An=0,as=null,Ti=1,Ai="";function os(e,n){$s[Zs++]=su,$s[Zs++]=ru,ru=e,su=n}function Bm(e,n,r){Tn[An++]=Ti,Tn[An++]=Ai,Tn[An++]=as,as=e;var o=Ti;e=Ai;var h=32-Be(o)-1;o&=~(1<<h),r+=1;var f=32-Be(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ti=1<<32-Be(n)+h|r<<h|o,Ai=f+e}else Ti=1<<f|r<<h|o,Ai=e}function yh(e){e.return!==null&&(os(e,1),Bm(e,1,0))}function _h(e){for(;e===ru;)ru=$s[--Zs],$s[Zs]=null,su=$s[--Zs],$s[Zs]=null;for(;e===as;)as=Tn[--An],Tn[An]=null,Ai=Tn[--An],Tn[An]=null,Ti=Tn[--An],Tn[An]=null}var $e=null,ae=null,Bt=!1,ls=null,Qn=!1,vh=Error(s(519));function us(e){var n=Error(s(418,""));throw _o(vn(n,e)),vh}function jm(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[_e]=e,n[de]=o,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<qo.length;r++)Dt(qo[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Qr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Us(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Yr(n,o.value,o.defaultValue,o.children),Us(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||ry(n.textContent,r)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=zu),n=!0):n=!1,n||us(e)}function qm(e){for($e=e.return;$e;)switch($e.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:$e=$e.return}}function po(e){if(e!==$e)return!1;if(!Bt)return qm(e),Bt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Pf(e.type,e.memoizedProps)),r=!r),r&&ae&&us(e),qm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){ae=Nn(e.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}ae=null}}else n===27?(n=ae,lr(e.type)?(e=Bf,Bf=null,ae=e):ae=n):ae=$e?Nn(e.stateNode.nextSibling):null;return!0}function yo(){ae=$e=null,Bt=!1}function Hm(){var e=ls;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),ls=null),e}function _o(e){ls===null?ls=[e]:ls.push(e)}var Eh=Y(null),cs=null,Si=null;function Qi(e,n,r){$(Eh,n._currentValue),n._currentValue=r}function bi(e){e._currentValue=Eh.current,nt(Eh)}function Th(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Ah(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Th(f.return,r,e),o||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),Th(_,r,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function vo(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;an(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===Re.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Yo):e=[Yo])}h=h.return}e!==null&&Ah(n,e,r,o),n.flags|=262144}function au(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hs(e){cs=e,Si=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return Gm(cs,e)}function ou(e,n){return cs===null&&hs(e),Gm(e,n)}function Gm(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Si===null){if(e===null)throw Error(s(308));Si=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Si=Si.next=n;return r}var P0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},L0=a.unstable_scheduleCallback,k0=a.unstable_NormalPriority,Te={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sh(){return{controller:new P0,data:new Map,refCount:0}}function Eo(e){e.refCount--,e.refCount===0&&L0(k0,function(){e.controller.abort()})}var To=null,bh=0,Js=0,Ws=null;function z0(e,n){if(To===null){var r=To=[];bh=0,Js=If(),Ws={status:"pending",value:void 0,then:function(o){r.push(o)}}}return bh++,n.then(Fm,Fm),n}function Fm(){if(--bh===0&&To!==null){Ws!==null&&(Ws.status="fulfilled");var e=To;To=null,Js=0,Ws=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function B0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Km=q.S;q.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&z0(e,n),Km!==null&&Km(e,n)};var fs=Y(null);function Rh(){var e=fs.current;return e!==null?e:Zt.pooledCache}function lu(e,n){n===null?$(fs,fs.current):$(fs,n.pool)}function Qm(){var e=Rh();return e===null?null:{parent:Te._currentValue,pool:e}}var Ao=Error(s(460)),Ym=Error(s(474)),uu=Error(s(542)),wh={then:function(){}};function Xm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cu(){}function $m(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(cu,cu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Jm(e),e;default:if(typeof n.status=="string")n.then(cu,cu);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Jm(e),e}throw So=n,Ao}}var So=null;function Zm(){if(So===null)throw Error(s(459));var e=So;return So=null,e}function Jm(e){if(e===Ao||e===uu)throw Error(s(483))}var Yi=!1;function Ih(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ch(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $i(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=nu(e),km(e,null,r),n}return eu(e,o,n,r),nu(e)}function bo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Za(e,r)}}function Dh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Oh=!1;function Ro(){if(Oh){var e=Ws;if(e!==null)throw e}}function wo(e,n,r,o){Oh=!1;var h=e.updateQueue;Yi=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,_===null?f=L:_.next=L,_=b;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==_&&(E===null?H.firstBaseUpdate=L:E.next=L,H.lastBaseUpdate=b))}if(f!==null){var F=h.baseState;_=0,H=L=b=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(xt&k)===k:(o&k)===k){k!==0&&k===Js&&(Oh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=e,ht=E;k=n;var Yt=r;switch(ht.tag){case 1:if(gt=ht.payload,typeof gt=="function"){F=gt.call(Yt,F,k);break t}F=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ht.payload,k=typeof gt=="function"?gt.call(Yt,F,k):gt,k==null)break t;F=A({},F,k);break t;case 2:Yi=!0}}k=E.callback,k!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(L=H=B,b=F):H=H.next=B,_|=k;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(b=F),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),rr|=_,e.lanes=_,e.memoizedState=F}}function Wm(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function tg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Wm(r[e],n)}var ta=Y(null),hu=Y(0);function eg(e,n){e=Ni,$(hu,e),$(ta,n),Ni=e|n.baseLanes}function Nh(){$(hu,Ni),$(ta,ta.current)}function Mh(){Ni=hu.current,nt(ta),nt(hu)}var Zi=0,bt=null,Kt=null,ge=null,fu=!1,ea=!1,ds=!1,du=0,Io=0,na=null,j0=0;function ue(){throw Error(s(321))}function Vh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!an(e[r],n[r]))return!1;return!0}function xh(e,n,r,o,h,f){return Zi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?kg:zg,ds=!1,f=r(o,h),ds=!1,ea&&(f=ig(n,r,o,h)),ng(e),f}function ng(e){q.H=vu;var n=Kt!==null&&Kt.next!==null;if(Zi=0,ge=Kt=bt=null,fu=!1,Io=0,na=null,n)throw Error(s(300));e===null||Ce||(e=e.dependencies,e!==null&&au(e)&&(Ce=!0))}function ig(e,n,r,o){bt=e;var h=0;do{if(ea&&(na=null),Io=0,ea=!1,25<=h)throw Error(s(301));if(h+=1,ge=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Y0,f=n(r,o)}while(ea);return f}function q0(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Co(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(bt.flags|=1024),n}function Uh(){var e=du!==0;return du=0,e}function Ph(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Lh(e){if(fu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}fu=!1}Zi=0,ge=Kt=bt=null,ea=!1,Io=du=0,na=null}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?bt.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Kt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=ge===null?bt.memoizedState:ge.next;if(n!==null)ge=n,Kt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ge===null?bt.memoizedState=ge=e:ge=ge.next=e}return ge}function kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Co(e){var n=Io;return Io+=1,na===null&&(na=[]),e=$m(na,e,n),n=bt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?kg:zg),e}function mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Co(e);if(e.$$typeof===ct)return je(e)}throw Error(s(438,String(e)))}function zh(e){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=kh(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=O;return n.index++,r}function Ri(e,n){return typeof n=="function"?n(e):n}function gu(e){var n=pe();return Bh(n,Kt,e)}function Bh(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=_=null,b=null,L=n,H=!1;do{var F=L.lane&-536870913;if(F!==L.lane?(xt&F)===F:(Zi&F)===F){var k=L.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),F===Js&&(H=!0);else if((Zi&k)===k){L=L.next,k===Js&&(H=!0);continue}else F={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=F,_=f):b=b.next=F,bt.lanes|=k,rr|=k;F=L.action,ds&&r(f,F),f=L.hasEagerState?L.eagerState:r(f,F)}else k={lane:F,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=k,_=f):b=b.next=k,bt.lanes|=F,rr|=F;L=L.next}while(L!==null&&L!==n);if(b===null?_=f:b.next=E,!an(f,e.memoizedState)&&(Ce=!0,H&&(r=Ws,r!==null)))throw r;e.memoizedState=f,e.baseState=_,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function jh(e){var n=pe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);an(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function rg(e,n,r){var o=bt,h=pe(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!an((Kt||h).memoizedState,r);_&&(h.memoizedState=r,Ce=!0),h=h.queue;var E=og.bind(null,o,h,e);if(Do(2048,8,E,[e]),h.getSnapshot!==n||_||ge!==null&&ge.memoizedState.tag&1){if(o.flags|=2048,ia(9,pu(),ag.bind(null,o,h,r,n),null),Zt===null)throw Error(s(349));f||(Zi&124)!==0||sg(o,n,r)}return r}function sg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=kh(),bt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function ag(e,n,r,o){n.value=r,n.getSnapshot=o,lg(n)&&ug(e)}function og(e,n,r){return r(function(){lg(n)&&ug(e)})}function lg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!an(e,r)}catch{return!0}}function ug(e){var n=Ys(e,2);n!==null&&fn(n,e,2)}function qh(e){var n=Je();if(typeof e=="function"){var r=e;if(e=r(),ds){rn(!0);try{r()}finally{rn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},n}function cg(e,n,r,o){return e.baseState=r,Bh(e,Kt,typeof o=="function"?o:Ri)}function H0(e,n,r,o,h){if(_u(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};q.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,hg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function hg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,_={};q.T=_;try{var E=r(h,o),b=q.S;b!==null&&b(_,E),fg(e,n,E)}catch(L){Hh(e,n,L)}finally{q.T=f}}else try{f=r(h,o),fg(e,n,f)}catch(L){Hh(e,n,L)}}function fg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){dg(e,n,o)},function(o){return Hh(e,n,o)}):dg(e,n,r)}function dg(e,n,r){n.status="fulfilled",n.value=r,mg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,hg(e,r)))}function Hh(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,mg(n),n=n.next;while(n!==o)}e.action=null}function mg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function gg(e,n){return n}function pg(e,n){if(Bt){var r=Zt.formState;if(r!==null){t:{var o=bt;if(Bt){if(ae){e:{for(var h=ae,f=Qn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Nn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=Nn(h.nextSibling),o=h.data==="F!";break t}}us(o)}o=!1}o&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:n},r.queue=o,r=Ug.bind(null,bt,o),o.dispatch=r,o=qh(!1),f=Yh.bind(null,bt,!1,o.queue),o=Je(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=H0.bind(null,bt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function yg(e){var n=pe();return _g(n,Kt,e)}function _g(e,n,r){if(n=Bh(e,n,gg)[0],e=gu(Ri)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Co(n)}catch(_){throw _===Ao?uu:_}else o=n;n=pe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(bt.flags|=2048,ia(9,pu(),G0.bind(null,h,r),null)),[o,f,e]}function G0(e,n){e.action=n}function vg(e){var n=pe(),r=Kt;if(r!==null)return _g(n,r,e);pe(),n=n.memoizedState,r=pe();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function ia(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=kh(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function pu(){return{destroy:void 0,resource:void 0}}function Eg(){return pe().memoizedState}function yu(e,n,r,o){var h=Je();o=o===void 0?null:o,bt.flags|=e,h.memoizedState=ia(1|n,pu(),r,o)}function Do(e,n,r,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&Vh(o,Kt.memoizedState.deps)?h.memoizedState=ia(n,f,r,o):(bt.flags|=e,h.memoizedState=ia(1|n,f,r,o))}function Tg(e,n){yu(8390656,8,e,n)}function Ag(e,n){Do(2048,8,e,n)}function Sg(e,n){return Do(4,2,e,n)}function bg(e,n){return Do(4,4,e,n)}function Rg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wg(e,n,r){r=r!=null?r.concat([e]):null,Do(4,4,Rg.bind(null,n,e),r)}function Gh(){}function Ig(e,n){var r=pe();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Vh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Cg(e,n){var r=pe();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Vh(n,o[1]))return o[0];if(o=e(),ds){rn(!0);try{e()}finally{rn(!1)}}return r.memoizedState=[o,n],o}function Fh(e,n,r){return r===void 0||(Zi&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=Np(),bt.lanes|=e,rr|=e,r)}function Dg(e,n,r,o){return an(r,n)?r:ta.current!==null?(e=Fh(e,r,o),an(e,n)||(Ce=!0),e):(Zi&42)===0?(Ce=!0,e.memoizedState=r):(e=Np(),bt.lanes|=e,rr|=e,n)}function Og(e,n,r,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var _=q.T,E={};q.T=E,Yh(e,!1,n,r);try{var b=h(),L=q.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=B0(b,o);Oo(e,n,H,hn(e))}else Oo(e,n,o,hn(e))}catch(F){Oo(e,n,{then:function(){},status:"rejected",reason:F},hn())}finally{tt.p=f,q.T=_}}function F0(){}function Kh(e,n,r,o){if(e.tag!==5)throw Error(s(476));var h=Ng(e).queue;Og(e,h,n,ot,r===null?F0:function(){return Mg(e),r(o)})}function Ng(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Mg(e){var n=Ng(e).next.queue;Oo(e,n,{},hn())}function Qh(){return je(Yo)}function Vg(){return pe().memoizedState}function xg(){return pe().memoizedState}function K0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();e=Xi(r);var o=$i(n,e,r);o!==null&&(fn(o,n,r),bo(o,n,r)),n={cache:Sh()},e.payload=n;return}n=n.return}}function Q0(e,n,r){var o=hn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},_u(e)?Pg(n,r):(r=dh(e,n,r,o),r!==null&&(fn(r,e,o),Lg(r,n,o)))}function Ug(e,n,r){var o=hn();Oo(e,n,r,o)}function Oo(e,n,r,o){var h={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(_u(e))Pg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,r);if(h.hasEagerState=!0,h.eagerState=E,an(E,_))return eu(e,n,h,0),Zt===null&&tu(),!1}catch{}finally{}if(r=dh(e,n,h,o),r!==null)return fn(r,e,o),Lg(r,n,o),!0}return!1}function Yh(e,n,r,o){if(o={lane:2,revertLane:If(),action:o,hasEagerState:!1,eagerState:null,next:null},_u(e)){if(n)throw Error(s(479))}else n=dh(e,r,o,2),n!==null&&fn(n,e,2)}function _u(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Pg(e,n){ea=fu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Lg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Za(e,r)}}var vu={readContext:je,use:mu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},kg={readContext:je,use:mu,useCallback:function(e,n){return Je().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:Tg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,yu(4194308,4,Rg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return yu(4194308,4,e,n)},useInsertionEffect:function(e,n){yu(4,2,e,n)},useMemo:function(e,n){var r=Je();n=n===void 0?null:n;var o=e();if(ds){rn(!0);try{e()}finally{rn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=Je();if(r!==void 0){var h=r(n);if(ds){rn(!0);try{r(n)}finally{rn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Q0.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=Je();return e={current:e},n.memoizedState=e},useState:function(e){e=qh(e);var n=e.queue,r=Ug.bind(null,bt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Gh,useDeferredValue:function(e,n){var r=Je();return Fh(r,e,n)},useTransition:function(){var e=qh(!1);return e=Og.bind(null,bt,e.queue,!0,!1),Je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=bt,h=Je();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Zt===null)throw Error(s(349));(xt&124)!==0||sg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Tg(og.bind(null,o,f,e),[e]),o.flags|=2048,ia(9,pu(),ag.bind(null,o,f,r,n),null),r},useId:function(){var e=Je(),n=Zt.identifierPrefix;if(Bt){var r=Ai,o=Ti;r=(o&~(1<<32-Be(o)-1)).toString(32)+r,n="«"+n+"R"+r,r=du++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=j0++,n="«"+n+"r"+r.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Qh,useFormState:pg,useActionState:pg,useOptimistic:function(e){var n=Je();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Yh.bind(null,bt,!0,r),r.dispatch=n,[e,n]},useMemoCache:zh,useCacheRefresh:function(){return Je().memoizedState=K0.bind(null,bt)}},zg={readContext:je,use:mu,useCallback:Ig,useContext:je,useEffect:Ag,useImperativeHandle:wg,useInsertionEffect:Sg,useLayoutEffect:bg,useMemo:Cg,useReducer:gu,useRef:Eg,useState:function(){return gu(Ri)},useDebugValue:Gh,useDeferredValue:function(e,n){var r=pe();return Dg(r,Kt.memoizedState,e,n)},useTransition:function(){var e=gu(Ri)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Co(e),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:Qh,useFormState:yg,useActionState:yg,useOptimistic:function(e,n){var r=pe();return cg(r,Kt,e,n)},useMemoCache:zh,useCacheRefresh:xg},Y0={readContext:je,use:mu,useCallback:Ig,useContext:je,useEffect:Ag,useImperativeHandle:wg,useInsertionEffect:Sg,useLayoutEffect:bg,useMemo:Cg,useReducer:jh,useRef:Eg,useState:function(){return jh(Ri)},useDebugValue:Gh,useDeferredValue:function(e,n){var r=pe();return Kt===null?Fh(r,e,n):Dg(r,Kt.memoizedState,e,n)},useTransition:function(){var e=jh(Ri)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Co(e),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:Qh,useFormState:vg,useActionState:vg,useOptimistic:function(e,n){var r=pe();return Kt!==null?cg(r,Kt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:zh,useCacheRefresh:xg},ra=null,No=0;function Eu(e){var n=No;return No+=1,ra===null&&(ra=[]),$m(ra,e,n)}function Mo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Tu(e,n){throw n.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Bg(e){var n=e._init;return n(e._payload)}function jg(e){function n(V,D){if(e){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function r(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Ei(V,D),V.index=0,V.sibling=null,V}function f(V,D,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function _(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,P,G){return D===null||D.tag!==6?(D=gh(P,V.mode,G),D.return=V,D):(D=h(D,P),D.return=V,D)}function b(V,D,P,G){var rt=P.type;return rt===et?H(V,D,P.props.children,G,P.key):D!==null&&(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Bg(rt)===D.type)?(D=h(D,P.props),Mo(D,P),D.return=V,D):(D=iu(P.type,P.key,P.props,null,V.mode,G),Mo(D,P),D.return=V,D)}function L(V,D,P,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=ph(P,V.mode,G),D.return=V,D):(D=h(D,P.children||[]),D.return=V,D)}function H(V,D,P,G,rt){return D===null||D.tag!==7?(D=ss(P,V.mode,G,rt),D.return=V,D):(D=h(D,P),D.return=V,D)}function F(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=gh(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case z:return P=iu(D.type,D.key,D.props,null,V.mode,P),Mo(P,D),P.return=V,P;case Q:return D=ph(D,V.mode,P),D.return=V,D;case S:var G=D._init;return D=G(D._payload),F(V,D,P)}if(re(D)||x(D))return D=ss(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return F(V,Eu(D),P);if(D.$$typeof===ct)return F(V,ou(V,D),P);Tu(V,D)}return null}function k(V,D,P,G){var rt=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return rt!==null?null:E(V,D,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case z:return P.key===rt?b(V,D,P,G):null;case Q:return P.key===rt?L(V,D,P,G):null;case S:return rt=P._init,P=rt(P._payload),k(V,D,P,G)}if(re(P)||x(P))return rt!==null?null:H(V,D,P,G,null);if(typeof P.then=="function")return k(V,D,Eu(P),G);if(P.$$typeof===ct)return k(V,D,ou(V,P),G);Tu(V,P)}return null}function B(V,D,P,G,rt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return V=V.get(P)||null,E(D,V,""+G,rt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case z:return V=V.get(G.key===null?P:G.key)||null,b(D,V,G,rt);case Q:return V=V.get(G.key===null?P:G.key)||null,L(D,V,G,rt);case S:var wt=G._init;return G=wt(G._payload),B(V,D,P,G,rt)}if(re(G)||x(G))return V=V.get(P)||null,H(D,V,G,rt,null);if(typeof G.then=="function")return B(V,D,P,Eu(G),rt);if(G.$$typeof===ct)return B(V,D,P,ou(D,G),rt);Tu(D,G)}return null}function gt(V,D,P,G){for(var rt=null,wt=null,at=D,dt=D=0,Oe=null;at!==null&&dt<P.length;dt++){at.index>dt?(Oe=at,at=null):Oe=at.sibling;var kt=k(V,at,P[dt],G);if(kt===null){at===null&&(at=Oe);break}e&&at&&kt.alternate===null&&n(V,at),D=f(kt,D,dt),wt===null?rt=kt:wt.sibling=kt,wt=kt,at=Oe}if(dt===P.length)return r(V,at),Bt&&os(V,dt),rt;if(at===null){for(;dt<P.length;dt++)at=F(V,P[dt],G),at!==null&&(D=f(at,D,dt),wt===null?rt=at:wt.sibling=at,wt=at);return Bt&&os(V,dt),rt}for(at=o(at);dt<P.length;dt++)Oe=B(at,V,dt,P[dt],G),Oe!==null&&(e&&Oe.alternate!==null&&at.delete(Oe.key===null?dt:Oe.key),D=f(Oe,D,dt),wt===null?rt=Oe:wt.sibling=Oe,wt=Oe);return e&&at.forEach(function(dr){return n(V,dr)}),Bt&&os(V,dt),rt}function ht(V,D,P,G){if(P==null)throw Error(s(151));for(var rt=null,wt=null,at=D,dt=D=0,Oe=null,kt=P.next();at!==null&&!kt.done;dt++,kt=P.next()){at.index>dt?(Oe=at,at=null):Oe=at.sibling;var dr=k(V,at,kt.value,G);if(dr===null){at===null&&(at=Oe);break}e&&at&&dr.alternate===null&&n(V,at),D=f(dr,D,dt),wt===null?rt=dr:wt.sibling=dr,wt=dr,at=Oe}if(kt.done)return r(V,at),Bt&&os(V,dt),rt;if(at===null){for(;!kt.done;dt++,kt=P.next())kt=F(V,kt.value,G),kt!==null&&(D=f(kt,D,dt),wt===null?rt=kt:wt.sibling=kt,wt=kt);return Bt&&os(V,dt),rt}for(at=o(at);!kt.done;dt++,kt=P.next())kt=B(at,V,dt,kt.value,G),kt!==null&&(e&&kt.alternate!==null&&at.delete(kt.key===null?dt:kt.key),D=f(kt,D,dt),wt===null?rt=kt:wt.sibling=kt,wt=kt);return e&&at.forEach(function(XT){return n(V,XT)}),Bt&&os(V,dt),rt}function Yt(V,D,P,G){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case z:t:{for(var rt=P.key;D!==null;){if(D.key===rt){if(rt=P.type,rt===et){if(D.tag===7){r(V,D.sibling),G=h(D,P.props.children),G.return=V,V=G;break t}}else if(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Bg(rt)===D.type){r(V,D.sibling),G=h(D,P.props),Mo(G,P),G.return=V,V=G;break t}r(V,D);break}else n(V,D);D=D.sibling}P.type===et?(G=ss(P.props.children,V.mode,G,P.key),G.return=V,V=G):(G=iu(P.type,P.key,P.props,null,V.mode,G),Mo(G,P),G.return=V,V=G)}return _(V);case Q:t:{for(rt=P.key;D!==null;){if(D.key===rt)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(V,D.sibling),G=h(D,P.children||[]),G.return=V,V=G;break t}else{r(V,D);break}else n(V,D);D=D.sibling}G=ph(P,V.mode,G),G.return=V,V=G}return _(V);case S:return rt=P._init,P=rt(P._payload),Yt(V,D,P,G)}if(re(P))return gt(V,D,P,G);if(x(P)){if(rt=x(P),typeof rt!="function")throw Error(s(150));return P=rt.call(P),ht(V,D,P,G)}if(typeof P.then=="function")return Yt(V,D,Eu(P),G);if(P.$$typeof===ct)return Yt(V,D,ou(V,P),G);Tu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(V,D.sibling),G=h(D,P),G.return=V,V=G):(r(V,D),G=gh(P,V.mode,G),G.return=V,V=G),_(V)):r(V,D)}return function(V,D,P,G){try{No=0;var rt=Yt(V,D,P,G);return ra=null,rt}catch(at){if(at===Ao||at===uu)throw at;var wt=on(29,at,null,V.mode);return wt.lanes=G,wt.return=V,wt}finally{}}}var sa=jg(!0),qg=jg(!1),Sn=Y(null),Yn=null;function Ji(e){var n=e.alternate;$(Ae,Ae.current&1),$(Sn,e),Yn===null&&(n===null||ta.current!==null||n.memoizedState!==null)&&(Yn=e)}function Hg(e){if(e.tag===22){if($(Ae,Ae.current),$(Sn,e),Yn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Yn=e)}}else Wi()}function Wi(){$(Ae,Ae.current),$(Sn,Sn.current)}function wi(e){nt(Sn),Yn===e&&(Yn=null),nt(Ae)}var Ae=Y(0);function Au(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||zf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Xh(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var $h={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=hn(),h=Xi(o);h.payload=n,r!=null&&(h.callback=r),n=$i(e,h,o),n!==null&&(fn(n,e,o),bo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=hn(),h=Xi(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=$i(e,h,o),n!==null&&(fn(n,e,o),bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=hn(),o=Xi(r);o.tag=2,n!=null&&(o.callback=n),n=$i(e,o,r),n!==null&&(fn(n,e,r),bo(n,e,r))}};function Gg(e,n,r,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!mo(r,o)||!mo(h,f):!0}function Fg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&$h.enqueueReplaceState(n,n.state,null)}function ms(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Kg(e){Su(e)}function Qg(e){console.error(e)}function Yg(e){Su(e)}function bu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Xg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zh(e,n,r){return r=Xi(r),r.tag=3,r.payload={element:null},r.callback=function(){bu(e,n)},r}function $g(e){return e=Xi(e),e.tag=3,e}function Zg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Xg(n,r,o)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Xg(n,r,o),typeof h!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function X0(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&vo(n,r,h,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Yn===null?Af():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===wh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),bf(e,o,h)),!1;case 22:return r.flags|=65536,o===wh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),bf(e,o,h)),!1}throw Error(s(435,r.tag))}return bf(e,o,h),Af(),!1}if(Bt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==vh&&(e=Error(s(422),{cause:o}),_o(vn(e,r)))):(o!==vh&&(n=Error(s(423),{cause:o}),_o(vn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=vn(o,r),h=Zh(e.stateNode,o,h),Dh(e,h),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:o});if(f=vn(f,r),zo===null?zo=[f]:zo.push(f),oe!==4&&(oe=2),n===null)return!0;o=vn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Zh(r.stateNode,o,e),Dh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(sr===null||!sr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=$g(h),Zg(h,e,r,o),Dh(r,h),!1}r=r.return}while(r!==null);return!1}var Jg=Error(s(461)),Ce=!1;function Ue(e,n,r,o){n.child=e===null?qg(n,null,r,o):sa(n,e.child,r,o)}function Wg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return hs(n),o=xh(e,n,r,_,f,h),E=Uh(),e!==null&&!Ce?(Ph(e,n,h),Ii(e,n,h)):(Bt&&E&&yh(n),n.flags|=1,Ue(e,n,o,h),n.child)}function tp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!mh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ep(e,n,f,o,h)):(e=iu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!af(e,h)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:mo,r(_,o)&&e.ref===n.ref)return Ii(e,n,h)}return n.flags|=1,e=Ei(f,o),e.ref=n.ref,e.return=n,n.child=e}function ep(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(mo(f,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=f,af(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Ii(e,n,h)}return Jh(e,n,r,o,h)}function np(e,n,r){var o=n.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|r:r,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return ip(e,n,o,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&lu(n,f!==null?f.cachePool:null),f!==null?eg(n,f):Nh(),Hg(n);else return n.lanes=n.childLanes=536870912,ip(e,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(lu(n,f.cachePool),eg(n,f),Wi(),n.memoizedState=null):(e!==null&&lu(n,null),Nh(),Wi());return Ue(e,n,h,r),n.child}function ip(e,n,r,o){var h=Rh();return h=h===null?null:{parent:Te._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},e!==null&&lu(n,null),Nh(),Hg(n),e!==null&&vo(e,n,o,!0),null}function Ru(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Jh(e,n,r,o,h){return hs(n),r=xh(e,n,r,o,void 0,h),o=Uh(),e!==null&&!Ce?(Ph(e,n,h),Ii(e,n,h)):(Bt&&o&&yh(n),n.flags|=1,Ue(e,n,r,h),n.child)}function rp(e,n,r,o,h,f){return hs(n),n.updateQueue=null,r=ig(n,o,r,h),ng(e),o=Uh(),e!==null&&!Ce?(Ph(e,n,f),Ii(e,n,f)):(Bt&&o&&yh(n),n.flags|=1,Ue(e,n,r,f),n.child)}function sp(e,n,r,o,h){if(hs(n),n.stateNode===null){var f=Xs,_=r.contextType;typeof _=="object"&&_!==null&&(f=je(_)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=$h,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Ih(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?je(_):Xs,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Xh(n,r,_,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&$h.enqueueReplaceState(f,f.state,null),wo(n,o,f,h),Ro(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=ms(r,E);f.props=b;var L=f.context,H=r.contextType;_=Xs,typeof H=="object"&&H!==null&&(_=je(H));var F=r.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==_)&&Fg(n,f,o,_),Yi=!1;var k=n.memoizedState;f.state=k,wo(n,o,f,h),Ro(),L=n.memoizedState,E||k!==L||Yi?(typeof F=="function"&&(Xh(n,r,F,o),L=n.memoizedState),(b=Yi||Gg(n,r,b,o,k,L,_))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=_,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ch(e,n),_=n.memoizedProps,H=ms(r,_),f.props=H,F=n.pendingProps,k=f.context,L=r.contextType,b=Xs,typeof L=="object"&&L!==null&&(b=je(L)),E=r.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==F||k!==b)&&Fg(n,f,o,b),Yi=!1,k=n.memoizedState,f.state=k,wo(n,o,f,h),Ro();var B=n.memoizedState;_!==F||k!==B||Yi||e!==null&&e.dependencies!==null&&au(e.dependencies)?(typeof E=="function"&&(Xh(n,r,E,o),B=n.memoizedState),(H=Yi||Gg(n,r,H,o,k,B,b)||e!==null&&e.dependencies!==null&&au(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=b,o=H):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ru(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=sa(n,e.child,null,h),n.child=sa(n,null,r,h)):Ue(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Ii(e,n,h),e}function ap(e,n,r,o){return yo(),n.flags|=256,Ue(e,n,r,o),n.child}var Wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tf(e){return{baseLanes:e,cachePool:Qm()}}function ef(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=bn),e}function op(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?Ji(n):Wi(),Bt){var E=ae,b;if(b=E){t:{for(b=E,E=Qn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Nn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:as!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},b=on(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,$e=n,ae=null,b=!0):b=!1}b||us(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return zf(E)?n.lanes=32:n.lanes=536870912,null;wi(n)}return E=o.children,o=o.fallback,h?(Wi(),h=n.mode,E=wu({mode:"hidden",children:E},h),o=ss(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,h=n.child,h.memoizedState=tf(r),h.childLanes=ef(e,_,r),n.memoizedState=Wh,o):(Ji(n),nf(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Ji(n),n.flags&=-257,n=rf(e,n,r)):n.memoizedState!==null?(Wi(),n.child=e.child,n.flags|=128,n=null):(Wi(),h=o.fallback,E=n.mode,o=wu({mode:"visible",children:o.children},E),h=ss(h,E,r,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,sa(n,e.child,null,r),o=n.child,o.memoizedState=tf(r),o.childLanes=ef(e,_,r),n.memoizedState=Wh,n=h);else if(Ji(n),zf(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var L=_.dgst;_=L,o=Error(s(419)),o.stack="",o.digest=_,_o({value:o,source:null,stack:null}),n=rf(e,n,r)}else if(Ce||vo(e,n,r,!1),_=(r&e.childLanes)!==0,Ce||_){if(_=Zt,_!==null&&(o=r&-r,o=(o&42)!==0?1:Bi(o),o=(o&(_.suspendedLanes|r))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,Ys(e,o),fn(_,e,o),Jg;E.data==="$?"||Af(),n=rf(e,n,r)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,ae=Nn(E.nextSibling),$e=n,Bt=!0,ls=null,Qn=!1,e!==null&&(Tn[An++]=Ti,Tn[An++]=Ai,Tn[An++]=as,Ti=e.id,Ai=e.overflow,as=n),n=nf(n,o.children),n.flags|=4096);return n}return h?(Wi(),h=o.fallback,E=n.mode,b=e.child,L=b.sibling,o=Ei(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Ei(L,h):(h=ss(h,E,r,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,E=e.child.memoizedState,E===null?E=tf(r):(b=E.cachePool,b!==null?(L=Te._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=Qm(),E={baseLanes:E.baseLanes|r,cachePool:b}),h.memoizedState=E,h.childLanes=ef(e,_,r),n.memoizedState=Wh,o):(Ji(n),r=e.child,e=r.sibling,r=Ei(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=r,n.memoizedState=null,r)}function nf(e,n){return n=wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function wu(e,n){return e=on(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function rf(e,n,r){return sa(n,e.child,null,r),e=nf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function lp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Th(e.return,n,r)}function sf(e,n,r,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=r,f.tailMode=h)}function up(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;if(Ue(e,n,o.children,r),o=Ae.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lp(e,r,n);else if(e.tag===19)lp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch($(Ae,o),h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Au(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),sf(n,!1,h,r,f);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Au(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}sf(n,!0,r,null,f);break;case"together":sf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ii(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),rr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(vo(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Ei(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ei(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function af(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&au(e)))}function $0(e,n,r){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),Qi(n,Te,e.memoizedState.cache),yo();break;case 27:case 5:zi(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:Qi(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ji(n),n.flags|=128,null):(r&n.child.childLanes)!==0?op(e,n,r):(Ji(n),e=Ii(e,n,r),e!==null?e.sibling:null);Ji(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(vo(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return up(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$(Ae,Ae.current),o)break;return null;case 22:case 23:return n.lanes=0,np(e,n,r);case 24:Qi(n,Te,e.memoizedState.cache)}return Ii(e,n,r)}function cp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!af(e,r)&&(n.flags&128)===0)return Ce=!1,$0(e,n,r);Ce=(e.flags&131072)!==0}else Ce=!1,Bt&&(n.flags&1048576)!==0&&Bm(n,su,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")mh(o)?(e=ms(o,e),n.tag=1,n=sp(null,n,o,e,r)):(n.tag=0,n=Jh(null,n,o,e,r));else{if(o!=null){if(h=o.$$typeof,h===_t){n.tag=11,n=Wg(null,n,o,e,r);break t}else if(h===N){n.tag=14,n=tp(null,n,o,e,r);break t}}throw n=Me(o)||o,Error(s(306,n,""))}}return n;case 0:return Jh(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=ms(o,n.pendingProps),sp(e,n,o,h,r);case 3:t:{if($t(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Ch(e,n),wo(n,o,null,r);var _=n.memoizedState;if(o=_.cache,Qi(n,Te,o),o!==f.cache&&Ah(n,[Te],r,!0),Ro(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ap(e,n,o,r);break t}else if(o!==h){h=vn(Error(s(424)),n),_o(h),n=ap(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=Nn(e.firstChild),$e=n,Bt=!0,ls=null,Qn=!0,r=qg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(yo(),o===h){n=Ii(e,n,r);break t}Ue(e,n,o,r)}n=n.child}return n;case 26:return Ru(e,n),e===null?(r=my(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,e=n.pendingProps,o=Bu(yt.current).createElement(r),o[_e]=n,o[de]=e,Le(o,r,e),le(o),n.stateNode=o):n.memoizedState=my(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return zi(n),e===null&&Bt&&(o=n.stateNode=hy(n.type,n.pendingProps,yt.current),$e=n,Qn=!0,h=ae,lr(n.type)?(Bf=h,ae=Nn(o.firstChild)):ae=h),Ue(e,n,n.pendingProps.children,r),Ru(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=o=ae)&&(o=bT(o,n.type,n.pendingProps,Qn),o!==null?(n.stateNode=o,$e=n,ae=Nn(o.firstChild),Qn=!1,h=!0):h=!1),h||us(n)),zi(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,Pf(h,f)?o=null:_!==null&&Pf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=xh(e,n,q0,null,null,r),Yo._currentValue=h),Ru(e,n),Ue(e,n,o,r),n.child;case 6:return e===null&&Bt&&((e=r=ae)&&(r=RT(r,n.pendingProps,Qn),r!==null?(n.stateNode=r,$e=n,ae=null,e=!0):e=!1),e||us(n)),null;case 13:return op(e,n,r);case 4:return $t(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=sa(n,null,o,r):Ue(e,n,o,r),n.child;case 11:return Wg(e,n,n.type,n.pendingProps,r);case 7:return Ue(e,n,n.pendingProps,r),n.child;case 8:return Ue(e,n,n.pendingProps.children,r),n.child;case 12:return Ue(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Qi(n,n.type,o.value),Ue(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,hs(n),h=je(h),o=o(h),n.flags|=1,Ue(e,n,o,r),n.child;case 14:return tp(e,n,n.type,n.pendingProps,r);case 15:return ep(e,n,n.type,n.pendingProps,r);case 19:return up(e,n,r);case 31:return o=n.pendingProps,r=n.mode,o={mode:o.mode,children:o.children},e===null?(r=wu(o,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ei(e.child,o),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return np(e,n,r);case 24:return hs(n),o=je(Te),e===null?(h=Rh(),h===null&&(h=Zt,f=Sh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Ih(n),Qi(n,Te,h)):((e.lanes&r)!==0&&(Ch(e,n),wo(n,null,null,r),Ro()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Qi(n,Te,o)):(o=f.cache,Qi(n,Te,o),o!==h.cache&&Ah(n,[Te],r,!0))),Ue(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ci(e){e.flags|=4}function hp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!vy(n)){if(n=Sn.current,n!==null&&((xt&4194048)===xt?Yn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Yn))throw So=wh,Ym;e.flags|=8192}}function Iu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xa():536870912,e.lanes|=n,ua|=n)}function Vo(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function Z0(e,n,r){var o=n.pendingProps;switch(_h(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),bi(Te),Un(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(po(n)?Ci(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Hm())),ne(n),null;case 26:return r=n.memoizedState,e===null?(Ci(n),r!==null?(ne(n),hp(n,r)):(ne(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Ci(n),ne(n),hp(n,r)):(ne(n),n.flags&=-16777217):(e.memoizedProps!==o&&Ci(n),ne(n),n.flags&=-16777217),null;case 27:oi(n),r=yt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ci(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}e=ut.current,po(n)?jm(n):(e=hy(h,o,r),n.stateNode=e,Ci(n))}return ne(n),null;case 5:if(oi(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ci(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(e=ut.current,po(n))jm(n);else{switch(h=Bu(yt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(r,{is:o.is}):h.createElement(r)}}e[_e]=n,e[de]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Le(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ci(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ci(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=yt.current,po(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=$e,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||ry(e.nodeValue,r)),e||us(n)}else e=Bu(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=po(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[_e]=n}else yo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Hm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wi(n),n):(wi(n),null)}if(wi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),Iu(n,n.updateQueue),ne(n),null;case 4:return Un(),e===null&&Nf(n.stateNode.containerInfo),ne(n),null;case 10:return bi(n.type),ne(n),null;case 19:if(nt(Ae),h=n.memoizedState,h===null)return ne(n),null;if(o=(n.flags&128)!==0,f=h.rendering,f===null)if(o)Vo(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Au(e),f!==null){for(n.flags|=128,Vo(h,!1),e=f.updateQueue,n.updateQueue=e,Iu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)zm(r,e),r=r.sibling;return $(Ae,Ae.current&1|2),n.child}e=e.sibling}h.tail!==null&&dn()>Ou&&(n.flags|=128,o=!0,Vo(h,!1),n.lanes=4194304)}else{if(!o)if(e=Au(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Iu(n,e),Vo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return ne(n),null}else 2*dn()-h.renderingStartTime>Ou&&r!==536870912&&(n.flags|=128,o=!0,Vo(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=dn(),n.sibling=null,e=Ae.current,$(Ae,o?e&1|2:e&1),n):(ne(n),null);case 22:case 23:return wi(n),Mh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&Iu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&nt(fs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),bi(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function J0(e,n){switch(_h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return bi(Te),Un(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return oi(n),null;case 13:if(wi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));yo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return nt(Ae),null;case 4:return Un(),null;case 10:return bi(n.type),null;case 22:case 23:return wi(n),Mh(),e!==null&&nt(fs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return bi(Te),null;case 25:return null;default:return null}}function fp(e,n){switch(_h(n),n.tag){case 3:bi(Te),Un();break;case 26:case 27:case 5:oi(n);break;case 4:Un();break;case 13:wi(n);break;case 19:nt(Ae);break;case 10:bi(n.type);break;case 22:case 23:wi(n),Mh(),e!==null&&nt(fs);break;case 24:bi(Te)}}function xo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,_=r.inst;o=f(),_.destroy=o}r=r.next}while(r!==h)}}catch(E){Xt(n,n.return,E)}}function tr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var b=r,L=E;try{L()}catch(H){Xt(h,b,H)}}}o=o.next}while(o!==f)}}catch(H){Xt(n,n.return,H)}}function dp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{tg(n,r)}catch(o){Xt(e,e.return,o)}}}function mp(e,n,r){r.props=ms(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Xt(e,n,o)}}function Uo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Xt(e,n,h)}}function Xn(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xt(e,n,h)}else r.current=null}function gp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Xt(e,e.return,h)}}function of(e,n,r){try{var o=e.stateNode;vT(o,e.type,r,n),o[de]=n}catch(h){Xt(e,e.return,h)}}function pp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&lr(e.type)||e.tag===4}function lf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=zu));else if(o!==4&&(o===27&&lr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(uf(e,n,r),e=e.sibling;e!==null;)uf(e,n,r),e=e.sibling}function Cu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&lr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Cu(e,n,r),e=e.sibling;e!==null;)Cu(e,n,r),e=e.sibling}function yp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Le(n,o,r),n[_e]=e,n[de]=r}catch(f){Xt(e,e.return,f)}}var Di=!1,ce=!1,cf=!1,_p=typeof WeakSet=="function"?WeakSet:Set,De=null;function W0(e,n){if(e=e.containerInfo,xf=Ku,e=Dm(e),oh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,E=-1,b=-1,L=0,H=0,F=e,k=null;e:for(;;){for(var B;F!==r||h!==0&&F.nodeType!==3||(E=_+h),F!==f||o!==0&&F.nodeType!==3||(b=_+o),F.nodeType===3&&(_+=F.nodeValue.length),(B=F.firstChild)!==null;)k=F,F=B;for(;;){if(F===e)break e;if(k===r&&++L===h&&(E=_),k===f&&++H===o&&(b=_),(B=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=B}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Uf={focusedElem:e,selectionRange:r},Ku=!1,De=n;De!==null;)if(n=De,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,De=e;else for(;De!==null;){switch(n=De,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var gt=ms(r.type,h,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(gt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Xt(r,r.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)kf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,De=e;break}De=n.return}}function vp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:er(e,r),o&4&&xo(5,r);break;case 1:if(er(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(_){Xt(r,r.return,_)}else{var h=ms(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(r,r.return,_)}}o&64&&dp(r),o&512&&Uo(r,r.return);break;case 3:if(er(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{tg(e,n)}catch(_){Xt(r,r.return,_)}}break;case 27:n===null&&o&4&&yp(r);case 26:case 5:er(e,r),n===null&&o&4&&gp(r),o&512&&Uo(r,r.return);break;case 12:er(e,r);break;case 13:er(e,r),o&4&&Ap(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=lT.bind(null,r),wT(e,r))));break;case 22:if(o=r.memoizedState!==null||Di,!o){n=n!==null&&n.memoizedState!==null||ce,h=Di;var f=ce;Di=o,(ce=n)&&!f?nr(e,r,(r.subtreeFlags&8772)!==0):er(e,r),Di=h,ce=f}break;case 30:break;default:er(e,r)}}function Ep(e){var n=e.alternate;n!==null&&(e.alternate=null,Ep(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Hi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Wt=null,We=!1;function Oi(e,n,r){for(r=r.child;r!==null;)Tp(e,n,r),r=r.sibling}function Tp(e,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:ce||Xn(r,n),Oi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Xn(r,n);var o=Wt,h=We;lr(r.type)&&(Wt=r.stateNode,We=!1),Oi(e,n,r),Go(r.stateNode),Wt=o,We=h;break;case 5:ce||Xn(r,n);case 6:if(o=Wt,h=We,Wt=null,Oi(e,n,r),Wt=o,We=h,Wt!==null)if(We)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{Wt.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:Wt!==null&&(We?(e=Wt,uy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Jo(e)):uy(Wt,r.stateNode));break;case 4:o=Wt,h=We,Wt=r.stateNode.containerInfo,We=!0,Oi(e,n,r),Wt=o,We=h;break;case 0:case 11:case 14:case 15:ce||tr(2,r,n),ce||tr(4,r,n),Oi(e,n,r);break;case 1:ce||(Xn(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&mp(r,n,o)),Oi(e,n,r);break;case 21:Oi(e,n,r);break;case 22:ce=(o=ce)||r.memoizedState!==null,Oi(e,n,r),ce=o;break;default:Oi(e,n,r)}}function Ap(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jo(e)}catch(r){Xt(n,n.return,r)}}function tT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new _p),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new _p),n;default:throw Error(s(435,e.tag))}}function hf(e,n){var r=tT(e);n.forEach(function(o){var h=uT.bind(null,e,o);r.has(o)||(r.add(o),o.then(h,h))})}function ln(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(lr(E.type)){Wt=E.stateNode,We=!1;break t}break;case 5:Wt=E.stateNode,We=!1;break t;case 3:case 4:Wt=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(Wt===null)throw Error(s(160));Tp(f,_,h),Wt=null,We=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Sp(n,e),n=n.sibling}var On=null;function Sp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(tr(3,e,e.return),xo(3,e),tr(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(ce||r===null||Xn(r,r.return)),o&64&&Di&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=On;if(ln(n,e),un(e),o&512&&(ce||r===null||Xn(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Hr]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Le(f,o,r),f[_e]=e,le(f),o=f;break t;case"link":var _=yy("link","href",h).get(o+(r.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(o),Le(f,o,r),h.head.appendChild(f);break;case"meta":if(_=yy("meta","content",h).get(o+(r.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(E,1);break e}}f=h.createElement(o),Le(f,o,r),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[_e]=e,le(f),o=f}e.stateNode=o}else _y(h,e.type,e.stateNode);else e.stateNode=py(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?_y(h,e.type,e.stateNode):py(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&of(e,e.memoizedProps,r.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(ce||r===null||Xn(r,r.return)),r!==null&&o&4&&of(e,e.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(ce||r===null||Xn(r,r.return)),e.flags&32){h=e.stateNode;try{gn(h,"")}catch(B){Xt(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,of(e,h,r!==null?r.memoizedProps:h)),o&1024&&(cf=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(B){Xt(e,e.return,B)}}break;case 3:if(Hu=null,h=On,On=ju(n.containerInfo),ln(n,e),On=h,un(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Jo(n.containerInfo)}catch(B){Xt(e,e.return,B)}cf&&(cf=!1,bp(e));break;case 4:o=On,On=ju(e.stateNode.containerInfo),ln(n,e),un(e),On=o;break;case 12:ln(n,e),un(e);break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(yf=dn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hf(e,o)));break;case 22:h=e.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,L=Di,H=ce;if(Di=L||h,ce=H||b,ln(n,e),ce=H,Di=L,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||b||Di||ce||gs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){Xt(b,b.return,B)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){Xt(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,hf(e,r))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hf(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(pp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=lf(e);Cu(e,f,h);break;case 5:var _=r.stateNode;r.flags&32&&(gn(_,""),r.flags&=-33);var E=lf(e);Cu(e,E,_);break;case 3:case 4:var b=r.stateNode.containerInfo,L=lf(e);uf(e,L,b);break;default:throw Error(s(161))}}catch(H){Xt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function bp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;bp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function er(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vp(e,n.alternate,n),n=n.sibling}function gs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:tr(4,n,n.return),gs(n);break;case 1:Xn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&mp(n,n.return,r),gs(n);break;case 27:Go(n.stateNode);case 26:case 5:Xn(n,n.return),gs(n);break;case 22:n.memoizedState===null&&gs(n);break;case 30:gs(n);break;default:gs(n)}e=e.sibling}}function nr(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:nr(h,f,r),xo(4,f);break;case 1:if(nr(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Xt(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Wm(b[h],E)}catch(L){Xt(o,o.return,L)}}r&&_&64&&dp(f),Uo(f,f.return);break;case 27:yp(f);case 26:case 5:nr(h,f,r),r&&o===null&&_&4&&gp(f),Uo(f,f.return);break;case 12:nr(h,f,r);break;case 13:nr(h,f,r),r&&_&4&&Ap(h,f);break;case 22:f.memoizedState===null&&nr(h,f,r),Uo(f,f.return);break;case 30:break;default:nr(h,f,r)}n=n.sibling}}function ff(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Eo(r))}function df(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Eo(e))}function $n(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Rp(e,n,r,o),n=n.sibling}function Rp(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,r,o),h&2048&&xo(9,n);break;case 1:$n(e,n,r,o);break;case 3:$n(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Eo(e)));break;case 12:if(h&2048){$n(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else $n(e,n,r,o);break;case 13:$n(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,r,o):Po(e,n):f._visibility&2?$n(e,n,r,o):(f._visibility|=2,aa(e,n,r,o,(n.subtreeFlags&10256)!==0)),h&2048&&ff(_,n);break;case 24:$n(e,n,r,o),h&2048&&df(n.alternate,n);break;default:$n(e,n,r,o)}}function aa(e,n,r,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,_=n,E=r,b=o,L=_.flags;switch(_.tag){case 0:case 11:case 15:aa(f,_,E,b,h),xo(8,_);break;case 23:break;case 22:var H=_.stateNode;_.memoizedState!==null?H._visibility&2?aa(f,_,E,b,h):Po(f,_):(H._visibility|=2,aa(f,_,E,b,h)),h&&L&2048&&ff(_.alternate,_);break;case 24:aa(f,_,E,b,h),h&&L&2048&&df(_.alternate,_);break;default:aa(f,_,E,b,h)}n=n.sibling}}function Po(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Po(r,o),h&2048&&ff(o.alternate,o);break;case 24:Po(r,o),h&2048&&df(o.alternate,o);break;default:Po(r,o)}n=n.sibling}}var Lo=8192;function oa(e){if(e.subtreeFlags&Lo)for(e=e.child;e!==null;)wp(e),e=e.sibling}function wp(e){switch(e.tag){case 26:oa(e),e.flags&Lo&&e.memoizedState!==null&&zT(On,e.memoizedState,e.memoizedProps);break;case 5:oa(e);break;case 3:case 4:var n=On;On=ju(e.stateNode.containerInfo),oa(e),On=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Lo,Lo=16777216,oa(e),Lo=n):oa(e));break;default:oa(e)}}function Ip(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ko(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];De=o,Dp(o,e)}Ip(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cp(e),e=e.sibling}function Cp(e){switch(e.tag){case 0:case 11:case 15:ko(e),e.flags&2048&&tr(9,e,e.return);break;case 3:ko(e);break;case 12:ko(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Du(e)):ko(e);break;default:ko(e)}}function Du(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];De=o,Dp(o,e)}Ip(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:tr(8,n,n.return),Du(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Du(n));break;default:Du(n)}e=e.sibling}}function Dp(e,n){for(;De!==null;){var r=De;switch(r.tag){case 0:case 11:case 15:tr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Eo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,De=o;else t:for(r=e;De!==null;){o=De;var h=o.sibling,f=o.return;if(Ep(o),o===r){De=null;break t}if(h!==null){h.return=f,De=h;break t}De=f}}}var eT={getCacheForType:function(e){var n=je(Te),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},nT=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Zt=null,Ct=null,xt=0,Gt=0,cn=null,ir=!1,la=!1,mf=!1,Ni=0,oe=0,rr=0,ps=0,gf=0,bn=0,ua=0,zo=null,tn=null,pf=!1,yf=0,Ou=1/0,Nu=null,sr=null,Pe=0,ar=null,ca=null,ha=0,_f=0,vf=null,Op=null,Bo=0,Ef=null;function hn(){if((Ht&2)!==0&&xt!==0)return xt&-xt;if(q.T!==null){var e=Js;return e!==0?e:If()}return ji()}function Np(){bn===0&&(bn=(xt&536870912)===0||Bt?Ya():536870912);var e=Sn.current;return e!==null&&(e.flags|=32),bn}function fn(e,n,r){(e===Zt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(fa(e,0),or(e,xt,bn,!1)),ui(e,r),((Ht&2)===0||e!==Zt)&&(e===Zt&&((Ht&2)===0&&(ps|=r),oe===4&&or(e,xt,bn,!1)),Zn(e))}function Mp(e,n,r){if((Ht&6)!==0)throw Error(s(327));var o=!r&&(n&124)===0&&(n&e.expiredLanes)===0||qr(e,n),h=o?sT(e,n):Sf(e,n,!0),f=o;do{if(h===0){la&&!o&&or(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!iT(r)){h=Sf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=e;h=zo;var b=E.current.memoizedState.isDehydrated;if(b&&(fa(E,_).flags|=256),_=Sf(E,_,!1),_!==2){if(mf&&!b){E.errorRecoveryDisabledLanes|=f,ps|=f,h=4;break t}f=tn,tn=h,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){fa(e,0),or(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:or(o,n,bn,!ir);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=yf+300-dn(),10<h)){if(or(o,n,bn,!ir),Ds(o,0,!0)!==0)break t;o.timeoutHandle=oy(Vp.bind(null,o,r,tn,Nu,pf,n,bn,ps,ua,ir,f,2,-0,0),h);break t}Vp(o,r,tn,Nu,pf,n,bn,ps,ua,ir,f,0,-0,0)}}break}while(!0);Zn(e)}function Vp(e,n,r,o,h,f,_,E,b,L,H,F,k,B){if(e.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Qo={stylesheets:null,count:0,unsuspend:kT},wp(n),F=BT(),F!==null)){e.cancelPendingCommit=F(Bp.bind(null,e,n,f,r,o,h,_,E,b,H,1,k,B)),or(e,f,_,!L);return}Bp(e,n,f,r,o,h,_,E,b)}function iT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!an(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function or(e,n,r,o){n&=~gf,n&=~ps,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Be(h),_=1<<f;o[f]=-1,h&=~_}r!==0&&Pn(e,r,n)}function Mu(){return(Ht&6)===0?(jo(0),!1):!0}function Tf(){if(Ct!==null){if(Gt===0)var e=Ct.return;else e=Ct,Si=cs=null,Lh(e),ra=null,No=0,e=Ct;for(;e!==null;)fp(e.alternate,e),e=e.return;Ct=null}}function fa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,TT(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Tf(),Zt=e,Ct=r=Ei(e.current,null),xt=n,Gt=0,cn=null,ir=!1,la=qr(e,n),mf=!1,ua=bn=gf=ps=rr=oe=0,tn=zo=null,pf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Be(o),f=1<<h;n|=e[h],o&=~f}return Ni=n,tu(),r}function xp(e,n){bt=null,q.H=vu,n===Ao||n===uu?(n=Zm(),Gt=3):n===Ym?(n=Zm(),Gt=4):Gt=n===Jg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Ct===null&&(oe=1,bu(e,vn(n,e.current)))}function Up(){var e=q.H;return q.H=vu,e===null?vu:e}function Pp(){var e=q.A;return q.A=eT,e}function Af(){oe=4,ir||(xt&4194048)!==xt&&Sn.current!==null||(la=!0),(rr&134217727)===0&&(ps&134217727)===0||Zt===null||or(Zt,xt,bn,!1)}function Sf(e,n,r){var o=Ht;Ht|=2;var h=Up(),f=Pp();(Zt!==e||xt!==n)&&(Nu=null,fa(e,n)),n=!1;var _=oe;t:do try{if(Gt!==0&&Ct!==null){var E=Ct,b=cn;switch(Gt){case 8:Tf(),_=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var L=Gt;if(Gt=0,cn=null,da(e,E,b,L),r&&la){_=0;break t}break;default:L=Gt,Gt=0,cn=null,da(e,E,b,L)}}rT(),_=oe;break}catch(H){xp(e,H)}while(!0);return n&&e.shellSuspendCounter++,Si=cs=null,Ht=o,q.H=h,q.A=f,Ct===null&&(Zt=null,xt=0,tu()),_}function rT(){for(;Ct!==null;)Lp(Ct)}function sT(e,n){var r=Ht;Ht|=2;var o=Up(),h=Pp();Zt!==e||xt!==n?(Nu=null,Ou=dn()+500,fa(e,n)):la=qr(e,n);t:do try{if(Gt!==0&&Ct!==null){n=Ct;var f=cn;e:switch(Gt){case 1:Gt=0,cn=null,da(e,n,f,1);break;case 2:case 9:if(Xm(f)){Gt=0,cn=null,kp(n);break}n=function(){Gt!==2&&Gt!==9||Zt!==e||(Gt=7),Zn(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Xm(f)?(Gt=0,cn=null,kp(n)):(Gt=0,cn=null,da(e,n,f,7));break;case 5:var _=null;switch(Ct.tag){case 26:_=Ct.memoizedState;case 5:case 27:var E=Ct;if(!_||vy(_)){Gt=0,cn=null;var b=E.sibling;if(b!==null)Ct=b;else{var L=E.return;L!==null?(Ct=L,Vu(L)):Ct=null}break e}}Gt=0,cn=null,da(e,n,f,5);break;case 6:Gt=0,cn=null,da(e,n,f,6);break;case 8:Tf(),oe=6;break t;default:throw Error(s(462))}}aT();break}catch(H){xp(e,H)}while(!0);return Si=cs=null,q.H=o,q.A=h,Ht=r,Ct!==null?0:(Zt=null,xt=0,tu(),oe)}function aT(){for(;Ct!==null&&!Ga();)Lp(Ct)}function Lp(e){var n=cp(e.alternate,e,Ni);e.memoizedProps=e.pendingProps,n===null?Vu(e):Ct=n}function kp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=rp(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=rp(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Lh(n);default:fp(r,n),n=Ct=zm(n,Ni),n=cp(r,n,Ni)}e.memoizedProps=e.pendingProps,n===null?Vu(e):Ct=n}function da(e,n,r,o){Si=cs=null,Lh(n),ra=null,No=0;var h=n.return;try{if(X0(e,h,n,r,xt)){oe=1,bu(e,vn(r,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;oe=1,bu(e,vn(r,e.current)),Ct=null;return}n.flags&32768?(Bt||o===1?e=!0:la||(xt&536870912)!==0?e=!1:(ir=e=!0,(o===2||o===9||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),zp(n,e)):Vu(n)}function Vu(e){var n=e;do{if((n.flags&32768)!==0){zp(n,ir);return}e=n.return;var r=Z0(n.alternate,n,Ni);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);oe===0&&(oe=5)}function zp(e,n){do{var r=J0(e.alternate,e);if(r!==null){r.flags&=32767,Ct=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=r}while(e!==null);oe=6,Ct=null}function Bp(e,n,r,o,h,f,_,E,b){e.cancelPendingCommit=null;do xu();while(Pe!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=fh,$a(e,r,f,_,E,b),e===Zt&&(Ct=Zt=null,xt=0),ca=n,ar=e,ha=r,_f=f,vf=h,Op=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,cT(kr,function(){return Fp(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=tt.p,tt.p=2,_=Ht,Ht|=4;try{W0(e,n,r)}finally{Ht=_,tt.p=h,q.T=o}}Pe=1,jp(),qp(),Hp()}}function jp(){if(Pe===1){Pe=0;var e=ar,n=ca,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{Sp(n,e);var f=Uf,_=Dm(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Cm(E.ownerDocument.documentElement,E)){if(b!==null&&oh(E)){var L=b.start,H=b.end;if(H===void 0&&(H=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(H,E.value.length);else{var F=E.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var B=k.getSelection(),gt=E.textContent.length,ht=Math.min(b.start,gt),Yt=b.end===void 0?ht:Math.min(b.end,gt);!B.extend&&ht>Yt&&(_=Yt,Yt=ht,ht=_);var V=Im(E,ht),D=Im(E,Yt);if(V&&D&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var P=F.createRange();P.setStart(V.node,V.offset),B.removeAllRanges(),ht>Yt?(B.addRange(P),B.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),B.addRange(P))}}}}for(F=[],B=E;B=B.parentNode;)B.nodeType===1&&F.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Ku=!!xf,Uf=xf=null}finally{Ht=h,tt.p=o,q.T=r}}e.current=n,Pe=2}}function qp(){if(Pe===2){Pe=0;var e=ar,n=ca,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{vp(e,n.alternate,n)}finally{Ht=h,tt.p=o,q.T=r}}Pe=3}}function Hp(){if(Pe===4||Pe===3){Pe=0,Dl();var e=ar,n=ca,r=ha,o=Op;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,ca=ar=null,Gp(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(sr=null),Os(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=tt.p,tt.p=2,q.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{q.T=n,tt.p=h}}(ha&3)!==0&&xu(),Zn(e),h=e.pendingLanes,(r&4194090)!==0&&(h&42)!==0?e===Ef?Bo++:(Bo=0,Ef=e):Bo=0,jo(0)}}function Gp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Eo(n)))}function xu(e){return jp(),qp(),Hp(),Fp()}function Fp(){if(Pe!==5)return!1;var e=ar,n=_f;_f=0;var r=Os(ha),o=q.T,h=tt.p;try{tt.p=32>r?32:r,q.T=null,r=vf,vf=null;var f=ar,_=ha;if(Pe=0,ca=ar=null,ha=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,Cp(f.current),Rp(f,f.current,_,r),Ht=E,jo(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{tt.p=h,q.T=o,Gp(e,n)}}function Kp(e,n,r){n=vn(r,n),n=Zh(e.stateNode,n,2),e=$i(e,n,2),e!==null&&(ui(e,2),Zn(e))}function Xt(e,n,r){if(e.tag===3)Kp(e,e,r);else for(;n!==null;){if(n.tag===3){Kp(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(sr===null||!sr.has(o))){e=vn(r,e),r=$g(2),o=$i(n,r,2),o!==null&&(Zg(r,o,n,e),ui(o,2),Zn(o));break}}n=n.return}}function bf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new nT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(mf=!0,h.add(r),e=oT.bind(null,e,n,r),n.then(e,e))}function oT(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Zt===e&&(xt&r)===r&&(oe===4||oe===3&&(xt&62914560)===xt&&300>dn()-yf?(Ht&2)===0&&fa(e,0):gf|=r,ua===xt&&(ua=0)),Zn(e)}function Qp(e,n){n===0&&(n=Xa()),e=Ys(e,n),e!==null&&(ui(e,n),Zn(e))}function lT(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Qp(e,r)}function uT(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Qp(e,r)}function cT(e,n){return Pr(e,n)}var Uu=null,ma=null,Rf=!1,Pu=!1,wf=!1,ys=0;function Zn(e){e!==ma&&e.next===null&&(ma===null?Uu=ma=e:ma=ma.next=e),Pu=!0,Rf||(Rf=!0,fT())}function jo(e,n){if(!wf&&Pu){wf=!0;do for(var r=!1,o=Uu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Be(42|e)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Zp(o,f))}else f=xt,f=Ds(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||qr(o,f)||(r=!0,Zp(o,f));o=o.next}while(r);wf=!1}}function hT(){Yp()}function Yp(){Pu=Rf=!1;var e=0;ys!==0&&(ET()&&(e=ys),ys=0);for(var n=dn(),r=null,o=Uu;o!==null;){var h=o.next,f=Xp(o,n);f===0?(o.next=null,r===null?Uu=h:r.next=h,h===null&&(ma=r)):(r=o,(e!==0||(f&3)!==0)&&(Pu=!0)),o=h}jo(e)}function Xp(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-Be(f),E=1<<_,b=h[_];b===-1?((E&r)===0||(E&o)!==0)&&(h[_]=Qa(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,r=xt,r=Ds(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Lr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||qr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Lr(o),Os(r)){case 2:case 8:r=Is;break;case 32:r=kr;break;case 268435456:r=Cs;break;default:r=kr}return o=$p.bind(null,e),r=Pr(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Lr(o),e.callbackPriority=2,e.callbackNode=null,2}function $p(e,n){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(xu()&&e.callbackNode!==r)return null;var o=xt;return o=Ds(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Mp(e,o,n),Xp(e,dn()),e.callbackNode!=null&&e.callbackNode===r?$p.bind(null,e):null)}function Zp(e,n){if(xu())return null;Mp(e,n,!0)}function fT(){AT(function(){(Ht&6)!==0?Pr(Fa,hT):Yp()})}function If(){return ys===0&&(ys=Ya()),ys}function Jp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ps(""+e)}function Wp(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function dT(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Jp((h[de]||null).action),_=o.submitter;_&&(n=(n=_[de]||null)?Jp(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new Ls("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ys!==0){var b=_?Wp(h,_):new FormData(h);Kh(r,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=_?Wp(h,_):new FormData(h),Kh(r,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var Cf=0;Cf<hh.length;Cf++){var Df=hh[Cf],mT=Df.toLowerCase(),gT=Df[0].toUpperCase()+Df.slice(1);Dn(mT,"on"+gT)}Dn(Mm,"onAnimationEnd"),Dn(Vm,"onAnimationIteration"),Dn(xm,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(M0,"onTransitionRun"),Dn(V0,"onTransitionStart"),Dn(x0,"onTransitionCancel"),Dn(Um,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qo));function ty(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(H){Su(H)}h.currentTarget=null,f=b}else for(_=0;_<o.length;_++){if(E=o[_],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(H){Su(H)}h.currentTarget=null,f=b}}}}function Dt(e,n){var r=n[Ja];r===void 0&&(r=n[Ja]=new Set);var o=e+"__bubble";r.has(o)||(ey(n,e,2,!1),r.add(o))}function Of(e,n,r){var o=0;n&&(o|=4),ey(r,e,o,n)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function Nf(e){if(!e[Lu]){e[Lu]=!0,Wa.forEach(function(r){r!=="selectionchange"&&(pT.has(r)||Of(r,!1,e),Of(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Lu]||(n[Lu]=!0,Of("selectionchange",!1,n))}}function ey(e,n,r,o){switch(Ry(n)){case 2:var h=HT;break;case 8:h=GT;break;default:h=Ff}r=h.bind(null,n,r,e),h=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function Mf(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var b=_.tag;if((b===3||b===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=ci(E),_===null)return;if(b=_.tag,b===5||b===6||b===26||b===27){o=f=_;continue t}E=E.parentNode}}o=o.return}zl(function(){var L=f,H=pn(r),F=[];t:{var k=Pm.get(e);if(k!==void 0){var B=Ls,gt=e;switch(e){case"keypress":if(qn(r)===0)break t;case"keydown":case"keyup":B=Hs;break;case"focusin":gt="focus",B=Bs;break;case"focusout":gt="blur",B=Bs;break;case"beforeblur":case"afterblur":B=Bs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Ql;break;case Mm:case Vm:case xm:B=js;break;case Um:B=Xl;break;case"scroll":case"scrollend":B=Bl;break;case"wheel":B=Gs;break;case"copy":case"cut":case"paste":B=qs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=ho;break;case"toggle":case"beforetoggle":B=Zl}var ht=(n&4)!==0,Yt=!ht&&(e==="scroll"||e==="scrollend"),V=ht?k!==null?k+"Capture":null:k;ht=[];for(var D=L,P;D!==null;){var G=D;if(P=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||P===null||V===null||(G=$r(D,V),G!=null&&ht.push(Ho(D,G,P))),Yt)break;D=D.return}0<ht.length&&(k=new B(k,gt,null,r,H),F.push({event:k,listeners:ht}))}}if((n&7)===0){t:{if(k=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",k&&r!==mi&&(gt=r.relatedTarget||r.fromElement)&&(ci(gt)||gt[mn]))break t;if((B||k)&&(k=H.window===H?H:(k=H.ownerDocument)?k.defaultView||k.parentWindow:window,B?(gt=r.relatedTarget||r.toElement,B=L,gt=gt?ci(gt):null,gt!==null&&(Yt=c(gt),ht=gt.tag,gt!==Yt||ht!==5&&ht!==27&&ht!==6)&&(gt=null)):(B=null,gt=L),B!==gt)){if(ht=_n,G="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ht=ho,G="onPointerLeave",V="onPointerEnter",D="pointer"),Yt=B==null?k:kn(B),P=gt==null?k:kn(gt),k=new ht(G,D+"leave",B,r,H),k.target=Yt,k.relatedTarget=P,G=null,ci(H)===L&&(ht=new ht(V,D+"enter",gt,r,H),ht.target=P,ht.relatedTarget=Yt,G=ht),Yt=G,B&&gt)e:{for(ht=B,V=gt,D=0,P=ht;P;P=ga(P))D++;for(P=0,G=V;G;G=ga(G))P++;for(;0<D-P;)ht=ga(ht),D--;for(;0<P-D;)V=ga(V),P--;for(;D--;){if(ht===V||V!==null&&ht===V.alternate)break e;ht=ga(ht),V=ga(V)}ht=null}else ht=null;B!==null&&ny(F,k,B,ht,!1),gt!==null&&Yt!==null&&ny(F,Yt,gt,ht,!0)}}t:{if(k=L?kn(L):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var rt=Tm;else if(Ee(k))if(Am)rt=D0;else{rt=I0;var wt=w0}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?L&&ro(L.elementType)&&(rt=Tm):rt=C0;if(rt&&(rt=rt(e,L))){vi(F,rt,r,H);break t}wt&&wt(e,k,L),e==="focusout"&&L&&k.type==="number"&&L.memoizedProps.value!=null&&Fi(k,"number",k.value)}switch(wt=L?kn(L):window,e){case"focusin":(Ee(wt)||wt.contentEditable==="true")&&(Fs=wt,lh=L,go=null);break;case"focusout":go=lh=Fs=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,Om(F,r,H);break;case"selectionchange":if(N0)break;case"keydown":case"keyup":Om(F,r,H)}var at;if(Fn)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Mt?j(e,r)&&(dt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(dt="onCompositionStart");dt&&(y&&r.locale!=="ko"&&(Mt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Mt&&(at=ao()):(jn=H,Ki="value"in jn?jn.value:jn.textContent,Mt=!0)),wt=ku(L,dt),0<wt.length&&(dt=new uo(dt,e,null,r,H),F.push({event:dt,listeners:wt}),at?dt.data=at:(at=J(r),at!==null&&(dt.data=at)))),(at=m?ve(e,r):Vt(e,r))&&(dt=ku(L,"onBeforeInput"),0<dt.length&&(wt=new uo("onBeforeInput","beforeinput",null,r,H),F.push({event:wt,listeners:dt}),wt.data=at)),dT(F,e,L,r,H)}ty(F,n)})}function Ho(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ku(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$r(e,r),h!=null&&o.unshift(Ho(e,h,f)),h=$r(e,n),h!=null&&o.push(Ho(e,h,f))),e.tag===3)return o;e=e.return}return[]}function ga(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ny(e,n,r,o,h){for(var f=n._reactName,_=[];r!==null&&r!==o;){var E=r,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=$r(r,f),L!=null&&_.unshift(Ho(r,L,b))):h||(L=$r(r,f),L!=null&&_.push(Ho(r,L,b)))),r=r.return}_.length!==0&&e.push({event:n,listeners:_})}var yT=/\r\n?/g,_T=/\u0000|\uFFFD/g;function iy(e){return(typeof e=="string"?e:""+e).replace(yT,`
`).replace(_T,"")}function ry(e,n){return n=iy(n),iy(e)===n}function zu(){}function Qt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||gn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&gn(e,""+o);break;case"className":zn(e,"class",o);break;case"tabIndex":zn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(e,r,o);break;case"style":io(e,o,f);break;case"data":if(n!=="object"){zn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ps(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Qt(e,n,"name",h.name,h,null),Qt(e,n,"formEncType",h.formEncType,h,null),Qt(e,n,"formMethod",h.formMethod,h,null),Qt(e,n,"formTarget",h.formTarget,h,null)):(Qt(e,n,"encType",h.encType,h,null),Qt(e,n,"method",h.method,h,null),Qt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ps(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=zu);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Ps(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),Gi(e,"popover",o);break;case"xlinkActuate":Ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Gi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=eh.get(r)||r,Gi(e,r,o))}}function Vf(e,n,r,o,h,f){switch(r){case"style":io(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?gn(e,o):(typeof o=="number"||typeof o=="bigint")&&gn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ns.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[de]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Gi(e,r,o)}}}function Le(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(e,n,f,_,r,null)}}h&&Qt(e,n,"srcSet",r.srcSet,r,null),o&&Qt(e,n,"src",r.src,r,null);return;case"input":Dt("invalid",e);var E=f=_=h=null,b=null,L=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":h=H;break;case"type":_=H;break;case"checked":b=H;break;case"defaultChecked":L=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Qt(e,n,o,H,r,null)}}Qr(e,f,E,b,L,_,h,!1),Us(e);return;case"select":Dt("invalid",e),o=_=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Qt(e,n,h,E,r,null)}n=f,r=_,e.multiple=!!o,n!=null?di(e,!!o,n,!1):r!=null&&di(e,!!o,r,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(_ in r)if(r.hasOwnProperty(_)&&(E=r[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qt(e,n,_,E,r,null)}Yr(e,o,h,f),Us(e);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(o=r[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Qt(e,n,b,o,r,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<qo.length;o++)Dt(qo[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(o=r[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(e,n,L,o,r,null)}return;default:if(ro(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&Vf(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Qt(e,n,E,o,r,null))}function vT(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,b=null,L=null,H=null;for(B in r){var F=r[B];if(r.hasOwnProperty(B)&&F!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=F;default:o.hasOwnProperty(B)||Qt(e,n,B,null,o,F)}}for(var k in o){var B=o[k];if(F=r[k],o.hasOwnProperty(k)&&(B!=null||F!=null))switch(k){case"type":f=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":H=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==F&&Qt(e,n,k,B,o,F)}}sn(e,_,E,b,L,H,f,h);return;case"select":B=_=E=k=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||Qt(e,n,f,null,o,b)}for(h in o)if(f=o[h],b=r[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==b&&Qt(e,n,h,f,o,b)}n=E,r=_,o=B,k!=null?di(e,!!r,k,!1):!!o!=!!r&&(n!=null?di(e,!!r,n,!0):di(e,!!r,r?[]:"",!1));return;case"textarea":B=k=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(e,n,E,null,o,h)}for(_ in o)if(h=o[_],f=r[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":k=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Qt(e,n,_,h,o,f)}Ft(e,k,B);return;case"option":for(var gt in r)if(k=r[gt],r.hasOwnProperty(gt)&&k!=null&&!o.hasOwnProperty(gt))switch(gt){case"selected":e.selected=!1;break;default:Qt(e,n,gt,null,o,k)}for(b in o)if(k=o[b],B=r[b],o.hasOwnProperty(b)&&k!==B&&(k!=null||B!=null))switch(b){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Qt(e,n,b,k,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in r)k=r[ht],r.hasOwnProperty(ht)&&k!=null&&!o.hasOwnProperty(ht)&&Qt(e,n,ht,null,o,k);for(L in o)if(k=o[L],B=r[L],o.hasOwnProperty(L)&&k!==B&&(k!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Qt(e,n,L,k,o,B)}return;default:if(ro(n)){for(var Yt in r)k=r[Yt],r.hasOwnProperty(Yt)&&k!==void 0&&!o.hasOwnProperty(Yt)&&Vf(e,n,Yt,void 0,o,k);for(H in o)k=o[H],B=r[H],!o.hasOwnProperty(H)||k===B||k===void 0&&B===void 0||Vf(e,n,H,k,o,B);return}}for(var V in r)k=r[V],r.hasOwnProperty(V)&&k!=null&&!o.hasOwnProperty(V)&&Qt(e,n,V,null,o,k);for(F in o)k=o[F],B=r[F],!o.hasOwnProperty(F)||k===B||k==null&&B==null||Qt(e,n,F,k,o,B)}var xf=null,Uf=null;function Bu(e){return e.nodeType===9?e:e.ownerDocument}function sy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ay(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Pf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Lf=null;function ET(){var e=window.event;return e&&e.type==="popstate"?e===Lf?!1:(Lf=e,!0):(Lf=null,!1)}var oy=typeof setTimeout=="function"?setTimeout:void 0,TT=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(e){return ly.resolve(null).then(e).catch(ST)}:oy;function ST(e){setTimeout(function(){throw e})}function lr(e){return e==="head"}function uy(e,n){var r=n,o=0,h=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<o&&8>o){r=o;var _=e.ownerDocument;if(r&1&&Go(_.documentElement),r&2&&Go(_.body),r&4)for(r=_.head,Go(r),_=r.firstChild;_;){var E=_.nextSibling,b=_.nodeName;_[Hr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&_.rel.toLowerCase()==="stylesheet"||r.removeChild(_),_=E}}if(h===0){e.removeChild(f),Jo(n);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:o=r.charCodeAt(0)-48;else o=0;r=f}while(r);Jo(n)}function kf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":kf(r),Hi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function bT(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Hr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function RT(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Nn(e.nextSibling),e===null))return null;return e}function zf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function wT(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Bf=null;function cy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function hy(e,n,r){switch(n=Bu(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Go(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Hi(e)}var Rn=new Map,fy=new Set;function ju(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mi=tt.d;tt.d={f:IT,r:CT,D:DT,C:OT,L:NT,m:MT,X:xT,S:VT,M:UT};function IT(){var e=Mi.f(),n=Mu();return e||n}function CT(e){var n=Ln(e);n!==null&&n.tag===5&&n.type==="form"?Mg(n):Mi.r(e)}var pa=typeof document>"u"?null:document;function dy(e,n,r){var o=pa;if(o&&typeof n=="string"&&n){var h=me(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),fy.has(h)||(fy.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Le(n,"link",e),le(n),o.head.appendChild(n)))}}function DT(e){Mi.D(e),dy("dns-prefetch",e,null)}function OT(e,n){Mi.C(e,n),dy("preconnect",e,n)}function NT(e,n,r){Mi.L(e,n,r);var o=pa;if(o&&e&&n){var h='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+me(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+me(r.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var f=h;switch(n){case"style":f=ya(e);break;case"script":f=_a(e)}Rn.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Rn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Fo(f))||n==="script"&&o.querySelector(Ko(f))||(n=o.createElement("link"),Le(n,"link",e),le(n),o.head.appendChild(n)))}}function MT(e,n){Mi.m(e,n);var r=pa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_a(e)}if(!Rn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Rn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ko(f)))return}o=r.createElement("link"),Le(o,"link",e),le(o),r.head.appendChild(o)}}}function VT(e,n,r){Mi.S(e,n,r);var o=pa;if(o&&e){var h=Qe(o).hoistableStyles,f=ya(e);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Fo(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Rn.get(f))&&jf(e,r);var b=_=o.createElement("link");le(b),Le(b,"link",e),b._p=new Promise(function(L,H){b.onload=L,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,qu(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function xT(e,n){Mi.X(e,n);var r=pa;if(r&&e){var o=Qe(r).hoistableScripts,h=_a(e),f=o.get(h);f||(f=r.querySelector(Ko(h)),f||(e=A({src:e,async:!0},n),(n=Rn.get(h))&&qf(e,n),f=r.createElement("script"),le(f),Le(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function UT(e,n){Mi.M(e,n);var r=pa;if(r&&e){var o=Qe(r).hoistableScripts,h=_a(e),f=o.get(h);f||(f=r.querySelector(Ko(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Rn.get(h))&&qf(e,n),f=r.createElement("script"),le(f),Le(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function my(e,n,r,o){var h=(h=yt.current)?ju(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ya(r.href),r=Qe(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ya(r.href);var f=Qe(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Fo(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Rn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Rn.set(e,r),f||PT(h,e,r,_.state))),n&&o===null)throw Error(s(528,""));return _}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=_a(r),r=Qe(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ya(e){return'href="'+me(e)+'"'}function Fo(e){return'link[rel="stylesheet"]['+e+"]"}function gy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function PT(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Le(n,"link",r),le(n),e.head.appendChild(n))}function _a(e){return'[src="'+me(e)+'"]'}function Ko(e){return"script[async]"+e}function py(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+me(r.href)+'"]');if(o)return n.instance=o,le(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),le(o),Le(o,"style",h),qu(o,r.precedence,e),n.instance=o;case"stylesheet":h=ya(r.href);var f=e.querySelector(Fo(h));if(f)return n.state.loading|=4,n.instance=f,le(f),f;o=gy(r),(h=Rn.get(h))&&jf(o,h),f=(e.ownerDocument||e).createElement("link"),le(f);var _=f;return _._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),Le(f,"link",o),n.state.loading|=4,qu(f,r.precedence,e),n.instance=f;case"script":return f=_a(r.src),(h=e.querySelector(Ko(f)))?(n.instance=h,le(h),h):(o=r,(h=Rn.get(f))&&(o=A({},r),qf(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),Le(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,qu(o,r.precedence,e));return n.instance}function qu(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function jf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function qf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Hu=null;function yy(e,n,r){if(Hu===null){var o=new Map,h=Hu=new Map;h.set(r,o)}else h=Hu,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[Hr]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function _y(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function LT(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function vy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Qo=null;function kT(){}function zT(e,n,r){if(Qo===null)throw Error(s(475));var o=Qo;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=ya(r.href),f=e.querySelector(Fo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Gu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,le(f);return}f=e.ownerDocument||e,r=gy(r),(h=Rn.get(h))&&jf(r,h),f=f.createElement("link"),le(f);var _=f;_._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),Le(f,"link",r),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Gu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function BT(){if(Qo===null)throw Error(s(475));var e=Qo;return e.stylesheets&&e.count===0&&Hf(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&Hf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function Gu(){if(this.count--,this.count===0){if(this.stylesheets)Hf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fu=null;function Hf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fu=new Map,n.forEach(jT,e),Fu=null,Gu.call(e))}function jT(e,n){if(!(n.state.loading&4)){var r=Fu.get(e);if(r)var o=r.get(null);else{r=new Map,Fu.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),o=_)}o&&r.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=r.get(_)||o,f===o&&r.set(null,h),r.set(_,h),this.count++,o=Gu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Yo={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function qT(e,n,r,o,h,f,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Ey(e,n,r,o,h,f,_,E,b,L,H,F){return e=new qT(e,n,r,_,E,b,L,F),n=1,f===!0&&(n|=24),f=on(3,null,null,n),e.current=f,f.stateNode=e,n=Sh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Ih(f),e}function Ty(e){return e?(e=Xs,e):Xs}function Ay(e,n,r,o,h,f){h=Ty(h),o.context===null?o.context=h:o.pendingContext=h,o=Xi(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=$i(e,o,n),r!==null&&(fn(r,e,n),bo(r,e,n))}function Sy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Gf(e,n){Sy(e,n),(e=e.alternate)&&Sy(e,n)}function by(e){if(e.tag===13){var n=Ys(e,67108864);n!==null&&fn(n,e,67108864),Gf(e,67108864)}}var Ku=!0;function HT(e,n,r,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=2,Ff(e,n,r,o)}finally{tt.p=f,q.T=h}}function GT(e,n,r,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=8,Ff(e,n,r,o)}finally{tt.p=f,q.T=h}}function Ff(e,n,r,o){if(Ku){var h=Kf(o);if(h===null)Mf(e,n,o,Qu,r),wy(e,o);else if(KT(h,e,n,r,o))o.stopPropagation();else if(wy(e,o),n&4&&-1<FT.indexOf(e)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=wn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var b=1<<31-Be(_);E.entanglements[1]|=b,_&=~b}Zn(f),(Ht&6)===0&&(Ou=dn()+500,jo(0))}}break;case 13:E=Ys(f,2),E!==null&&fn(E,f,2),Mu(),Gf(f,2)}if(f=Kf(o),f===null&&Mf(e,n,o,Qu,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Mf(e,n,o,null,r)}}function Kf(e){return e=pn(e),Qf(e)}var Qu=null;function Qf(e){if(Qu=null,e=ci(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Qu=e,null}function Ry(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xc()){case Fa:return 2;case Is:return 8;case kr:case $c:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var Yf=!1,ur=null,cr=null,hr=null,Xo=new Map,$o=new Map,fr=[],FT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wy(e,n){switch(e){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Xo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(n.pointerId)}}function Zo(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&by(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function KT(e,n,r,o,h){switch(n){case"focusin":return ur=Zo(ur,e,n,r,o,h),!0;case"dragenter":return cr=Zo(cr,e,n,r,o,h),!0;case"mouseover":return hr=Zo(hr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Xo.set(f,Zo(Xo.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,$o.set(f,Zo($o.get(f)||null,e,n,r,o,h)),!0}return!1}function Iy(e){var n=ci(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Ml(e.priority,function(){if(r.tag===13){var o=hn();o=Bi(o);var h=Ys(r,o);h!==null&&fn(h,r,o),Gf(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Kf(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);mi=o,r.target.dispatchEvent(o),mi=null}else return n=Ln(r),n!==null&&by(n),e.blockedOn=r,!1;n.shift()}return!0}function Cy(e,n,r){Yu(e)&&r.delete(n)}function QT(){Yf=!1,ur!==null&&Yu(ur)&&(ur=null),cr!==null&&Yu(cr)&&(cr=null),hr!==null&&Yu(hr)&&(hr=null),Xo.forEach(Cy),$o.forEach(Cy)}function Xu(e,n){e.blockedOn===n&&(e.blockedOn=null,Yf||(Yf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,QT)))}var $u=null;function Dy(e){$u!==e&&($u=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){$u===e&&($u=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Qf(o||r)===null)continue;break}var f=Ln(r);f!==null&&(e.splice(n,3),n-=3,Kh(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Jo(e){function n(b){return Xu(b,e)}ur!==null&&Xu(ur,e),cr!==null&&Xu(cr,e),hr!==null&&Xu(hr,e),Xo.forEach(n),$o.forEach(n);for(var r=0;r<fr.length;r++){var o=fr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<fr.length&&(r=fr[0],r.blockedOn===null);)Iy(r),r.blockedOn===null&&fr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],_=h[de]||null;if(typeof f=="function")_||Dy(r);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[de]||null)E=_.formAction;else if(Qf(h)!==null)continue}else E=_.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),Dy(r)}}}function Xf(e){this._internalRoot=e}Zu.prototype.render=Xf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=hn();Ay(r,o,e,n,null,null)},Zu.prototype.unmount=Xf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ay(e.current,2,null,e,null,null),Mu(),n[mn]=null}};function Zu(e){this._internalRoot=e}Zu.prototype.unstable_scheduleHydration=function(e){if(e){var n=ji();e={blockedOn:null,target:e,priority:n};for(var r=0;r<fr.length&&n!==0&&n<fr[r].priority;r++);fr.splice(r,0,e),r===0&&Iy(e)}};var Oy=t.version;if(Oy!=="19.1.0")throw Error(s(527,Oy,"19.1.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var YT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{se=Ju.inject(YT),qt=Ju}catch{}}return tl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",h=Kg,f=Qg,_=Yg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Ey(e,1,!1,null,null,r,o,h,f,_,E,null),e[mn]=n.current,Nf(e),new Xf(n)},tl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,h="",f=Kg,_=Qg,E=Yg,b=null,L=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(L=r.formState)),n=Ey(e,1,!0,n,r??null,o,h,f,_,E,b,L),n.context=Ty(null),r=n.current,o=hn(),o=Bi(o),h=Xi(o),h.callback=null,$i(r,h,o),r=o,n.current.lanes=r,ui(n,r),Zn(n),e[mn]=n.current,Nf(e),new Zu(n)},tl.version="19.1.0",tl}var By;function rA(){if(By)return Jf.exports;By=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Jf.exports=iA(),Jf.exports}var sA=rA();const aA=()=>{};var jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},oA=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],g=a[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},_v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,g=d?a[l+1]:0,p=l+2<a.length,v=p?a[l+2]:0,A=c>>2,C=(c&3)<<4|g>>4;let z=(g&15)<<2|v>>6,Q=v&63;p||(Q=64,d||(z=64)),s.push(i[A],i[C],i[z],i[Q])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(yv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):oA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const C=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||g==null||v==null||C==null)throw new lA;const z=c<<2|g>>4;if(s.push(z),v!==64){const Q=g<<4&240|v>>2;if(s.push(Q),C!==64){const et=v<<6&192|C;s.push(et)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class lA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uA=function(a){const t=yv(a);return _v.encodeByteArray(t,!0)},gc=function(a){return uA(a).replace(/\./g,"")},vv=function(a){try{return _v.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=()=>cA().__FIREBASE_DEFAULTS__,fA=()=>{if(typeof process>"u"||typeof jy>"u")return;const a=jy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},dA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&vv(a[1]);return t&&JSON.parse(t)},Nc=()=>{try{return aA()||hA()||fA()||dA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Ev=a=>{var t,i;return(i=(t=Nc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[a]},mA=a=>{const t=Ev(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},Tv=()=>{var a;return(a=Nc())===null||a===void 0?void 0:a.config},Av=a=>{var t;return(t=Nc())===null||t===void 0?void 0:t[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[gc(JSON.stringify(i)),gc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function _A(){var a;const t=(a=Nc())===null||a===void 0?void 0:a.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function TA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AA(){const a=Ke();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function SA(){return!_A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bA(){try{return typeof indexedDB=="object"}catch{return!1}}function RA(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="FirebaseError";class ki extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=wA,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,El.prototype.create)}}class El{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?IA(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ki(l,g,s)}}function IA(a,t){return a.replace(CA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const CA=/\{\$([^}]+)}/g;function DA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Ts(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=a[l],d=t[l];if(qy(c)&&qy(d)){if(!Ts(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function qy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function el(a){const t={};return a.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function nl(a){const t=a.indexOf("?");if(!t)return"";const i=a.indexOf("#",t);return a.substring(t,i>0?i:void 0)}function OA(a,t){const i=new NA(a,t);return i.subscribe.bind(i)}class NA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");MA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=nd),l.error===void 0&&(l.error=nd),l.complete===void 0&&(l.complete=nd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function nd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(a){return a&&a._delegate?a._delegate:a}class As{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new gA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(UA(t))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=_s){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_s){return this.instances.has(t)}getOptions(t=_s){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,i){var s;const l=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xA(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=_s){return this.component?this.component.multipleInstances?t:_s:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xA(a){return a===_s?void 0:a}function UA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new VA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ot||(Ot={}));const LA={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},kA=Ot.INFO,zA={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},BA=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=zA[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jd{constructor(t){this.name=t,this._logLevel=kA,this._logHandler=BA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?LA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const jA=(a,t)=>t.some(i=>a instanceof i);let Hy,Gy;function qA(){return Hy||(Hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HA(){return Gy||(Gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sv=new WeakMap,md=new WeakMap,bv=new WeakMap,id=new WeakMap,qd=new WeakMap;function GA(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Tr(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Sv.set(i,a)}).catch(()=>{}),qd.set(t,a),t}function FA(a){if(md.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});md.set(a,t)}let gd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return md.get(a);if(t==="objectStoreNames")return a.objectStoreNames||bv.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Tr(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function KA(a){gd=a(gd)}function QA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(rd(this),t,...i);return bv.set(s,t.sort?t.sort():[t]),Tr(s)}:HA().includes(a)?function(...t){return a.apply(rd(this),t),Tr(Sv.get(this))}:function(...t){return Tr(a.apply(rd(this),t))}}function YA(a){return typeof a=="function"?QA(a):(a instanceof IDBTransaction&&FA(a),jA(a,qA())?new Proxy(a,gd):a)}function Tr(a){if(a instanceof IDBRequest)return GA(a);if(id.has(a))return id.get(a);const t=YA(a);return t!==a&&(id.set(a,t),qd.set(t,a)),t}const rd=a=>qd.get(a);function XA(a,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),g=Tr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Tr(d.result),p.oldVersion,p.newVersion,Tr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const $A=["get","getKey","getAll","getAllKeys","count"],ZA=["put","add","delete","clear"],sd=new Map;function Fy(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(sd.get(t))return sd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=ZA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||$A.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&p.done]))[0]};return sd.set(t,c),c}KA(a=>({...a,get:(t,i,s)=>Fy(t,i)||a.get(t,i,s),has:(t,i)=>!!Fy(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(WA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function WA(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const pd="@firebase/app",Ky="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new jd("@firebase/app"),tS="@firebase/app-compat",eS="@firebase/analytics-compat",nS="@firebase/analytics",iS="@firebase/app-check-compat",rS="@firebase/app-check",sS="@firebase/auth",aS="@firebase/auth-compat",oS="@firebase/database",lS="@firebase/data-connect",uS="@firebase/database-compat",cS="@firebase/functions",hS="@firebase/functions-compat",fS="@firebase/installations",dS="@firebase/installations-compat",mS="@firebase/messaging",gS="@firebase/messaging-compat",pS="@firebase/performance",yS="@firebase/performance-compat",_S="@firebase/remote-config",vS="@firebase/remote-config-compat",ES="@firebase/storage",TS="@firebase/storage-compat",AS="@firebase/firestore",SS="@firebase/vertexai",bS="@firebase/firestore-compat",RS="firebase",wS="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="[DEFAULT]",IS={[pd]:"fire-core",[tS]:"fire-core-compat",[nS]:"fire-analytics",[eS]:"fire-analytics-compat",[rS]:"fire-app-check",[iS]:"fire-app-check-compat",[sS]:"fire-auth",[aS]:"fire-auth-compat",[oS]:"fire-rtdb",[lS]:"fire-data-connect",[uS]:"fire-rtdb-compat",[cS]:"fire-fn",[hS]:"fire-fn-compat",[fS]:"fire-iid",[dS]:"fire-iid-compat",[mS]:"fire-fcm",[gS]:"fire-fcm-compat",[pS]:"fire-perf",[yS]:"fire-perf-compat",[_S]:"fire-rc",[vS]:"fire-rc-compat",[ES]:"fire-gcs",[TS]:"fire-gcs-compat",[AS]:"fire-fst",[bS]:"fire-fst-compat",[SS]:"fire-vertex","fire-js":"fire-js",[RS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Map,CS=new Map,_d=new Map;function Qy(a,t){try{a.container.addComponent(t)}catch(i){Ui.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Da(a){const t=a.name;if(_d.has(t))return Ui.debug(`There were multiple attempts to register component ${t}.`),!1;_d.set(t,a);for(const i of pc.values())Qy(i,a);for(const i of CS.values())Qy(i,a);return!0}function Hd(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Mn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new El("app","Firebase",DS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=wS;function Rv(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s=Object.assign({name:yd,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw Ar.create("bad-app-name",{appName:String(l)});if(i||(i=Tv()),!i)throw Ar.create("no-options");const c=pc.get(l);if(c){if(Ts(i,c.options)&&Ts(s,c.config))return c;throw Ar.create("duplicate-app",{appName:l})}const d=new PA(l);for(const p of _d.values())d.addComponent(p);const g=new OS(i,s,d);return pc.set(l,g),g}function wv(a=yd){const t=pc.get(a);if(!t&&a===yd&&Tv())return Rv();if(!t)throw Ar.create("no-app",{appName:a});return t}function Sr(a,t,i){var s;let l=(s=IS[a])!==null&&s!==void 0?s:a;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ui.warn(g.join(" "));return}Da(new As(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firebase-heartbeat-database",MS=1,fl="firebase-heartbeat-store";let ad=null;function Iv(){return ad||(ad=XA(NS,MS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(fl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ar.create("idb-open",{originalErrorMessage:a.message})})),ad}async function VS(a){try{const i=(await Iv()).transaction(fl),s=await i.objectStore(fl).get(Cv(a));return await i.done,s}catch(t){if(t instanceof ki)Ui.warn(t.message);else{const i=Ar.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ui.warn(i.message)}}}async function Yy(a,t){try{const s=(await Iv()).transaction(fl,"readwrite");await s.objectStore(fl).put(t,Cv(a)),await s.done}catch(i){if(i instanceof ki)Ui.warn(i.message);else{const s=Ar.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ui.warn(s.message)}}}function Cv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=1024,US=30;class PS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new kS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Xy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>US){const d=zS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ui.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Xy(),{heartbeatsToSend:s,unsentEntries:l}=LS(this._heartbeatsCache.heartbeats),c=gc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Ui.warn(i),""}}}function Xy(){return new Date().toISOString().substring(0,10)}function LS(a,t=xS){const i=[];let s=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),$y(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),$y(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class kS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bA()?RA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await VS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Yy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Yy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function $y(a){return gc(JSON.stringify({version:2,heartbeats:a})).length}function zS(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(a){Da(new As("platform-logger",t=>new JA(t),"PRIVATE")),Da(new As("heartbeat",t=>new PS(t),"PRIVATE")),Sr(pd,Ky,a),Sr(pd,Ky,"esm2017"),Sr("fire-js","")}BS("");var jS="firebase",qS="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr(jS,qS,"app");var Zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var br,Dv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,S){function R(){}R.prototype=S.prototype,N.D=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(O,M,x){for(var w=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)w[Me-2]=arguments[Me];return S.prototype[M].apply(O,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)O[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],M=N.g[2];var x=N.g[3],w=S+(x^R&(M^x))+O[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+O[1]+3905402710&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+O[2]+606105819&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+O[3]+3250441966&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(x^R&(M^x))+O[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+O[5]+1200080426&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+O[6]+2821735955&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+O[7]+4249261313&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(x^R&(M^x))+O[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+O[9]+2336552879&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+O[10]+4294925233&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+O[11]+2304563134&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(x^R&(M^x))+O[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+O[13]+4254626195&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+O[14]+2792965006&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+O[15]+1236535329&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(M^x&(R^M))+O[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+O[6]+3225465664&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+O[11]+643717713&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+O[0]+3921069994&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^x&(R^M))+O[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+O[10]+38016083&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+O[15]+3634488961&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+O[4]+3889429448&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^x&(R^M))+O[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+O[14]+3275163606&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+O[3]+4107603335&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+O[8]+1163531501&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^x&(R^M))+O[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+O[2]+4243563512&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+O[7]+1735328473&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+O[12]+2368359562&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(R^M^x)+O[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+O[8]+2272392833&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+O[11]+1839030562&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+O[14]+4259657740&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^x)+O[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+O[4]+1272893353&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+O[7]+4139469664&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+O[10]+3200236656&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^x)+O[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+O[0]+3936430074&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+O[3]+3572445317&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+O[6]+76029189&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^x)+O[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+O[12]+3873151461&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+O[15]+530742520&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+O[2]+3299628645&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(M^(R|~x))+O[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+O[7]+1126891415&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+O[14]+2878612391&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+O[5]+4237533241&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~x))+O[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+O[3]+2399980690&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+O[10]+4293915773&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+O[1]+2240044497&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~x))+O[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+O[15]+4264355552&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+O[6]+2734768916&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+O[13]+1309151649&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~x))+O[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+O[11]+3174756917&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+O[2]+718787259&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+x&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var R=S-this.blockSize,O=this.B,M=this.h,x=0;x<S;){if(M==0)for(;x<=R;)l(this,N,x),x+=this.blockSize;if(typeof N=="string"){for(;x<S;)if(O[M++]=N.charCodeAt(x++),M==this.blockSize){l(this,O),M=0;break}}else for(;x<S;)if(O[M++]=N[x++],M==this.blockSize){l(this,O),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var R=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=R&255,R/=256;for(this.u(N),N=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)N[R++]=this.g[S]>>>O&255;return N};function c(N,S){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function d(N,S){this.h=S;for(var R=[],O=!0,M=N.length-1;0<=M;M--){var x=N[M]|0;O&&x==S||(R[M]=x,O=!1)}this.g=R}var g={};function p(N){return-128<=N&&128>N?c(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return C;if(0>N)return Z(v(-N));for(var S=[],R=1,O=0;N>=R;O++)S[O]=N/R|0,R*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return Z(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),O=C,M=0;M<N.length;M+=8){var x=Math.min(8,N.length-M),w=parseInt(N.substring(M,M+x),S);8>x?(x=v(Math.pow(S,x)),O=O.j(x).add(v(w))):(O=O.j(R),O=O.add(v(w)))}return O}var C=p(0),z=p(1),Q=p(16777216);a=d.prototype,a.m=function(){if(st(this))return-Z(this).m();for(var N=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},a.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(et(this))return"0";if(st(this))return"-"+Z(this).toString(N);for(var S=v(Math.pow(N,6)),R=this,O="";;){var M=_t(R,S).g;R=At(R,M.j(S));var x=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=M,et(R))return x+O;for(;6>x.length;)x="0"+x;O=x+O}},a.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function et(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function st(N){return N.h==-1}a.l=function(N){return N=At(this,N),st(N)?-1:et(N)?0:1};function Z(N){for(var S=N.g.length,R=[],O=0;O<S;O++)R[O]=~N.g[O];return new d(R,~N.h).add(z)}a.abs=function(){return st(this)?Z(this):this},a.add=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0,M=0;M<=S;M++){var x=O+(this.i(M)&65535)+(N.i(M)&65535),w=(x>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);O=w>>>16,x&=65535,w&=65535,R[M]=w<<16|x}return new d(R,R[R.length-1]&-2147483648?-1:0)};function At(N,S){return N.add(Z(S))}a.j=function(N){if(et(this)||et(N))return C;if(st(this))return st(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(st(N))return Z(this.j(Z(N)));if(0>this.l(Q)&&0>N.l(Q))return v(this.m()*N.m());for(var S=this.g.length+N.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<N.g.length;M++){var x=this.i(O)>>>16,w=this.i(O)&65535,Me=N.i(M)>>>16,re=N.i(M)&65535;R[2*O+2*M]+=w*re,Tt(R,2*O+2*M),R[2*O+2*M+1]+=x*re,Tt(R,2*O+2*M+1),R[2*O+2*M+1]+=w*Me,Tt(R,2*O+2*M+1),R[2*O+2*M+2]+=x*Me,Tt(R,2*O+2*M+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new d(R,0)};function Tt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ct(N,S){this.g=N,this.h=S}function _t(N,S){if(et(S))throw Error("division by zero");if(et(N))return new ct(C,C);if(st(N))return S=_t(Z(N),S),new ct(Z(S.g),Z(S.h));if(st(S))return S=_t(N,Z(S)),new ct(Z(S.g),S.h);if(30<N.g.length){if(st(N)||st(S))throw Error("slowDivide_ only works with positive integers.");for(var R=z,O=S;0>=O.l(N);)R=pt(R),O=pt(O);var M=Nt(R,1),x=Nt(O,1);for(O=Nt(O,2),R=Nt(R,2);!et(O);){var w=x.add(O);0>=w.l(N)&&(M=M.add(R),x=w),O=Nt(O,1),R=Nt(R,1)}return S=At(N,M.j(S)),new ct(M,S)}for(M=C;0<=N.l(S);){for(R=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),x=v(R),w=x.j(S);st(w)||0<w.l(N);)R-=O,x=v(R),w=x.j(S);et(x)&&(x=z),M=M.add(x),N=At(N,w)}return new ct(M,N)}a.A=function(N){return _t(this,N).h},a.and=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&N.i(O);return new d(R,this.h&N.h)},a.or=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|N.i(O);return new d(R,this.h|N.h)},a.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^N.i(O);return new d(R,this.h^N.h)};function pt(N){for(var S=N.g.length+1,R=[],O=0;O<S;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(R,N.h)}function Nt(N,S){var R=S>>5;S%=32;for(var O=N.g.length-R,M=[],x=0;x<O;x++)M[x]=0<S?N.i(x+R)>>>S|N.i(x+R+1)<<32-S:N.i(x+R);return new d(M,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Dv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,br=d}).apply(typeof Zy<"u"?Zy:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ov,il,Nv,sc,vd,Mv,Vv,xv;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,U={next:function(){if(!T&&y<u.length){var j=y++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function C(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function z(u,m,y){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,z.apply(null,arguments)}function Q(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function et(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,U,j){for(var J=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)J[Mt-2]=arguments[Mt];return m.prototype[U].apply(T,J)}}function st(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const U=u.length||0,j=T.length||0;u.length=U+j;for(let J=0;J<j;J++)u[U+J]=T[J]}else u.push(T)}}class At{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Tt(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function _t(u){return _t[" "](u),u}_t[" "]=function(){};var pt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function Nt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function N(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let j=0;j<R.length;j++)y=R[j],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function x(u){g.setTimeout(()=>{throw u},0)}function w(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,y){const T=re.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new At(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ot=!1,zt=new Me,I=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(y){x(y)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Rt(u,m){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pt){t:{try{_t(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}et(Rt,$);var yt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),$t=0;function Un(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++$t,this.da=this.fa=!1}function zi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function oi(u){this.src=u,this.g={},this.h=0}oi.prototype.add=function(u,m,y,T,U){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var J=Pr(u,m,T,U);return-1<J?(m=u[J],y||(m.fa=!1)):(m=new Un(m,this.src,j,!!T,U),m.fa=y,u.push(m)),m};function Ur(u,m){var y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=U)&&Array.prototype.splice.call(T,U,1),j&&(zi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Pr(u,m,y,T){for(var U=0;U<u.length;++U){var j=u[U];if(!j.da&&j.listener==m&&j.capture==!!y&&j.ha==T)return U}return-1}var Lr="closure_lm_"+(1e6*Math.random()|0),Ga={};function Dl(u,m,y,T,U){if(Array.isArray(m)){for(var j=0;j<m.length;j++)Dl(u,m[j],y,T,U);return null}return y=Ol(y),u&&u[Re]?u.K(m,y,v(T)?!!T.capture:!1,U):dn(u,m,y,!1,T,U)}function dn(u,m,y,T,U,j){if(!m)throw Error("Invalid event type");var J=v(U)?!!U.capture:!!U,Mt=Cs(u);if(Mt||(u[Lr]=Mt=new oi(u)),y=Mt.add(m,y,T,J,j),y.proxy)return y;if(T=Xc(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ut||(U=J),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(kr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Xc(){function u(y){return m.call(u.src,u.listener,y)}const m=$c;return u}function Fa(u,m,y,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)Fa(u,m[j],y,T,U);else T=v(T)?!!T.capture:!!T,y=Ol(y),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],y=Pr(j,y,T,U),-1<y&&(zi(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=Cs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Pr(m,y,T,U)),(y=-1<u?m[u]:null)&&Is(y))}function Is(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Ur(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(kr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Cs(m))?(Ur(y,u),y.h==0&&(y.src=null,m[Lr]=null)):zi(u)}}}function kr(u){return u in Ga?Ga[u]:Ga[u]="on"+u}function $c(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&Is(u),u=y.call(T,m)}return u}function Cs(u){return u=u[Lr],u instanceof oi?u:null}var Ka="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ol(u){return typeof u=="function"?u:(u[Ka]||(u[Ka]=function(m){return u.handleEvent(m)}),u[Ka])}function se(){nt.call(this),this.i=new oi(this),this.M=this,this.F=null}et(se,nt),se.prototype[Re]=!0,se.prototype.removeEventListener=function(u,m,y,T){Fa(this,u,m,y,T)};function qt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new $(m,u);else if(m instanceof $)m.target=m.target||u;else{var U=m;m=new $(T,u),O(m,U)}if(U=!0,y)for(var j=y.length-1;0<=j;j--){var J=m.g=y[j];U=rn(J,T,!0,m)&&U}if(J=m.g=u,U=rn(J,T,!0,m)&&U,U=rn(J,T,!1,m)&&U,y)for(j=0;j<y.length;j++)J=m.g=y[j],U=rn(J,T,!1,m)&&U}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)zi(y[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},se.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function rn(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,j=0;j<m.length;++j){var J=m[j];if(J&&!J.da&&J.capture==y){var Mt=J.listener,ve=J.ha||J.src;J.fa&&Ur(u.i,J),U=Mt.call(ve,T)!==!1&&U}}return U&&!T.defaultPrevented}function Be(u,m,y){if(typeof u=="function")y&&(u=z(u,y));else if(u&&typeof u.handleEvent=="function")u=z(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Nl(u){u.g=Be(()=>{u.g=null,u.i&&(u.i=!1,Nl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Zc extends nt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Nl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(u){nt.call(this),this.h=u,this.g={}}et(zr,nt);var Br=[];function jr(u){Nt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Is(m)},u),u.g={}}zr.prototype.N=function(){zr.aa.N.call(this),jr(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=g.JSON.stringify,Ds=g.JSON.parse,qr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Qa(){}Qa.prototype.h=null;function Ya(u){return u.h||(u.h=u.i())}function Xa(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){$.call(this,"d")}et(ui,$);function $a(){$.call(this,"c")}et($a,$);var Pn={},Za=null;function Bi(){return Za=Za||new se}Pn.La="serverreachability";function Os(u){$.call(this,Pn.La,u)}et(Os,$);function ji(u){const m=Bi();qt(m,new Os(m))}Pn.STAT_EVENT="statevent";function Ml(u,m){$.call(this,Pn.STAT_EVENT,u),this.stat=m}et(Ml,$);function Jt(u){const m=Bi();qt(m,new Ml(m,u))}Pn.Ma="timingevent";function _e(u,m){$.call(this,Pn.Ma,u),this.size=m}et(_e,$);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function Ja(u,m,y,T,U,j){u.info(function(){if(u.g)if(j)for(var J="",Mt=j.split("&"),ve=0;ve<Mt.length;ve++){var Vt=Mt[ve].split("=");if(1<Vt.length){var Ie=Vt[0];Vt=Vt[1];var Ee=Ie.split("_");J=2<=Ee.length&&Ee[1]=="type"?J+(Ie+"="+Vt+"&"):J+(Ie+"=redacted&")}}else J=null;else J=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+J})}function Jc(u,m,y,T,U,j,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+j+" "+J})}function qi(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hr(u,y)+(T?" "+T:"")})}function Vl(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Hr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var j=U[0];if(j!="noop"&&j!="stop"&&j!="close")for(var J=1;J<U.length;J++)U[J]=""}}}}return wn(y)}catch{return m}}var Hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function kn(){}et(kn,Qa),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},Ln=new kn;function Qe(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Wa={},Ns={};function In(u,m,y){u.L=1,u.v=Yr(sn(m)),u.m=y,u.P=!0,hi(u,null)}function hi(u,m){u.F=Date.now(),Gr(u),u.A=sn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),so(y.i,"t",T),u.C=0,y=u.j.J,u.h=new le,u.g=Xl(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Zc(z(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Br[0]=U.toString()),U=Br);for(var j=0;j<U.length;j++){var J=Dl(y,U[j],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ji(),Ja(u.i,u.u,u.A,u.l,u.R,u.m)}Qe.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},Qe.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=_n(this.g);var m=this.g.Ba();const vi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||jl(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=vi?ji(3):ji(2)),Gi(this);var y=this.g.Z();this.X=y;e:if(xl(this)){var T=jl(this.g);u="";var U=T.length,j=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ve(this),zn(this);var J="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=y==200,Jc(this.i,this.u,this.A,this.l,this.R,Ee,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,ve=this.g;if((Mt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tt(Mt)){var Vt=Mt;break e}}Vt=null}if(y=Vt)qi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fr(this,y);else{this.o=!1,this.s=3,Jt(12),Ve(this),zn(this);break t}}if(this.P){y=!0;let xe;for(;!this.J&&this.C<J.length;)if(xe=Ul(this,J),xe==Ns){Ee==4&&(this.s=4,Jt(14),y=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Wa){this.s=4,Jt(15),qi(this.i,this.l,J,"[Invalid Chunk]"),y=!1;break}else qi(this.i,this.l,xe,null),Fr(this,xe);if(xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||J.length!=0||this.h.h||(this.s=1,Jt(16),y=!1),this.o=this.o&&y,!y)qi(this.i,this.l,J,"[Invalid Chunked Response]"),Ve(this),zn(this);else if(0<J.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ns(Ie),Ie.M=!0,Jt(11))}}else qi(this.i,this.l,J,null),Fr(this,J);Ee==4&&Ve(this),this.o&&!this.J&&(Ee==4?Kl(this.j,this):(this.o=!1,Gr(this)))}else ih(this.g),y==400&&0<J.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Ve(this),zn(this)}}}catch{}finally{}};function xl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ul(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Ns:(y=Number(m.substring(y,T)),isNaN(y)?Wa:(T+=1,T+y>m.length?Ns:(m=m.slice(T,T+y),u.C=T+y,m)))}Qe.prototype.cancel=function(){this.J=!0,Ve(this)};function Gr(u){u.S=Date.now()+u.I,Pl(u,u.I)}function Pl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(z(u.ba,u),m)}function Gi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Qe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Vl(this.i,this.A),this.L!=2&&(ji(),Jt(17)),Ve(this),this.s=2,zn(this)):Pl(this,this.S-u)};function zn(u){u.j.G==0||u.J||Kl(u.j,u)}function Ve(u){Gi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,jr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Fr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||to(y.h,u))){if(!u.K&&to(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Hs(y),js(y);else break t;co(y),Jt(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=de(z(y.Za,y),6e3));if(1>=Vs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else _i(y,11)}else if((u.K||y.g==u)&&Hs(y),!Tt(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let Vt=U[m];if(y.T=Vt[0],Vt=Vt[1],y.G==2)if(Vt[0]=="c"){y.K=Vt[1],y.ia=Vt[2];const Ie=Vt[3];Ie!=null&&(y.la=Ie,y.j.info("VER="+y.la));const Ee=Vt[4];Ee!=null&&(y.Aa=Ee,y.j.info("SVER="+y.Aa));const vi=Vt[5];vi!=null&&typeof vi=="number"&&0<vi&&(T=1.5*vi,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const xe=u.g;if(xe){const Kn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var j=T.h;j.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(xs(j,j.h),j.h=null))}if(T.D){const fo=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;fo&&(T.ya=fo,Ft(T.I,T.D,fo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var J=u;if(T.qa=Yl(T,T.J?T.ia:null,T.W),J.K){Ye(T.h,J);var Mt=J,ve=T.L;ve&&(Mt.I=ve),Mt.B&&(Gi(Mt),Gr(Mt)),T.g=J}else Gl(T);0<y.i.length&&qs(y)}else Vt[0]!="stop"&&Vt[0]!="close"||_i(y,7);else y.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?_i(y,7):lo(y):Vt[0]!="noop"&&y.l&&y.l.ta(Vt),y.v=0)}}ji(4)}catch{}}var Ll=class{constructor(u,m){this.g=u,this.map=m}};function fi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ms(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Vs(u){return u.h?1:u.g?u.g.size:0}function to(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xs(u,m){u.g?u.g.add(m):u.h=m}function Ye(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fi.prototype.cancel=function(){if(this.i=eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function eo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return st(u.i)}function Wc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function Us(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function no(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Us(u),T=Wc(u),U=T.length,j=0;j<U;j++)m.call(void 0,T[j],y&&y[j],u)}var Kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function th(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),U=null;if(0<=T){var j=u[y].substring(0,T);U=u[y].substring(T+1)}else j=u[y];m(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Qr(this,u.j),this.o=u.o,this.g=u.g,Fi(this,u.s),this.l=u.l;var m=u.i,y=new mi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),di(this,y),this.m=u.m}else u&&(m=String(u).match(Kr))?(this.h=!1,Qr(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),Fi(this,m[4]),this.l=gn(m[5]||"",!0),di(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Xr(m,io,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Xr(m,io,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Xr(y,y.charAt(0)=="/"?eh:ro,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Xr(y,Ps)),u.join("")};function sn(u){return new me(u)}function Qr(u,m,y){u.j=y?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Fi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function di(u,m,y){m instanceof mi?(u.i=m,zl(u.i,u.h)):(y||(m=Xr(m,nh)),u.i=new mi(m,u.h))}function Ft(u,m,y){u.i.set(m,y)}function Yr(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,kl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var io=/[#\/\?@]/g,ro=/[#\?:]/g,eh=/[#\?]/g,nh=/[#\?@]/g,Ps=/#/g;function mi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&th(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=mi.prototype,a.add=function(u,m){pn(this),this.i=null,u=Bn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function gi(u,m){pn(u),m=Bn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return pn(u),m=Bn(u,m),u.g.has(m)}a.forEach=function(u,m){pn(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)},a.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const U=u[T];for(let j=0;j<U.length;j++)y.push(m[T])}return y},a.V=function(u){pn(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(Bn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},a.set=function(u,m){return pn(this),this.i=null,u=Bn(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function so(u,m,y){gi(u,m),0<y.length&&(u.i=null,u.g.set(Bn(u,m),st(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const j=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var U=j;J[T]!==""&&(U+="="+encodeURIComponent(String(J[T]))),u.push(U)}}return this.i=u.join("&")};function Bn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function zl(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(y,T){var U=T.toLowerCase();T!=U&&(gi(this,T),so(this,U,y))},u)),u.j=m}function $r(u,m){const y=new mn;if(g.Image){const T=new Image;T.onload=Q(yn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=Q(yn,y,"TestLoadImage: error",!1,m,T),T.onabort=Q(yn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=Q(yn,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Cn(u,m){const y=new mn,T=new AbortController,U=setTimeout(()=>{T.abort(),yn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?yn(y,"TestPingServer: ok",!0,m):yn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),yn(y,"TestPingServer: error",!1,m)})}function yn(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function Zr(){this.g=new qr}function jn(u,m,y){const T=y||"";try{no(u,function(U,j){let J=U;v(U)&&(J=wn(U)),m.push(T+j+"="+encodeURIComponent(J))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function Ki(u){this.l=u.Ub||null,this.j=u.eb||!1}et(Ki,Qa),Ki.prototype.g=function(){return new yi(this.l,this.j)},Ki.prototype.i=function(u){return function(){return u}}({});function yi(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}et(yi,se),a=yi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Hn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ao(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ao(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qn(this):Hn(this),this.readyState==3&&ao(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,qn(this))},a.Qa=function(u){this.g&&(this.response=u,qn(this))},a.ga=function(){this.g&&qn(this)};function qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Hn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function oo(u){let m="";return Nt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function we(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=oo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ft(u,m,y))}function jt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}et(jt,se);var Ls=/^https?$/i,Jr=["POST","PUT"];a=jt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Ya(this.o):Ya(Ln),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Bl(this,j);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())y.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Jr,m,void 0))||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,J]of y)this.g.setRequestHeader(j,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wr(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Bl(this,j)}};function Bl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ks(u),Gn(u)}function ks(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Gn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),jt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?zs(this):this.bb())},a.bb=function(){zs(this)};function zs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)Be(u.Ea,0,u);else if(qt(u,"readystatechange"),_n(u)==4){u.h=!1;try{const J=u.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=J===0){var U=String(u.D).match(Kr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!Ls.test(U?U.toLowerCase():"")}y=T}if(y)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var j=2<_n(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",ks(u)}}finally{Gn(u)}}}}function Gn(u,m){if(u.g){Wr(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{y.onreadystatechange=T}catch{}}}function Wr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ds(m)}};function jl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ih(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(Tt(u[T]))continue;var y=M(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=m[U]||[];m[U]=j,j.push(y)}N(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Bs(u){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ts("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ts("baseRetryDelayMs",5e3,u),this.cb=ts("retryDelaySeedMs",1e4,u),this.Wa=ts("forwardChannelMaxRetries",2,u),this.wa=ts("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(u&&u.concurrentRequestLimit),this.Da=new Zr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Bs.prototype,a.la=8,a.G=1,a.connect=function(u,m,y,T){Jt(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=Yl(this,null,this.W),qs(this)};function lo(u){if(ql(u),u.G==3){var m=u.U++,y=sn(u.I);if(Ft(y,"SID",u.K),Ft(y,"RID",m),Ft(y,"TYPE","terminate"),es(u,y),m=new Qe(u,u.j,m),m.L=2,m.v=Yr(sn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=Xl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Gr(m)}Ql(u)}function js(u){u.g&&(ns(u),u.g.cancel(),u.g=null)}function ql(u){js(u),u.u&&(g.clearTimeout(u.u),u.u=null),Hs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function qs(u){if(!Ms(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||I(),ot||(tt(),ot=!0),zt.add(m,u),u.B=0}}function rh(u,m){return Vs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(z(u.Ga,u,m),ho(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Qe(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),O(j,this.S)):j=this.S),this.m!==null||this.O||(U.H=j,j=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Hl(this,U,m),y=sn(this.I),Ft(y,"RID",u),Ft(y,"CVER",22),this.D&&Ft(y,"X-HTTP-Session-Id",this.D),es(this,y),j&&(this.O?m="headers="+encodeURIComponent(String(oo(j)))+"&"+m:this.m&&we(y,this.m,j)),xs(this.h,U),this.Ua&&Ft(y,"TYPE","init"),this.P?(Ft(y,"$req",m),Ft(y,"SID","null"),U.T=!0,In(U,y,null)):In(U,y,m),this.G=2}}else this.G==3&&(u?uo(this,u):this.i.length==0||Ms(this.h)||uo(this))};function uo(u,m){var y;m?y=m.l:y=u.U++;const T=sn(u.I);Ft(T,"SID",u.K),Ft(T,"RID",y),Ft(T,"AID",u.T),es(u,T),u.m&&u.o&&we(T,u.m,u.o),y=new Qe(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Hl(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),xs(u.h,y),In(y,T,m)}function es(u,m){u.H&&Nt(u.H,function(y,T){Ft(m,T,y)}),u.l&&no({},function(y,T){Ft(m,T,y)})}function Hl(u,m,y){y=Math.min(u.i.length,y);var T=u.l?z(u.l.Na,u.l,u):null;t:{var U=u.i;let j=-1;for(;;){const J=["count="+y];j==-1?0<y?(j=U[0].g,J.push("ofs="+j)):j=0:J.push("ofs="+j);let Mt=!0;for(let ve=0;ve<y;ve++){let Vt=U[ve].g;const Ie=U[ve].map;if(Vt-=j,0>Vt)j=Math.max(0,U[ve].g-100),Mt=!1;else try{jn(Ie,J,"req"+Vt+"_")}catch{T&&T(Ie)}}if(Mt){T=J.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function Gl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||I(),ot||(tt(),ot=!0),zt.add(m,u),u.v=0}}function co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(z(u.Fa,u),ho(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Fl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(z(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),js(this),Fl(this))};function ns(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Fl(u){u.g=new Qe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),es(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Yr(sn(m)),y.m=null,y.P=!0,hi(y,u)}a.Za=function(){this.C!=null&&(this.C=null,js(this),co(this),Jt(19))};function Hs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Kl(u,m){var y=null;if(u.g==m){Hs(u),ns(u),u.g=null;var T=2}else if(to(u.h,m))y=m.D,Ye(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Bi(),qt(T,new _e(T,y)),qs(u)}else Gl(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&rh(u,m)||T==2&&co(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function ho(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var y=z(u.fb,u),T=u.Xa;const U=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Qr(T,"https"),Yr(T),U?$r(T.toString(),y):Cn(T.toString(),y)}else Jt(2);u.G=0,u.l&&u.l.sa(m),Ql(u),ql(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Ql(u){if(u.G=0,u.ka=[],u.l){const m=eo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,st(u.i),u.i.length=0),u.l.ra()}}function Yl(u,m,y){var T=y instanceof me?sn(y):new me(y);if(T.g!="")m&&(T.g=m+"."+T.g),Fi(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var j=new me(null);T&&Qr(j,T),m&&(j.g=m),U&&Fi(j,U),y&&(j.l=y),T=j}return y=u.D,m=u.ya,y&&m&&Ft(T,y,m),Ft(T,"VER",u.la),es(u,T),T}function Xl(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new Ki({eb:y})):new jt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function $l(){}a=$l.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Gs(){}Gs.prototype.g=function(u,m){return new Xe(u,m)};function Xe(u,m){se.call(this),this.g=new Bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Tt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Tt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fn(this)}et(Xe,se),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){lo(this.g)},Xe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=wn(u),u=y);m.i.push(new Ll(m.Ya++,u)),m.G==3&&qs(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,Xe.aa.N.call(this)};function Zl(u){ui.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}et(Zl,ui);function Jl(){$a.call(this),this.status=1}et(Jl,$a);function Fn(u){this.g=u}et(Fn,$l),Fn.prototype.ua=function(){qt(this.g,"a")},Fn.prototype.ta=function(u){qt(this.g,new Zl(u))},Fn.prototype.sa=function(u){qt(this.g,new Jl)},Fn.prototype.ra=function(){qt(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,xv=function(){return new Gs},Vv=function(){return Bi()},Mv=Pn,vd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,sc=Hi,ci.COMPLETE="complete",Nv=ci,Xa.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",se.prototype.listen=se.prototype.K,il=Xa,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,Ov=jt}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const Jy="@firebase/firestore",Wy="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new jd("@firebase/firestore");function va(){return Ss.logLevel}function it(a,...t){if(Ss.logLevel<=Ot.DEBUG){const i=t.map(Gd);Ss.debug(`Firestore (${za}): ${a}`,...i)}}function Pi(a,...t){if(Ss.logLevel<=Ot.ERROR){const i=t.map(Gd);Ss.error(`Firestore (${za}): ${a}`,...i)}}function Oa(a,...t){if(Ss.logLevel<=Ot.WARN){const i=t.map(Gd);Ss.warn(`Firestore (${za}): ${a}`,...i)}}function Gd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,Uv(a,s,i)}function Uv(a,t,i){let s=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Pi(s),new Error(s)}function ie(a,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||Uv(t,l,s)}function Pt(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ki{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class GS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class FS{constructor(t){this.t=t,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ie(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Rr,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Rr)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ie(typeof s.accessToken=="string",31837,{l:s}),new Pv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ie(t===null||typeof t=="string",2055,{h:t}),new Ge(t)}}class KS{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QS{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new KS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ie(this.o===void 0,3512);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new t_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(ie(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new t_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=XS(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function It(a,t){return a<t?-1:a>t?1:0}function Ed(a,t){let i=0;for(;i<a.length&&i<t.length;){const s=a.codePointAt(i),l=t.codePointAt(i);if(s!==l){if(s<128&&l<128)return It(s,l);{const c=Lv(),d=$S(c.encode(e_(a,i)),c.encode(e_(t,i)));return d!==0?d:It(s,l)}}i+=s>65535?2:1}return It(a.length,t.length)}function e_(a,t){return a.codePointAt(t)>65535?a.substring(t,t+2):a.substring(t,t+1)}function $S(a,t){for(let i=0;i<a.length&&i<t.length;++i)if(a[i]!==t[i])return It(a[i],t[i]);return It(a.length,t.length)}function Na(a,t,i){return a.length===t.length&&a.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=-62135596800,i_=1e6;class nn{static now(){return nn.fromMillis(Date.now())}static fromDate(t){return nn.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*i_);return new nn(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<n_)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i_}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-n_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new nn(0,0))}static max(){return new vt(new nn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="__name__";class Jn{constructor(t,i,s){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&Et(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Jn.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Jn?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=Jn.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return It(t.length,i.length)}static compareSegments(t,i){const s=Jn.isNumericId(t),l=Jn.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Jn.extractNumericId(t).compare(Jn.extractNumericId(i)):Ed(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return br.fromString(t.substring(4,t.length-2))}}class ee extends Jn{construct(t,i,s){return new ee(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const ZS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Jn{construct(t,i,s){return new Ze(t,i,s)}static isValidIdentifier(t){return ZS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r_}static keyField(){return new Ze([r_])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new lt(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new lt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new lt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(i)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ee.fromString(t))}static fromName(t){return new ft(ee.fromString(t).popFirst(5))}static empty(){return new ft(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ee(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=-1;function JS(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(s===1e9?new nn(i+1,0):new nn(i,s));return new Cr(l,ft.empty(),t)}function WS(a){return new Cr(a.readTime,a.key,dl)}class Cr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Cr(vt.min(),ft.empty(),dl)}static max(){return new Cr(vt.max(),ft.empty(),dl)}}function tb(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(a.documentKey,t.documentKey),i!==0?i:It(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==eb)throw a;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):K.reject(i)}static resolve(t){return new K((i,s)=>{i(t)})}static reject(t){return new K((i,s)=>{s(t)})}static waitFor(t){return new K((i,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&i()},p=>s(p))}),d=!0,c===l&&i()})}static or(t){let i=K.resolve(!1);for(const s of t)i=i.next(l=>l?K.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,c)=>{s.push(i.call(this,l,c))}),this.waitFor(s)}static mapArray(t,i){return new K((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;i(t[v]).next(A=>{d[v]=A,++g,g===c&&s(d)},A=>l(A))}})}static doWhile(t,i){return new K((s,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):s()};c()})}}function ib(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ba(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Vc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=-1;function xc(a){return a==null}function Td(a){return a===0&&1/a==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="";function sb(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=s_(t)),t=ab(a.get(i),t);return s_(t)}function ab(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case zv:i+="";break;default:i+=c}}return i}function s_(a){return a+zv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Al(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function ob(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,i){this.comparator=t,this.root=i||ke.EMPTY}insert(t,i){return new fe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new tc(this.root,t,this.comparator,!0)}}class tc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ke{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??ke.RED,this.left=l??ke.EMPTY,this.right=c??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new ke(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return ke.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(t){return new o_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof be)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new be(this.comparator);return i.data=t,i}}class o_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new vr([])}unionWith(t){let i=new be(Ze.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new vr(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Na(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Bv("Invalid base64 string: "+c):c}}(t);return new ze(i)}static fromUint8Array(t){const i=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new ze(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ze.EMPTY_BYTE_STRING=new ze("");const lb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(a){if(ie(!!a,39018),typeof a=="string"){let t=0;const i=lb.exec(a);if(ie(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:he(a.seconds),nanos:he(a.nanos)}}function he(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Or(a){return typeof a=="string"?ze.fromBase64String(a):ze.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="server_timestamp",qv="__type__",Hv="__previous_value__",Gv="__local_write_time__";function Fd(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[qv])===null||i===void 0?void 0:i.stringValue)===jv}function Uc(a){const t=a.mapValue.fields[Hv];return Fd(t)?Uc(t):t}function ml(a){const t=Dr(a.mapValue.fields[Gv].timestampValue);return new nn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t,i,s,l,c,d,g,p,v){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v}}const yc="(default)";class gl{constructor(t,i){this.projectId=t,this.database=i||yc}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database===yc}isEqual(t){return t instanceof gl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="__type__",hb="__max__",ec={mapValue:{}},fb="__vector__",Ad="value";function Nr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Fd(a)?4:mb(a)?9007199254740991:db(a)?10:11:Et(28295,{value:a})}function ri(a,t){if(a===t)return!0;const i=Nr(a);if(i!==Nr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return ml(a).isEqual(ml(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Dr(l.timestampValue),g=Dr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(l,c){return Or(l.bytesValue).isEqual(Or(c.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(l,c){return he(l.geoPointValue.latitude)===he(c.geoPointValue.latitude)&&he(l.geoPointValue.longitude)===he(c.geoPointValue.longitude)}(a,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return he(l.integerValue)===he(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=he(l.doubleValue),g=he(c.doubleValue);return d===g?Td(d)===Td(g):isNaN(d)&&isNaN(g)}return!1}(a,t);case 9:return Na(a.arrayValue.values||[],t.arrayValue.values||[],ri);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(a_(d)!==a_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ri(d[p],g[p])))return!1;return!0}(a,t);default:return Et(52216,{left:a})}}function pl(a,t){return(a.values||[]).find(i=>ri(i,t))!==void 0}function Ma(a,t){if(a===t)return 0;const i=Nr(a),s=Nr(t);if(i!==s)return It(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(a.booleanValue,t.booleanValue);case 2:return function(c,d){const g=he(c.integerValue||c.doubleValue),p=he(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,t);case 3:return l_(a.timestampValue,t.timestampValue);case 4:return l_(ml(a),ml(t));case 5:return Ed(a.stringValue,t.stringValue);case 6:return function(c,d){const g=Or(c),p=Or(d);return g.compareTo(p)}(a.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const A=It(g[v],p[v]);if(A!==0)return A}return It(g.length,p.length)}(a.referenceValue,t.referenceValue);case 8:return function(c,d){const g=It(he(c.latitude),he(d.latitude));return g!==0?g:It(he(c.longitude),he(d.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return u_(a.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,v,A;const C=c.fields||{},z=d.fields||{},Q=(g=C[Ad])===null||g===void 0?void 0:g.arrayValue,et=(p=z[Ad])===null||p===void 0?void 0:p.arrayValue,st=It(((v=Q==null?void 0:Q.values)===null||v===void 0?void 0:v.length)||0,((A=et==null?void 0:et.values)===null||A===void 0?void 0:A.length)||0);return st!==0?st:u_(Q,et)}(a.mapValue,t.mapValue);case 11:return function(c,d){if(c===ec.mapValue&&d===ec.mapValue)return 0;if(c===ec.mapValue)return 1;if(d===ec.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=d.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let C=0;C<p.length&&C<A.length;++C){const z=Ed(p[C],A[C]);if(z!==0)return z;const Q=Ma(g[p[C]],v[A[C]]);if(Q!==0)return Q}return It(p.length,A.length)}(a.mapValue,t.mapValue);default:throw Et(23264,{Pe:i})}}function l_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return It(a,t);const i=Dr(a),s=Dr(t),l=It(i.seconds,s.seconds);return l!==0?l:It(i.nanos,s.nanos)}function u_(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Ma(i[l],s[l]);if(c)return c}return It(i.length,s.length)}function Va(a){return Sd(a)}function Sd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Dr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Or(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ft.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Sd(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Sd(i.fields[d])}`;return l+"}"}(a.mapValue):Et(61005,{value:a})}function ac(a){switch(Nr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Uc(a);return t?16+ac(t):16;case 5:return 2*a.stringValue.length;case 6:return Or(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+ac(c),0)}(a.arrayValue);case 10:case 11:return function(s){let l=0;return Al(s.fields,(c,d)=>{l+=c.length+ac(d)}),l}(a.mapValue);default:throw Et(13486,{value:a})}}function bd(a){return!!a&&"integerValue"in a}function Kd(a){return!!a&&"arrayValue"in a}function c_(a){return!!a&&"nullValue"in a}function h_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function od(a){return!!a&&"mapValue"in a}function db(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[cb])===null||i===void 0?void 0:i.stringValue)===fb}function ol(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return Al(a.mapValue.fields,(i,s)=>t.mapValue.fields[i]=ol(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ol(a.arrayValue.values[i]);return t}return Object.assign({},a)}function mb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===hb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this.value=t}static empty(){return new Wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!od(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ol(i)}setAll(t){let i=Ze.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=ol(d):l.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());od(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];od(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Al(i,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Wn(ol(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t,i,s,l,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Fe(t,0,vt.min(),vt.min(),vt.min(),Wn.empty(),0)}static newFoundDocument(t,i,s,l){return new Fe(t,1,i,vt.min(),s,l,0)}static newNoDocument(t,i){return new Fe(t,2,i,vt.min(),vt.min(),Wn.empty(),0)}static newUnknownDocument(t,i){return new Fe(t,3,i,vt.min(),vt.min(),Wn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Fe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,i){this.position=t,this.inclusive=i}}function f_(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?s=ft.comparator(ft.fromName(d.referenceValue),i.key):s=Ma(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function d_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ri(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,i="asc"){this.field=t,this.dir=i}}function gb(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{}class Se extends Fv{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new yb(t,i,s):i==="array-contains"?new Eb(t,s):i==="in"?new Tb(t,s):i==="not-in"?new Ab(t,s):i==="array-contains-any"?new Sb(t,s):new Se(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new _b(t,s):new vb(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ma(i,this.value)):i!==null&&Nr(this.value)===Nr(i)&&this.matchesComparison(Ma(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends Fv{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new si(t,i)}matches(t){return Kv(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Kv(a){return a.op==="and"}function Qv(a){return pb(a)&&Kv(a)}function pb(a){for(const t of a.filters)if(t instanceof si)return!1;return!0}function Rd(a){if(a instanceof Se)return a.field.canonicalString()+a.op.toString()+Va(a.value);if(Qv(a))return a.filters.map(t=>Rd(t)).join(",");{const t=a.filters.map(i=>Rd(i)).join(",");return`${a.op}(${t})`}}function Yv(a,t){return a instanceof Se?function(s,l){return l instanceof Se&&s.op===l.op&&s.field.isEqual(l.field)&&ri(s.value,l.value)}(a,t):a instanceof si?function(s,l){return l instanceof si&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&Yv(d,l.filters[g]),!0):!1}(a,t):void Et(19439)}function Xv(a){return a instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${Va(i.value)}`}(a):a instanceof si?function(i){return i.op.toString()+" {"+i.getFilters().map(Xv).join(" ,")+"}"}(a):"Filter"}class yb extends Se{constructor(t,i,s){super(t,i,s),this.key=ft.fromName(s.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class _b extends Se{constructor(t,i){super(t,"in",i),this.keys=$v("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class vb extends Se{constructor(t,i){super(t,"not-in",i),this.keys=$v("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function $v(a,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ft.fromName(s.referenceValue))}class Eb extends Se{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Kd(i)&&pl(i.arrayValue,this.value)}}class Tb extends Se{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&pl(this.value.arrayValue,i)}}class Ab extends Se{constructor(t,i){super(t,"not-in",i)}matches(t){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!pl(this.value.arrayValue,i)}}class Sb extends Se{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Kd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>pl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t,i=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function m_(a,t=null,i=[],s=[],l=null,c=null,d=null){return new bb(a,t,i,s,l,c,d)}function Qd(a){const t=Pt(a);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Rd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),xc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Va(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Va(s)).join(",")),t.Ie=i}return t.Ie}function Yd(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!gb(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Yv(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!d_(a.startAt,t.startAt)&&d_(a.endAt,t.endAt)}function wd(a){return ft.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,i=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Rb(a,t,i,s,l,c,d,g){return new Pc(a,t,i,s,l,c,d,g)}function Xd(a){return new Pc(a)}function g_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function wb(a){return a.collectionGroup!==null}function ll(a){const t=Pt(a);if(t.Ee===null){t.Ee=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new vc(c,s))}),i.has(Ze.keyField().canonicalString())||t.Ee.push(new vc(Ze.keyField(),s))}return t.Ee}function ti(a){const t=Pt(a);return t.de||(t.de=Ib(t,ll(a))),t.de}function Ib(a,t){if(a.limitType==="F")return m_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new vc(l.field,c)});const i=a.endAt?new _c(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new _c(a.startAt.position,a.startAt.inclusive):null;return m_(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Id(a,t,i){return new Pc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Lc(a,t){return Yd(ti(a),ti(t))&&a.limitType===t.limitType}function Zv(a){return`${Qd(ti(a))}|lt:${a.limitType}`}function Ea(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>Xv(l)).join(", ")}]`),xc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>Va(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>Va(l)).join(",")),`Target(${s})`}(ti(a))}; limitType=${a.limitType})`}function kc(a,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ft.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,t)&&function(s,l){for(const c of ll(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(a,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(a,t)&&function(s,l){return!(s.startAt&&!function(d,g,p){const v=f_(d,g,p);return d.inclusive?v<=0:v<0}(s.startAt,ll(s),l)||s.endAt&&!function(d,g,p){const v=f_(d,g,p);return d.inclusive?v>=0:v>0}(s.endAt,ll(s),l))}(a,t)}function Cb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Jv(a){return(t,i)=>{let s=!1;for(const l of ll(a)){const c=Db(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function Db(a,t,i){const s=a.field.isKeyField()?ft.comparator(t.key,i.key):function(c,d,g){const p=d.data.field(c),v=g.data.field(c);return p!==null&&v!==null?Ma(p,v):Et(42886)}(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Al(this.inner,(i,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return ob(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new fe(ft.comparator);function Mr(){return Ob}const Wv=new fe(ft.comparator);function rl(...a){let t=Wv;for(const i of a)t=t.insert(i.key,i);return t}function Nb(a){let t=Wv;return a.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function vs(){return ul()}function tE(){return ul()}function ul(){return new Rs(a=>a.toString(),(a,t)=>a.isEqual(t))}const Mb=new be(ft.comparator);function Lt(...a){let t=Mb;for(const i of a)t=t.add(i);return t}const Vb=new be(It);function xb(){return Vb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(t)?"-0":t}}function Pb(a){return{integerValue:""+a}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(){this._=void 0}}function Lb(a,t,i){return a instanceof Cd?function(l,c){const d={fields:{[qv]:{stringValue:jv},[Gv]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Fd(c)&&(c=Uc(c)),c&&(d.fields[Hv]=c),{mapValue:d}}(i,t):a instanceof Ec?eE(a,t):a instanceof Tc?nE(a,t):function(l,c){const d=zb(l,c),g=p_(d)+p_(l.Re);return bd(d)&&bd(l.Re)?Pb(g):Ub(l.serializer,g)}(a,t)}function kb(a,t,i){return a instanceof Ec?eE(a,t):a instanceof Tc?nE(a,t):i}function zb(a,t){return a instanceof Dd?function(s){return bd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Cd extends zc{}class Ec extends zc{constructor(t){super(),this.elements=t}}function eE(a,t){const i=iE(t);for(const s of a.elements)i.some(l=>ri(l,s))||i.push(s);return{arrayValue:{values:i}}}class Tc extends zc{constructor(t){super(),this.elements=t}}function nE(a,t){let i=iE(t);for(const s of a.elements)i=i.filter(l=>!ri(l,s));return{arrayValue:{values:i}}}class Dd extends zc{constructor(t,i){super(),this.serializer=t,this.Re=i}}function p_(a){return he(a.integerValue||a.doubleValue)}function iE(a){return Kd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Bb(a,t){return a.field.isEqual(t.field)&&function(s,l){return s instanceof Ec&&l instanceof Ec||s instanceof Tc&&l instanceof Tc?Na(s.elements,l.elements,ri):s instanceof Dd&&l instanceof Dd?ri(s.Re,l.Re):s instanceof Cd&&l instanceof Cd}(a.transform,t.transform)}class Es{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Es}static exists(t){return new Es(void 0,t)}static updateTime(t){return new Es(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function oc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class $d{}function rE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new qb(a.key,Es.none()):new Zd(a.key,a.data,Es.none());{const i=a.data,s=Wn.empty();let l=new be(Ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Bc(a.key,s,new vr(l.toArray()),Es.none())}}function jb(a,t,i){a instanceof Zd?function(l,c,d){const g=l.value.clone(),p=__(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,t,i):a instanceof Bc?function(l,c,d){if(!oc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=__(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(sE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,t,i):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function cl(a,t,i,s){return a instanceof Zd?function(c,d,g,p){if(!oc(c.precondition,d))return g;const v=c.value.clone(),A=v_(c.fieldTransforms,p,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,t,i,s):a instanceof Bc?function(c,d,g,p){if(!oc(c.precondition,d))return g;const v=v_(c.fieldTransforms,p,d),A=d.data;return A.setAll(sE(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(a,t,i,s):function(c,d,g){return oc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,t,i)}function y_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Na(s,l,(c,d)=>Bb(c,d))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Zd extends $d{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Bc extends $d{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sE(a){const t=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}}),t}function __(a,t,i){const s=new Map;ie(a.length===i.length,32656,{Ve:i.length,me:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,kb(d,g,i[l]))}return s}function v_(a,t,i){const s=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);s.set(l.field,Lb(c,d,t))}return s}class qb extends $d{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&jb(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=cl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=cl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=tE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=rE(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(vt.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Lt())}isEqual(t){return this.batchId===t.batchId&&Na(this.mutations,t.mutations,(i,s)=>y_(i,s))&&Na(this.baseMutations,t.baseMutations,(i,s)=>y_(i,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Ut;function aE(a){if(a===void 0)return Pi("GRPC error has no .code"),W.UNKNOWN;switch(a){case ye.OK:return W.OK;case ye.CANCELLED:return W.CANCELLED;case ye.UNKNOWN:return W.UNKNOWN;case ye.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ye.INTERNAL:return W.INTERNAL;case ye.UNAVAILABLE:return W.UNAVAILABLE;case ye.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ye.NOT_FOUND:return W.NOT_FOUND;case ye.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ye.ABORTED:return W.ABORTED;case ye.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ye.DATA_LOSS:return W.DATA_LOSS;default:return Et(39323,{code:a})}}(Ut=ye||(ye={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new br([4294967295,4294967295],0);function E_(a){const t=Lv().encode(a),i=new Dv;return i.update(t),new Uint8Array(i.digest())}function T_(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new br([i,s],0),new br([l,c],0)]}class Jd{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new sl(`Invalid padding: ${i}`);if(s<0)throw new sl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new sl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=br.fromNumber(this.pe)}we(t,i,s){let l=t.add(i.multiply(br.fromNumber(s)));return l.compare(Kb)===1&&(l=new br([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=E_(t),[s,l]=T_(i);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);if(!this.be(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Jd(c,l,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.pe===0)return;const i=E_(t),[s,l]=T_(i);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Sl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new jc(vt.min(),l,new fe(It),Mr(),Lt())}}class Sl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Sl(s,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,i,s,l){this.De=t,this.removedTargetIds=i,this.key=s,this.ve=l}}class oE{constructor(t,i){this.targetId=t,this.Ce=i}}class lE{constructor(t,i,s=ze.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class A_{constructor(){this.Fe=0,this.Me=S_(),this.xe=ze.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Lt(),i=Lt(),s=Lt();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Et(38017,{changeType:c})}}),new Sl(this.xe,this.Oe,t,i,s)}Qe(){this.Ne=!1,this.Me=S_()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,ie(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Qb{constructor(t){this.ze=t,this.je=new Map,this.He=Mr(),this.Je=nc(),this.Ye=nc(),this.Ze=new fe(It)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const s=this.rt(i);switch(t.state){case 0:this.it(i)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((s,l)=>{this.it(l)&&i(l)})}ot(t){const i=t.targetId,s=t.Ce.count,l=this._t(i);if(l){const c=l.target;if(wd(c))if(s===0){const d=new ft(c.path);this.tt(i,d,Fe.newNoDocument(d,vt.min()))}else ie(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(t),p=g?this.lt(g,t,d):1;if(p!==0){this.st(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Or(s).toUint8Array()}catch(p){if(p instanceof Bv)return Oa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Jd(d,l,c)}catch(p){return Oa(p instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,i,s){return i.Ce.count===s-this.Tt(t,i.targetId)?0:2}Tt(t,i){const s=this.ze.getRemoteKeysForTarget(i);let l=0;return s.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(i,c,null),l++)}),l}It(t){const i=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&wd(g.target)){const p=new ft(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,Fe.newNoDocument(p,t))}c.Le&&(i.set(d,c.qe()),c.Qe())}});let s=Lt();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const v=this._t(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,d)=>d.setReadTime(t));const l=new jc(t,i,this.Ze,this.He,s);return this.He=Mr(),this.Je=nc(),this.Ye=nc(),this.Ze=new fe(It),l}et(t,i){if(!this.it(t))return;const s=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,i)?l.$e(i,1):l.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),s&&(this.He=this.He.insert(i,s))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new A_,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new be(It),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new be(It),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new A_),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function nc(){return new fe(ft.comparator)}function S_(){return new fe(ft.comparator)}const Yb={asc:"ASCENDING",desc:"DESCENDING"},Xb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$b={and:"AND",or:"OR"};class Zb{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Od(a,t){return a.useProto3Json||xc(t)?t:{value:t}}function Jb(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Wb(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function ba(a){return ie(!!a,49232),vt.fromTimestamp(function(i){const s=Dr(i);return new nn(s.seconds,s.nanos)}(a))}function tR(a,t){return Nd(a,t).canonicalString()}function Nd(a,t){const i=function(l){return new ee(["projects",l.projectId,"databases",l.database])}(a).child("documents");return t===void 0?i:i.child(t)}function uE(a){const t=ee.fromString(a);return ie(mE(t),10190,{key:t.toString()}),t}function ld(a,t){const i=uE(t);if(i.get(1)!==a.databaseId.projectId)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ft(hE(i))}function cE(a,t){return tR(a.databaseId,t)}function eR(a){const t=uE(a);return t.length===4?ee.emptyPath():hE(t)}function b_(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function hE(a){return ie(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function nR(a,t){let i;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Et(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(v,A){return v.useProto3Json?(ie(A===void 0||typeof A=="string",58123),ze.fromBase64String(A||"")):(ie(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ze.fromUint8Array(A||new Uint8Array))}(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?W.UNKNOWN:aE(v.code);return new lt(A,v.message||"")}(d);i=new lE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=ld(a,s.document.name),c=ba(s.document.updateTime),d=s.document.createTime?ba(s.document.createTime):vt.min(),g=new Wn({mapValue:{fields:s.document.fields}}),p=Fe.newFoundDocument(l,c,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new lc(v,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=ld(a,s.document),c=s.readTime?ba(s.readTime):vt.min(),d=Fe.newNoDocument(l,c),g=s.removedTargetIds||[];i=new lc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=ld(a,s.document),c=s.removedTargetIds||[];i=new lc([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new Fb(l,c),g=s.targetId;i=new oE(g,d)}}return i}function iR(a,t){return{documents:[cE(a,t.path)]}}function rR(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=cE(a,l);const c=function(v){if(v.length!==0)return dE(si.create(v,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(A=>function(z){return{field:Ta(z.field),direction:oR(z.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Od(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{gt:i,parent:l}}function sR(a){let t=eR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){ie(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=function(C){const z=fE(C);return z instanceof si&&Qv(z)?z.getFilters():[z]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(z=>function(et){return new vc(Aa(et.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(et.direction))}(z))}(i.orderBy));let g=null;i.limit&&(g=function(C){let z;return z=typeof C=="object"?C.value:C,xc(z)?null:z}(i.limit));let p=null;i.startAt&&(p=function(C){const z=!!C.before,Q=C.values||[];return new _c(Q,z)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const z=!C.before,Q=C.values||[];return new _c(Q,z)}(i.endAt)),Rb(t,l,d,c,g,"F",p,v)}function aR(a,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function fE(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Aa(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Aa(i.unaryFilter.field);return Se.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Aa(i.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Aa(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(a):a.fieldFilter!==void 0?function(i){return Se.create(Aa(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return si.create(i.compositeFilter.filters.map(s=>fE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(i.compositeFilter.op))}(a):Et(30097,{filter:a})}function oR(a){return Yb[a]}function lR(a){return Xb[a]}function uR(a){return $b[a]}function Ta(a){return{fieldPath:a.canonicalString()}}function Aa(a){return Ze.fromServerFormat(a.fieldPath)}function dE(a){return a instanceof Se?function(i){if(i.op==="=="){if(h_(i.value))return{unaryFilter:{field:Ta(i.field),op:"IS_NAN"}};if(c_(i.value))return{unaryFilter:{field:Ta(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(h_(i.value))return{unaryFilter:{field:Ta(i.field),op:"IS_NOT_NAN"}};if(c_(i.value))return{unaryFilter:{field:Ta(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ta(i.field),op:lR(i.op),value:i.value}}}(a):a instanceof si?function(i){const s=i.getFilters().map(l=>dE(l));return s.length===1?s[0]:{compositeFilter:{op:uR(i.op),filters:s}}}(a):Et(54877,{filter:a})}function mE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t,i,s,l,c=vt.min(),d=vt.min(),g=ze.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t){this.wt=t}}function hR(a){const t=sR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Id(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.yn=new dR}addToCollectionParentIndex(t,i){return this.yn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.yn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Cr.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Cr.min())}updateCollectionGroup(t,i,s){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class dR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new be(ee.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new be(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gE=41943040;class en{static withCacheSize(t){return new en(t,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(gE,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new xa(0)}static ir(){return new xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="LruGarbageCollector",mR=1048576;function I_([a,t],[i,s]){const l=It(a,i);return l===0?It(t,s):l}class gR{constructor(t){this.cr=t,this.buffer=new be(I_),this.lr=0}hr(){return++this.lr}Pr(t){const i=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();I_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class pR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){it(w_,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ba(i)?it(w_,"Ignoring IndexedDB error during garbage collection: ",i):await Mc(i)}await this.Ir(3e5)})}}class yR{constructor(t,i){this.Er=t,this.params=i}calculateTargetCount(t,i){return this.Er.dr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return K.resolve(Vc.le);const s=new gR(i);return this.Er.forEachTarget(t,l=>s.Pr(l.sequenceNumber)).next(()=>this.Er.Ar(t,l=>s.Pr(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Er.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Er.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(R_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R_):this.Rr(t,i))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,i){let s,l,c,d,g,p,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,d=Date.now(),this.nthSequenceNumber(t,l))).next(C=>(s=C,g=Date.now(),this.removeTargets(t,s,i))).next(C=>(c=C,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(C=>(v=Date.now(),va()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${C} documents in `+(v-p)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:C})))}}function _R(a,t){return new yR(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.changes=new Rs(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Fe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&cl(s.mutation,l,vr.empty(),nn.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Lt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Lt()){const l=vs();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(c=>{let d=rl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=vs();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Lt()))}populateOverlays(t,i,s){const l=[];return s.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,l){let c=Mr();const d=ul(),g=function(){return ul()}();return i.forEach((p,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Bc)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),cl(A.mutation,v,A.mutation.getFieldMask(),nn.now())):d.set(v.key,vr.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var C;return g.set(v,new ER(A,(C=d.get(v))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(t,i){const s=ul();let l=new fe((d,g)=>d-g),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const v=i.get(p);if(v===null)return;let A=s.get(p)||vr.empty();A=g.applyToLocalView(v,A),s.set(p,A);const C=(l.get(g.batchId)||Lt()).add(p);l=l.insert(g.batchId,C)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,A=p.value,C=tE();A.forEach(z=>{if(!c.has(z)){const Q=rE(i.get(z),s.get(z));Q!==null&&C.set(z,Q),c=c.add(z)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,C))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):wb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):K.resolve(vs());let g=dl,p=c;return d.next(v=>K.forEach(v,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next(z=>{p=p.insert(A,z)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,p,v,Lt())).next(A=>({batchId:g,changes:Nb(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next(s=>{let l=rl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=rl();return this.indexManager.getCollectionParents(t,c).next(g=>K.forEach(g,p=>{const v=function(C,z){return new Pc(z,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next(A=>{A.forEach((C,z)=>{d=d.insert(C,z)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l))).next(d=>{c.forEach((p,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Fe.newInvalidDocument(A)))});let g=rl();return d.forEach((p,v)=>{const A=c.get(p);A!==void 0&&cl(A.mutation,v,vr.empty(),nn.now()),kc(i,v)&&(g=g.insert(p,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,i){return K.resolve(this.Fr.get(i))}saveBundleMetadata(t,i){return this.Fr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ba(l.createTime)}}(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.Mr.get(i))}saveNamedQuery(t,i){return this.Mr.set(i.name,function(l){return{name:l.name,query:hR(l.bundledQuery),readTime:ba(l.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.overlays=new fe(ft.comparator),this.Or=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const s=vs();return K.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,c)=>{this.St(t,i,c)}),K.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Or.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Or.delete(s)),K.resolve()}getOverlaysForCollection(t,i,s){const l=vs(),c=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new fe((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=c.get(v.largestBatchId);A===null&&(A=vs(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=vs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return K.resolve(g)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Or.get(l.largestBatchId).delete(s.key);this.Or.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Gb(i,s));let c=this.Or.get(i);c===void 0&&(c=Lt(),this.Or.set(i,c)),this.Or.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.sessionToken=ze.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(){this.Nr=new be(Ne.Br),this.Lr=new be(Ne.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,i){const s=new Ne(t,i);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Qr(new Ne(t,i))}$r(t,i){t.forEach(s=>this.removeReference(s,i))}Ur(t){const i=new ft(new ee([])),s=new Ne(i,t),l=new Ne(i,t+1),c=[];return this.Lr.forEachInRange([s,l],d=>{this.Qr(d),c.push(d.key)}),c}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const i=new ft(new ee([])),s=new Ne(i,t),l=new Ne(i,t+1);let c=Lt();return this.Lr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Ne(t,0),s=this.Nr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ne{constructor(t,i){this.key=t,this.Gr=i}static Br(t,i){return ft.comparator(t.key,i.key)||It(t.Gr,i.Gr)}static kr(t,i){return It(t.Gr,i.Gr)||ft.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new be(Ne.Br)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Hb(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.zr=this.zr.add(new Ne(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Hr(s),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?rb:this.Jn-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ne(i,0),l=new Ne(i,Number.POSITIVE_INFINITY),c=[];return this.zr.forEachInRange([s,l],d=>{const g=this.jr(d.Gr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new be(It);return i.forEach(l=>{const c=new Ne(l,0),d=new Ne(l,Number.POSITIVE_INFINITY);this.zr.forEachInRange([c,d],g=>{s=s.add(g.Gr)})}),K.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ft.isDocumentKey(c)||(c=c.child(""));const d=new Ne(new ft(c),0);let g=new be(It);return this.zr.forEachWhile(p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.Gr)),!0)},d),K.resolve(this.Jr(g))}Jr(t){const i=[];return t.forEach(s=>{const l=this.jr(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){ie(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return K.forEach(i.mutations,l=>{const c=new Ne(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.zr=s})}Xn(t){}containsKey(t,i){const s=new Ne(i,0),l=this.zr.firstAfterOrEqual(s);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}Yr(t,i){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const i=this.Hr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t){this.Zr=t,this.docs=function(){return new fe(ft.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.Zr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(t,i){let s=Mr();return i.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Fe.newInvalidDocument(l))}),K.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=Mr();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:A}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||tb(WS(A),s)<=0||(l.has(A.key)||kc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,i,s,l){Et(9500)}Xr(t,i){return K.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new IR(this)}getSize(t){return K.resolve(this.size)}}class IR extends vR{constructor(t){super(),this.vr=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.vr.addEntry(t,l)):this.vr.removeEntry(s)}),K.waitFor(i)}getFromCache(t,i){return this.vr.getEntry(t,i)}getAllFromCache(t,i){return this.vr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.persistence=t,this.ei=new Rs(i=>Qd(i),Yd),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Wd,this.targetCount=0,this.ri=xa.rr()}forEachTarget(t,i){return this.ei.forEach((s,l)=>i(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ti&&(this.ti=i),K.resolve()}ar(t){this.ei.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ri=new xa(i),this.highestTargetId=i),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,i){return this.ar(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.ar(i),K.resolve()}removeTargetData(t,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.ei.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ei.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const s=this.ei.get(i)||null;return K.resolve(s)}addMatchingKeys(t,i,s){return this.ni.qr(i,s),K.resolve()}removeMatchingKeys(t,i,s){this.ni.$r(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.ni.Ur(i),K.resolve()}getMatchingKeysForTargetId(t,i){const s=this.ni.Wr(i);return K.resolve(s)}containsKey(t,i){return K.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t,i){this.ii={},this.overlays={},this.si=new Vc(0),this.oi=!1,this.oi=!0,this._i=new bR,this.referenceDelegate=t(this),this.ai=new CR(this),this.indexManager=new fR,this.remoteDocumentCache=function(l){return new wR(l)}(s=>this.referenceDelegate.ui(s)),this.serializer=new cR(i),this.ci=new AR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new SR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ii[t.toKey()];return s||(s=new RR(i,this.referenceDelegate),this.ii[t.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,i,s){it("MemoryPersistence","Starting transaction:",t);const l=new DR(this.si.next());return this.referenceDelegate.li(),s(l).next(c=>this.referenceDelegate.hi(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Pi(t,i){return K.or(Object.values(this.ii).map(s=>()=>s.containsKey(t,i)))}}class DR extends nb{constructor(t){super(),this.currentSequenceNumber=t}}class tm{constructor(t){this.persistence=t,this.Ti=new Wd,this.Ii=null}static Ei(t){return new tm(t)}get di(){if(this.Ii)return this.Ii;throw Et(60996)}addReference(t,i,s){return this.Ti.addReference(s,i),this.di.delete(s.toString()),K.resolve()}removeReference(t,i,s){return this.Ti.removeReference(s,i),this.di.add(s.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),K.resolve()}removeTarget(t,i){this.Ti.Ur(i.targetId).forEach(l=>this.di.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.di.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}li(){this.Ii=new Set}hi(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,s=>{const l=ft.fromPath(s);return this.Ai(t,l).next(c=>{c||i.removeEntry(l,vt.min())})}).next(()=>(this.Ii=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ai(t,i).next(s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(t){return 0}Ai(t,i){return K.or([()=>K.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Pi(t,i)])}}class Ac{constructor(t,i){this.persistence=t,this.Ri=new Rs(s=>sb(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=_R(this,i)}static Ei(t,i){return new Ac(t,i)}li(){}hi(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}Vr(t){let i=0;return this.Ar(t,s=>{i++}).next(()=>i)}Ar(t,i){return K.forEach(this.Ri,(s,l)=>this.gr(t,s,l).next(c=>c?K.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.Xr(t,d=>this.gr(t,d,i).next(g=>{g||(s++,c.removeEntry(d,vt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.Ri.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.Ri.set(s,t.currentSequenceNumber),K.resolve()}removeReference(t,i,s){return this.Ri.set(s,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.Ri.set(i,t.currentSequenceNumber),K.resolve()}ui(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=ac(t.data.value)),i}gr(t,i,s){return K.or([()=>this.persistence.Pi(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.Ri.get(i);return K.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.ls=s,this.hs=l}static Ps(t,i){let s=Lt(),l=Lt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new em(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return SA()?8:ib(Ke())>0?6:4}()}initialize(t,i){this.As=t,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.Rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Vs(t,i,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new OR;return this.fs(t,i,d).next(g=>{if(c.result=g,this.Is)return this.gs(t,i,d,g.size)})}).next(()=>c.result)}gs(t,i,s,l){return s.documentReadCount<this.Es?(va()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ea(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),K.resolve()):(va()<=Ot.DEBUG&&it("QueryEngine","Query:",Ea(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(va()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ea(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ti(i))):K.resolve())}Rs(t,i){if(g_(i))return K.resolve(null);let s=ti(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Id(i,null,"F"),s=ti(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Lt(...c);return this.As.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const v=this.ps(i,g);return this.ys(i,v,d,p.readTime)?this.Rs(t,Id(i,null,"F")):this.ws(t,v,i,p)}))})))}Vs(t,i,s,l){return g_(i)||l.isEqual(vt.min())?K.resolve(null):this.As.getDocuments(t,s).next(c=>{const d=this.ps(i,c);return this.ys(i,d,s,l)?K.resolve(null):(va()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ea(i)),this.ws(t,d,i,JS(l,dl)).next(g=>g))})}ps(t,i){let s=new be(Jv(t));return i.forEach((l,c)=>{kc(t,c)&&(s=s.add(c))}),s}ys(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}fs(t,i,s){return va()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ea(i)),this.As.getDocumentsMatchingQuery(t,i,Cr.min(),s)}ws(t,i,s,l){return this.As.getDocumentsMatchingQuery(t,s,l).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="LocalStore",MR=3e8;class VR{constructor(t,i,s,l){this.persistence=t,this.bs=i,this.serializer=l,this.Ss=new fe(It),this.Ds=new Rs(c=>Qd(c),Yd),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(s)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new TR(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ss))}}function xR(a,t,i,s){return new VR(a,t,i,s)}async function yE(a,t){const i=Pt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,i.Fs(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=Lt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(s,p).next(v=>({Ms:v,removedBatchIds:d,addedBatchIds:g}))})})}function _E(a){const t=Pt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.ai.getLastRemoteSnapshotVersion(i))}function UR(a,t){const i=Pt(a),s=t.snapshotVersion;let l=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Cs.newChangeBuffer({trackRemovals:!0});l=i.Ss;const g=[];t.targetChanges.forEach((A,C)=>{const z=l.get(C);if(!z)return;g.push(i.ai.removeMatchingKeys(c,A.removedDocuments,C).next(()=>i.ai.addMatchingKeys(c,A.addedDocuments,C)));let Q=z.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(C)!==null?Q=Q.withResumeToken(ze.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,s)),l=l.insert(C,Q),function(st,Z,At){return st.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=MR?!0:At.addedDocuments.size+At.modifiedDocuments.size+At.removedDocuments.size>0}(z,Q,A)&&g.push(i.ai.updateTargetData(c,Q))});let p=Mr(),v=Lt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(PR(c,d,t.documentUpdates).next(A=>{p=A.xs,v=A.Os})),!s.isEqual(vt.min())){const A=i.ai.getLastRemoteSnapshotVersion(c).next(C=>i.ai.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return K.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(i.Ss=l,c))}function PR(a,t,i){let s=Lt(),l=Lt();return i.forEach(c=>s=s.add(c)),t.getEntries(a,s).next(c=>{let d=Mr();return i.forEach((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(vt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):it(nm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)}),{xs:d,Os:l}})}function LR(a,t){const i=Pt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.ai.getTargetData(s,t).next(c=>c?(l=c,K.resolve(l)):i.ai.allocateTargetId(s).next(d=>(l=new Er(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.ai.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.Ss.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(s.targetId,s),i.Ds.set(t,s.targetId)),s})}async function Md(a,t,i){const s=Pt(a),l=s.Ss.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Ba(d))throw d;it(nm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ss=s.Ss.remove(t),s.Ds.delete(l.target)}function C_(a,t,i){const s=Pt(a);let l=vt.min(),c=Lt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,v,A){const C=Pt(p),z=C.Ds.get(A);return z!==void 0?K.resolve(C.Ss.get(z)):C.ai.getTargetData(v,A)}(s,d,ti(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.bs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Lt())).next(g=>(kR(s,Cb(t),g),{documents:g,Ns:c})))}function kR(a,t,i){let s=a.vs.get(t)||vt.min();i.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.vs.set(t,s)}class D_{constructor(){this.activeTargetIds=xb()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zR{constructor(){this.So=new D_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,i,s){this.Do[t]=i}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new D_,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="ConnectivityMonitor";class N_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){it(O_,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){it(O_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic=null;function Vd(){return ic===null?ic=function(){return 268435456+Math.round(2147483648*Math.random())}():ic++,"0x"+ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="RestConnection",jR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qR{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+t.host,this.ko=`projects/${s}/databases/${l}`,this.qo=this.databaseId.database===yc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Qo(t,i,s,l,c){const d=Vd(),g=this.$o(t,i.toUriEncodedString());it(ud,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,l,c),this.Ko(t,g,p,s).then(v=>(it(ud,`Received RPC '${t}' ${d}: `,v),v),v=>{throw Oa(ud,`RPC '${t}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Wo(t,i,s,l,c,d){return this.Qo(t,i,s,l,c)}Uo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+za}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}$o(t,i){const s=jR[t];return`${this.Lo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class GR extends qR{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,i,s,l){const c=Vd();return new Promise((d,g)=>{const p=new Ov;p.setWithCredentials(!0),p.listenOnce(Nv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case sc.NO_ERROR:const A=p.getResponseJson();it(He,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case sc.TIMEOUT:it(He,`RPC '${t}' ${c} timed out`),g(new lt(W.DEADLINE_EXCEEDED,"Request time out"));break;case sc.HTTP_ERROR:const C=p.getStatus();if(it(He,`RPC '${t}' ${c} failed with status:`,C,"response text:",p.getResponseText()),C>0){let z=p.getResponseJson();Array.isArray(z)&&(z=z[0]);const Q=z==null?void 0:z.error;if(Q&&Q.status&&Q.message){const et=function(Z){const At=Z.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(At)>=0?At:W.UNKNOWN}(Q.status);g(new lt(et,Q.message))}else g(new lt(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new lt(W.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{s_:t,streamId:c,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{it(He,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(l);it(He,`RPC '${t}' ${c} sending request:`,l),p.send(i,"POST",v,s,15)})}a_(t,i,s){const l=Vd(),c=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=xv(),g=Vv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const A=c.join("");it(He,`Creating RPC '${t}' stream ${l}: ${A}`,p);const C=d.createWebChannel(A,p);let z=!1,Q=!1;const et=new HR({Go:Z=>{Q?it(He,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(z||(it(He,`Opening RPC '${t}' stream ${l} transport.`),C.open(),z=!0),it(He,`RPC '${t}' stream ${l} sending:`,Z),C.send(Z))},zo:()=>C.close()}),st=(Z,At,Tt)=>{Z.listen(At,ct=>{try{Tt(ct)}catch(_t){setTimeout(()=>{throw _t},0)}})};return st(C,il.EventType.OPEN,()=>{Q||(it(He,`RPC '${t}' stream ${l} transport opened.`),et.t_())}),st(C,il.EventType.CLOSE,()=>{Q||(Q=!0,it(He,`RPC '${t}' stream ${l} transport closed`),et.r_())}),st(C,il.EventType.ERROR,Z=>{Q||(Q=!0,Oa(He,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),et.r_(new lt(W.UNAVAILABLE,"The operation could not be completed")))}),st(C,il.EventType.MESSAGE,Z=>{var At;if(!Q){const Tt=Z.data[0];ie(!!Tt,16349);const ct=Tt,_t=(ct==null?void 0:ct.error)||((At=ct[0])===null||At===void 0?void 0:At.error);if(_t){it(He,`RPC '${t}' stream ${l} received error:`,_t);const pt=_t.status;let Nt=function(R){const O=ye[R];if(O!==void 0)return aE(O)}(pt),N=_t.message;Nt===void 0&&(Nt=W.INTERNAL,N="Unknown error status: "+pt+" with message "+_t.message),Q=!0,et.r_(new lt(Nt,N)),C.close()}else it(He,`RPC '${t}' stream ${l} received:`,Tt),et.i_(Tt)}}),st(g,Mv.STAT_EVENT,Z=>{Z.stat===vd.PROXY?it(He,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===vd.NOPROXY&&it(He,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{et.n_()},0),et}}function cd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(a){return new Zb(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,i,s=1e3,l=1.5,c=6e4){this.bi=t,this.timerId=i,this.u_=s,this.c_=l,this.l_=c,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const i=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),l=Math.max(0,i-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,l,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="PersistentStream";class FR{constructor(t,i,s,l,c,d,g,p){this.bi=t,this.R_=s,this.V_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new EE(t,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Pi(i.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.m_===i&&this.B_(s,l)},s=>{t(()=>{const l=new lt(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(l)})})}B_(t,i){const s=this.N_(this.m_);this.stream=this.k_(t,i),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(l=>{s(()=>this.L_(l))}),this.stream.onMessage(l=>{s(()=>++this.p_==1?this.q_(l):this.onNext(l))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return it(M_,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return i=>{this.bi.enqueueAndForget(()=>this.m_===t?i():(it(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KR extends FR{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}k_(t,i){return this.connection.a_("Listen",t,i)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const i=nR(this.serializer,t),s=function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?ba(d.readTime):vt.min()}(t);return this.listener.Q_(i,s)}U_(t){const i={};i.database=b_(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=wd(p)?{documents:iR(c,p)}:{query:rR(c,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Wb(c,d.resumeToken);const v=Od(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Jb(c,d.snapshotVersion.toTimestamp());const v=Od(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const s=aR(this.serializer,t);s&&(i.labels=s),this.F_(i)}K_(t){const i={};i.database=b_(this.serializer),i.removeTarget=t,this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{}class YR extends QR{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.J_=!1}Y_(){if(this.J_)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,i,s,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Qo(t,Nd(i,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(W.UNKNOWN,c.toString())})}Wo(t,i,s,l,c){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Wo(t,Nd(i,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(W.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class XR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Pi(i),this.ea=!1):it("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="RemoteStore";class $R{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=c,this.ca.vo(d=>{s.enqueueAndForget(async()=>{Rl(this)&&(it(Ua,"Restarting streams for network reachability change."),await async function(p){const v=Pt(p);v.aa.add(4),await bl(v),v.la.set("Unknown"),v.aa.delete(4),await qc(v)}(this))})}),this.la=new XR(s,l)}}async function qc(a){if(Rl(a))for(const t of a.ua)await t(!0)}async function bl(a){for(const t of a.ua)await t(!1)}function TE(a,t){const i=Pt(a);i._a.has(t.targetId)||(i._a.set(t.targetId,t),am(i)?sm(i):ja(i).b_()&&rm(i,t))}function im(a,t){const i=Pt(a),s=ja(i);i._a.delete(t),s.b_()&&AE(i,t),i._a.size===0&&(s.b_()?s.v_():Rl(i)&&i.la.set("Unknown"))}function rm(a,t){if(a.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ja(a).U_(t)}function AE(a,t){a.ha.Ke(t),ja(a).K_(t)}function sm(a){a.ha=new Qb({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>a._a.get(t)||null,Pt:()=>a.datastore.serializer.databaseId}),ja(a).start(),a.la.ta()}function am(a){return Rl(a)&&!ja(a).w_()&&a._a.size>0}function Rl(a){return Pt(a).aa.size===0}function SE(a){a.ha=void 0}async function ZR(a){a.la.set("Online")}async function JR(a){a._a.forEach((t,i)=>{rm(a,t)})}async function WR(a,t){SE(a),am(a)?(a.la.ia(t),sm(a)):a.la.set("Unknown")}async function tw(a,t,i){if(a.la.set("Online"),t instanceof lE&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l._a.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l._a.delete(g),l.ha.removeTarget(g))}(a,t)}catch(s){it(Ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await V_(a,s)}else if(t instanceof lc?a.ha.Xe(t):t instanceof oE?a.ha.ot(t):a.ha.nt(t),!i.isEqual(vt.min()))try{const s=await _E(a.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.ha.It(d);return g.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=c._a.get(v);A&&c._a.set(v,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,v)=>{const A=c._a.get(p);if(!A)return;c._a.set(p,A.withResumeToken(ze.EMPTY_BYTE_STRING,A.snapshotVersion)),AE(c,p);const C=new Er(A.target,p,v,A.sequenceNumber);rm(c,C)}),c.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){it(Ua,"Failed to raise snapshot:",s),await V_(a,s)}}async function V_(a,t,i){if(!Ba(t))throw t;a.aa.add(1),await bl(a),a.la.set("Offline"),i||(i=()=>_E(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{it(Ua,"Retrying IndexedDB access"),await i(),a.aa.delete(1),await qc(a)})}async function x_(a,t){const i=Pt(a);i.asyncQueue.verifyOperationInProgress(),it(Ua,"RemoteStore received new credentials");const s=Rl(i);i.aa.add(3),await bl(i),s&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.aa.delete(3),await qc(i)}async function ew(a,t){const i=Pt(a);t?(i.aa.delete(2),await qc(i)):t||(i.aa.add(2),await bl(i),i.la.set("Unknown"))}function ja(a){return a.Pa||(a.Pa=function(i,s,l){const c=Pt(i);return c.Y_(),new KR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(a.datastore,a.asyncQueue,{jo:ZR.bind(null,a),Jo:JR.bind(null,a),Zo:WR.bind(null,a),Q_:tw.bind(null,a)}),a.ua.push(async t=>{t?(a.Pa.D_(),am(a)?sm(a):a.la.set("Unknown")):(await a.Pa.stop(),SE(a))})),a.Pa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,g=new om(t,i,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bE(a,t){if(Pi("AsyncQueue",`${t}: ${a}`),Ba(a))return new lt(W.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{static emptySet(t){return new Ra(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ft.comparator(i.key,s.key):(i,s)=>ft.comparator(i.key,s.key),this.keyedMap=rl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ra)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ra;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.Ia=new fe(ft.comparator)}track(t){const i=t.doc.key,s=this.Ia.get(i);s?t.type!==0&&s.type===3?this.Ia=this.Ia.insert(i,t):t.type===3&&s.type!==1?this.Ia=this.Ia.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Ia=this.Ia.remove(i):t.type===1&&s.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):Et(63341,{Vt:t,Ea:s}):this.Ia=this.Ia.insert(i,t)}da(){const t=[];return this.Ia.inorderTraversal((i,s)=>{t.push(s)}),t}}class Pa{constructor(t,i,s,l,c,d,g,p,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Pa(t,i,Ra.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class iw{constructor(){this.queries=P_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,s){const l=Pt(i),c=l.queries;l.queries=P_(),c.forEach((d,g)=>{for(const p of g.Ra)p.onError(s)})})(this,new lt(W.ABORTED,"Firestore shutting down"))}}function P_(){return new Rs(a=>Zv(a),Lc)}async function RE(a,t){const i=Pt(a);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.Va()&&t.ma()&&(s=2):(c=new nw,s=t.ma()?0:1);try{switch(s){case 0:c.Aa=await i.onListen(l,!0);break;case 1:c.Aa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=bE(d,`Initialization of query '${Ea(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Ra.push(t),t.ga(i.onlineState),c.Aa&&t.pa(c.Aa)&&lm(i)}async function wE(a,t){const i=Pt(a),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Ra.indexOf(t);d>=0&&(c.Ra.splice(d,1),c.Ra.length===0?l=t.ma()?0:1:!c.Va()&&t.ma()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function rw(a,t){const i=Pt(a);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Ra)g.pa(l)&&(s=!0);d.Aa=l}}s&&lm(i)}function sw(a,t,i){const s=Pt(a),l=s.queries.get(t);if(l)for(const c of l.Ra)c.onError(i);s.queries.delete(t)}function lm(a){a.fa.forEach(t=>{t.next()})}var xd,L_;(L_=xd||(xd={})).ya="default",L_.Cache="cache";class IE{constructor(t,i,s){this.query=t,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Pa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ba?this.Da(t)&&(this.wa.next(t),i=!0):this.va(t,this.onlineState)&&(this.Ca(t),i=!0),this.Sa=t,i}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),i=!0),i}va(t,i){if(!t.fromCache||!this.ma())return!0;const s=i!=="Offline";return(!this.options.Fa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(t){t=Pa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t){this.key=t}}class DE{constructor(t){this.key=t}}class aw{constructor(t,i){this.query=t,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Lt(),this.mutatedKeys=Lt(),this.Ua=Jv(t),this.Ka=new Ra(this.Ua)}get Wa(){return this.qa}Ga(t,i){const s=i?i.za:new U_,l=i?i.Ka:this.Ka;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,C)=>{const z=l.get(A),Q=kc(this.query,C)?C:null,et=!!z&&this.mutatedKeys.has(z.key),st=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Z=!1;z&&Q?z.data.isEqual(Q.data)?et!==st&&(s.track({type:3,doc:Q}),Z=!0):this.ja(z,Q)||(s.track({type:2,doc:Q}),Z=!0,(p&&this.Ua(Q,p)>0||v&&this.Ua(Q,v)<0)&&(g=!0)):!z&&Q?(s.track({type:0,doc:Q}),Z=!0):z&&!Q&&(s.track({type:1,doc:z}),Z=!0,(p||v)&&(g=!0)),Z&&(Q?(d=d.add(Q),c=st?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{Ka:d,za:s,ys:g,mutatedKeys:c}}ja(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const d=t.za.da();d.sort((A,C)=>function(Q,et){const st=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:Z})}};return st(Q)-st(et)}(A.type,C.type)||this.Ua(A.doc,C.doc)),this.Ha(s),l=l!=null&&l;const g=i&&!l?this.Ja():[],p=this.$a.size===0&&this.current&&!l?1:0,v=p!==this.Qa;return this.Qa=p,d.length!==0||v?{snapshot:new Pa(this.query,t.Ka,c,d,t.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new U_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Lt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const i=[];return t.forEach(s=>{this.$a.has(s)||i.push(new DE(s))}),this.$a.forEach(s=>{t.has(s)||i.push(new CE(s))}),i}Xa(t){this.qa=t.Ns,this.$a=Lt();const i=this.Ga(t.documents);return this.applyChanges(i,!0)}eu(){return Pa.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const um="SyncEngine";class ow{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class lw{constructor(t){this.key=t,this.tu=!1}}class uw{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new Rs(g=>Zv(g),Lc),this.iu=new Map,this.su=new Set,this.ou=new fe(ft.comparator),this._u=new Map,this.au=new Wd,this.uu={},this.cu=new Map,this.lu=xa.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function cw(a,t,i=!0){const s=xE(a);let l;const c=s.ru.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.eu()):l=await OE(s,t,i,!0),l}async function hw(a,t){const i=xE(a);await OE(i,t,!0,!1)}async function OE(a,t,i,s){const l=await LR(a.localStore,ti(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await fw(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&TE(a.remoteStore,l),g}async function fw(a,t,i,s,l){a.Pu=(C,z,Q)=>async function(st,Z,At,Tt){let ct=Z.view.Ga(At);ct.ys&&(ct=await C_(st.localStore,Z.query,!1).then(({documents:N})=>Z.view.Ga(N,ct)));const _t=Tt&&Tt.targetChanges.get(Z.targetId),pt=Tt&&Tt.targetMismatches.get(Z.targetId)!=null,Nt=Z.view.applyChanges(ct,st.isPrimaryClient,_t,pt);return z_(st,Z.targetId,Nt.Ya),Nt.snapshot}(a,C,z,Q);const c=await C_(a.localStore,t,!0),d=new aw(t,c.Ns),g=d.Ga(c.documents),p=Sl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),v=d.applyChanges(g,a.isPrimaryClient,p);z_(a,i,v.Ya);const A=new ow(t,i,d);return a.ru.set(t,A),a.iu.has(i)?a.iu.get(i).push(t):a.iu.set(i,[t]),v.snapshot}async function dw(a,t,i){const s=Pt(a),l=s.ru.get(t),c=s.iu.get(l.targetId);if(c.length>1)return s.iu.set(l.targetId,c.filter(d=>!Lc(d,t))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Md(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&im(s.remoteStore,l.targetId),Ud(s,l.targetId)}).catch(Mc)):(Ud(s,l.targetId),await Md(s.localStore,l.targetId,!0))}async function mw(a,t){const i=Pt(a),s=i.ru.get(t),l=i.iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),im(i.remoteStore,s.targetId))}async function NE(a,t){const i=Pt(a);try{const s=await UR(i.localStore,t);t.targetChanges.forEach((l,c)=>{const d=i._u.get(c);d&&(ie(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.tu=!0:l.modifiedDocuments.size>0?ie(d.tu,14607):l.removedDocuments.size>0&&(ie(d.tu,42227),d.tu=!1))}),await VE(i,s,t)}catch(s){await Mc(s)}}function k_(a,t,i){const s=Pt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.ru.forEach((c,d)=>{const g=d.view.ga(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Pt(d);p.onlineState=g;let v=!1;p.queries.forEach((A,C)=>{for(const z of C.Ra)z.ga(g)&&(v=!0)}),v&&lm(p)}(s.eventManager,t),l.length&&s.nu.Q_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function gw(a,t,i){const s=Pt(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s._u.get(t),c=l&&l.key;if(c){let d=new fe(ft.comparator);d=d.insert(c,Fe.newNoDocument(c,vt.min()));const g=Lt().add(c),p=new jc(vt.min(),new Map,new fe(It),d,g);await NE(s,p),s.ou=s.ou.remove(c),s._u.delete(t),cm(s)}else await Md(s.localStore,t,!1).then(()=>Ud(s,t,i)).catch(Mc)}function Ud(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.iu.get(t))a.ru.delete(s),i&&a.nu.Tu(s,i);a.iu.delete(t),a.isPrimaryClient&&a.au.Ur(t).forEach(s=>{a.au.containsKey(s)||ME(a,s)})}function ME(a,t){a.su.delete(t.path.canonicalString());const i=a.ou.get(t);i!==null&&(im(a.remoteStore,i),a.ou=a.ou.remove(t),a._u.delete(i),cm(a))}function z_(a,t,i){for(const s of i)s instanceof CE?(a.au.addReference(s.key,t),pw(a,s)):s instanceof DE?(it(um,"Document no longer in limbo: "+s.key),a.au.removeReference(s.key,t),a.au.containsKey(s.key)||ME(a,s.key)):Et(19791,{Iu:s})}function pw(a,t){const i=t.key,s=i.path.canonicalString();a.ou.get(i)||a.su.has(s)||(it(um,"New document in limbo: "+i),a.su.add(s),cm(a))}function cm(a){for(;a.su.size>0&&a.ou.size<a.maxConcurrentLimboResolutions;){const t=a.su.values().next().value;a.su.delete(t);const i=new ft(ee.fromString(t)),s=a.lu.next();a._u.set(s,new lw(i)),a.ou=a.ou.insert(i,s),TE(a.remoteStore,new Er(ti(Xd(i.path)),s,"TargetPurposeLimboResolution",Vc.le))}}async function VE(a,t,i){const s=Pt(a),l=[],c=[],d=[];s.ru.isEmpty()||(s.ru.forEach((g,p)=>{d.push(s.Pu(p,t,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const C=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,C?"current":"not-current")}if(v){l.push(v);const C=em.Ps(p.targetId,v);c.push(C)}}))}),await Promise.all(d),s.nu.Q_(l),await async function(p,v){const A=Pt(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>K.forEach(v,z=>K.forEach(z.ls,Q=>A.persistence.referenceDelegate.addReference(C,z.targetId,Q)).next(()=>K.forEach(z.hs,Q=>A.persistence.referenceDelegate.removeReference(C,z.targetId,Q)))))}catch(C){if(!Ba(C))throw C;it(nm,"Failed to update sequence numbers: "+C)}for(const C of v){const z=C.targetId;if(!C.fromCache){const Q=A.Ss.get(z),et=Q.snapshotVersion,st=Q.withLastLimboFreeSnapshotVersion(et);A.Ss=A.Ss.insert(z,st)}}}(s.localStore,c))}async function yw(a,t){const i=Pt(a);if(!i.currentUser.isEqual(t)){it(um,"User change. New user:",t.toKey());const s=await yE(i.localStore,t);i.currentUser=t,function(c,d){c.cu.forEach(g=>{g.forEach(p=>{p.reject(new lt(W.CANCELLED,d))})}),c.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await VE(i,s.Ms)}}function _w(a,t){const i=Pt(a),s=i._u.get(t);if(s&&s.tu)return Lt().add(s.key);{let l=Lt();const c=i.iu.get(t);if(!c)return l;for(const d of c){const g=i.ru.get(d);l=l.unionWith(g.view.Wa)}return l}}function xE(a){const t=Pt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=NE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_w.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gw.bind(null,t),t.nu.Q_=rw.bind(null,t.eventManager),t.nu.Tu=sw.bind(null,t.eventManager),t}class Sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vE(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,i){return null}fu(t,i){return null}Vu(t){return xR(this.persistence,new NR,t.initialUser,this.serializer)}Ru(t){return new pE(tm.Ei,this.serializer)}Au(t){return new zR}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sc.provider={build:()=>new Sc};class vw extends Sc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,i){ie(this.persistence.referenceDelegate instanceof Ac,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new pR(s,t.asyncQueue,i)}Ru(t){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new pE(s=>Ac.Ei(s,i),this.serializer)}}class Pd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>k_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yw.bind(null,this.syncEngine),await ew(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new iw}()}createDatastore(t){const i=vE(t.databaseInfo.databaseId),s=function(c){return new GR(c)}(t.databaseInfo);return function(c,d,g,p){return new YR(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,c,d,g){return new $R(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>k_(this.syncEngine,i,0),function(){return N_.C()?new N_:new BR}())}createSyncEngine(t,i){return function(l,c,d,g,p,v,A){const C=new uw(l,c,d,g,p,v);return A&&(C.hu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=Pt(l);it(Ua,"RemoteStore shutting down."),c.aa.add(5),await bl(c),c.ca.shutdown(),c.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Pd.provider={build:()=>new Pd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Pi("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="FirestoreClient";class Ew{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ge.UNAUTHENTICATED,this.clientId=kv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{it(Vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(it(Vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=bE(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function hd(a,t){a.asyncQueue.verifyOperationInProgress(),it(Vr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async l=>{s.isEqual(l)||(await yE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function B_(a,t){a.asyncQueue.verifyOperationInProgress();const i=await Tw(a);it(Vr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener(s=>x_(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,l)=>x_(t.remoteStore,l)),a._onlineComponents=t}async function Tw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(Vr,"Using user provided OfflineComponentProvider");try{await hd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Oa("Error using user provided cache. Falling back to memory cache: "+i),await hd(a,new Sc)}}else it(Vr,"Using default OfflineComponentProvider"),await hd(a,new vw(void 0));return a._offlineComponents}async function Aw(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(Vr,"Using user provided OnlineComponentProvider"),await B_(a,a._uninitializedComponentsProvider._online)):(it(Vr,"Using default OnlineComponentProvider"),await B_(a,new Pd))),a._onlineComponents}async function PE(a){const t=await Aw(a),i=t.eventManager;return i.onListen=cw.bind(null,t.syncEngine),i.onUnlisten=dw.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=hw.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=mw.bind(null,t.syncEngine),i}function Sw(a,t,i={}){const s=new Rr;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,v){const A=new UE({next:z=>{A.yu(),d.enqueueAndForget(()=>wE(c,C));const Q=z.docs.has(g);!Q&&z.fromCache?v.reject(new lt(W.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&z.fromCache&&p&&p.source==="server"?v.reject(new lt(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(z)},error:z=>v.reject(z)}),C=new IE(Xd(g.path),A,{includeMetadataChanges:!0,Fa:!0});return RE(c,C)}(await PE(a),a.asyncQueue,t,i,s)),s.promise}function bw(a,t,i={}){const s=new Rr;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,v){const A=new UE({next:z=>{A.yu(),d.enqueueAndForget(()=>wE(c,C)),z.fromCache&&p.source==="server"?v.reject(new lt(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(z)},error:z=>v.reject(z)}),C=new IE(g,A,{includeMetadataChanges:!0,Fa:!0});return RE(c,C)}(await PE(a),a.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(a,t,i){if(!i)throw new lt(W.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function Rw(a,t,i,s){if(t===!0&&s===!0)throw new lt(W.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function q_(a){if(!ft.isDocumentKey(a))throw new lt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function H_(a){if(ft.isDocumentKey(a))throw new lt(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function ww(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Et(12329,{type:typeof a})}function yl(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new lt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ww(a);throw new lt(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firestore.googleapis.com",G_=!0;class F_{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zE,this.ssl=G_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:G_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=gE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<mR)throw new lt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Rw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hc{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new HS;switch(s.type){case"firstParty":return new QS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=j_.get(i);s&&(it("ComponentProvider","Removing Datastore"),j_.delete(i),s.terminate())}(this),Promise.resolve()}}function Iw(a,t,i,s={}){var l;const c=(a=yl(a,Hc))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:a._getEmulatorOptions()}),g=`${t}:${i}`;c.host!==zE&&c.host!==g&&Oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!Ts(p,d)&&(a._setSettings(p),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Ge.MOCK_USER;else{v=pA(s.mockUserToken,(l=a._app)===null||l===void 0?void 0:l.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new lt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ge(C)}a._authCredentials=new GS(new Pv(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Gc(this.firestore,t,this._query)}}class ei{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ei(this.firestore,t,this._key)}}class wr extends Gc{constructor(t,i,s){super(t,i,Xd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ei(this.firestore,null,new ft(t))}withConverter(t){return new wr(this.firestore,t,this._path)}}function Cw(a,t,...i){if(a=ai(a),kE("collection","path",t),a instanceof Hc){const s=ee.fromString(t,...i);return H_(s),new wr(a,null,s)}{if(!(a instanceof ei||a instanceof wr))throw new lt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ee.fromString(t,...i));return H_(s),new wr(a.firestore,null,s)}}function Dw(a,t,...i){if(a=ai(a),arguments.length===1&&(t=kv.newId()),kE("doc","path",t),a instanceof Hc){const s=ee.fromString(t,...i);return q_(s),new ei(a,null,new ft(s))}{if(!(a instanceof ei||a instanceof wr))throw new lt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ee.fromString(t,...i));return q_(s),new ei(a.firestore,a instanceof wr?a.converter:null,new ft(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="AsyncQueue";class Q_{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new EE(this,"async_queue_retry"),this.ju=()=>{const s=cd();s&&it(K_,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=t;const i=cd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const i=cd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new Rr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Ba(t))throw t;it(K_,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const i=this.Hu.then(()=>(this.Wu=!0,t().catch(s=>{throw this.Ku=s,this.Wu=!1,Pi("INTERNAL UNHANDLED ERROR: ",Y_(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=i,i}enqueueAfterDelay(t,i,s){this.Ju(),this.zu.indexOf(t)>-1&&(i=0);const l=om.createAndSchedule(this,t,i,s,c=>this.Xu(c));return this.Uu.push(l),l}Ju(){this.Ku&&Et(47125,{ec:Y_(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const i of this.Uu)if(i.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const i=this.Uu.indexOf(t);this.Uu.splice(i,1)}}function Y_(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class hm extends Hc{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new Q_,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Q_(t),this._firestoreClient=void 0,await t}}}function Ow(a,t){const i=typeof a=="object"?a:wv(),s=typeof a=="string"?a:yc,l=Hd(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=mA("firestore");c&&Iw(l,...c)}return l}function BE(a){if(a._terminated)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Nw(a),a._firestoreClient}function Nw(a){var t,i,s;const l=a._freezeSettings(),c=function(g,p,v,A){return new ub(g,p,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,LE(A.experimentalLongPollingOptions),A.useFetchStreams)}(a._databaseId,((t=a._app)===null||t===void 0?void 0:t.options.appId)||"",a._persistenceKey,l);a._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),a._firestoreClient=new Ew(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bc(ze.fromBase64String(t))}catch(i){throw new lt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new bc(ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}const xw=new RegExp("[~\\*/\\[\\]]");function Uw(a,t,i){if(t.search(xw)>=0)throw X_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a);try{return new jE(...t.split("."))._internalPath}catch{throw X_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a)}}function X_(a,t,i,s,l){let c=`Function ${t}() called with invalid data`;c+=". ";let d="";return new lt(W.INVALID_ARGUMENT,c+a+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Pw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(HE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Pw extends qE{data(){return super.data()}}function HE(a,t){return typeof t=="string"?Uw(a,t):t instanceof jE?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new lt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kw{convertValue(t,i="none"){switch(Nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Al(t,(l,c)=>{s[l]=this.convertValue(c,i)}),s}convertVectorValue(t){var i,s,l;const c=(l=(s=(i=t.fields)===null||i===void 0?void 0:i[Ad].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>he(d.doubleValue));return new Vw(c)}convertGeoPoint(t){return new Mw(he(t.latitude),he(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Uc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ml(t));default:return null}}convertTimestamp(t){const i=Dr(t);return new nn(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ee.fromString(t);ie(mE(s),9688,{name:t});const l=new gl(s.get(1),s.get(3)),c=new ft(s.popFirst(5));return l.isEqual(i)||Pi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class GE extends qE{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(HE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class uc extends GE{data(t={}){return super.data(t)}}class zw{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new al(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new uc(this._firestore,this._userDataWriter,s.key,s,new al(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new uc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new al(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new uc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new al(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Bw(g.type),doc:p,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Bw(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(a){a=yl(a,ei);const t=yl(a.firestore,hm);return Sw(BE(t),a._key).then(i=>Hw(t,a,i))}class FE extends kw{constructor(t){super(),this.firestore=t}convertBytes(t){return new bc(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ei(this.firestore,null,i)}}function qw(a){a=yl(a,Gc);const t=yl(a.firestore,hm),i=BE(t),s=new FE(t);return Lw(a._query),bw(i,a._query).then(l=>new zw(t,s,a,l))}function Hw(a,t,i){const s=i.docs.get(t._key),l=new FE(a);return new GE(a,l,t._key,s,new al(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){za=l})(ka),Da(new As("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new hm(new FS(s.getProvider("auth-internal")),new YS(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(v.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Sr(Jy,Wy,t),Sr(Jy,Wy,"esm2017")})();function fm(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(a);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(a,s[l])&&(i[s[l]]=a[s[l]]);return i}function KE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gw=KE,QE=new El("auth","Firebase",KE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new jd("@firebase/auth");function Fw(a,...t){Rc.logLevel<=Ot.WARN&&Rc.warn(`Auth (${ka}): ${a}`,...t)}function cc(a,...t){Rc.logLevel<=Ot.ERROR&&Rc.error(`Auth (${ka}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(a,...t){throw dm(a,...t)}function ni(a,...t){return dm(a,...t)}function YE(a,t,i){const s=Object.assign(Object.assign({},Gw()),{[t]:i});return new El("auth","Firebase",s).create(t,{appName:a.name})}function Ir(a){return YE(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dm(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return QE.create(a,...t)}function mt(a,t,...i){if(!a)throw dm(t,...i)}function Vi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw cc(t),new Error(t)}function Li(a,t){a||Vi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.href)||""}function Kw(){return $_()==="http:"||$_()==="https:"}function $_(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kw()||EA()||"connection"in navigator)?navigator.onLine:!0}function Yw(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Li(i>t,"Short delay should be less than long delay!"),this.isMobile=yA()||TA()}get(){return Qw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(a,t){Li(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Zw=new wl(3e4,6e4);function ws(a,t){return a.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:a.tenantId}):t}async function xr(a,t,i,s,l={}){return $E(a,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Tl(Object.assign({key:a.config.apiKey},d)).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const v=Object.assign({method:t,headers:p},c);return vA()||(v.referrerPolicy="no-referrer"),XE.fetch()(await ZE(a,a.config.apiHost,i,g),v)})}async function $E(a,t,i){a._canInitEmulator=!1;const s=Object.assign(Object.assign({},Xw),t);try{const l=new Ww(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw rc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rc(a,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw rc(a,"email-already-in-use",d);if(p==="USER_DISABLED")throw rc(a,"user-disabled",d);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw YE(a,A,v);xn(a,A)}}catch(l){if(l instanceof ki)throw l;xn(a,"network-request-failed",{message:String(l)})}}async function Fc(a,t,i,s,l={}){const c=await xr(a,t,i,s,l);return"mfaPendingCredential"in c&&xn(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function ZE(a,t,i,s){const l=`${t}${i}?${s}`,c=a,d=c.config.emulator?mm(a.config,l):`${a.config.apiScheme}://${l}`;return $w.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Jw(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ww{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(ni(this.auth,"network-request-failed")),Zw.get())})}}function rc(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=ni(a,t,s);return l.customData._tokenResponse=i,l}function Z_(a){return a!==void 0&&a.enterprise!==void 0}class t1{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Jw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function e1(a,t){return xr(a,"GET","/v2/recaptchaConfig",ws(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(a,t){return xr(a,"POST","/v1/accounts:delete",t)}async function wc(a,t){return xr(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function i1(a,t=!1){const i=ai(a),s=await i.getIdToken(t),l=gm(s);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:hl(fd(l.auth_time)),issuedAtTime:hl(fd(l.iat)),expirationTime:hl(fd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function fd(a){return Number(a)*1e3}function gm(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return cc("JWT malformed, contained fewer than 3 sections"),null;try{const l=vv(i);return l?JSON.parse(l):(cc("Failed to decode base64 JWT payload"),null)}catch(l){return cc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function J_(a){const t=gm(a);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof ki&&r1(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function r1({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(a){var t;const i=a.auth,s=await a.getIdToken(),l=await _l(a,wc(i,{idToken:s}));mt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];a._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?JE(c.providerUserInfo):[],g=o1(a.providerData,d),p=a.isAnonymous,v=!(a.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?v:!1,C={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new kd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(a,C)}async function a1(a){const t=ai(a);await Ic(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function o1(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function JE(a){return a.map(t=>{var{providerId:i}=t,s=fm(t,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(a,t){const i=await $E(a,{},async()=>{const s=Tl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await ZE(a,l,"/v1/token",`key=${c}`),g=await a._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",XE.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function u1(a,t){return xr(a,"POST","/v2/accounts:revokeToken",ws(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):J_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=J_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await l1(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new wa;return s&&(mt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(a,t){mt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Vn{constructor(t){var{uid:i,auth:s,stsTokenManager:l}=t,c=fm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new kd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await _l(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return i1(this,t)}reload(){return a1(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Vn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Ic(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Ir(this.auth));const t=await this.getIdToken();return await _l(this,n1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var s,l,c,d,g,p,v,A;const C=(s=i.displayName)!==null&&s!==void 0?s:void 0,z=(l=i.email)!==null&&l!==void 0?l:void 0,Q=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,et=(d=i.photoURL)!==null&&d!==void 0?d:void 0,st=(g=i.tenantId)!==null&&g!==void 0?g:void 0,Z=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,At=(v=i.createdAt)!==null&&v!==void 0?v:void 0,Tt=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ct,emailVerified:_t,isAnonymous:pt,providerData:Nt,stsTokenManager:N}=i;mt(ct&&N,t,"internal-error");const S=wa.fromJSON(this.name,N);mt(typeof ct=="string",t,"internal-error"),mr(C,t.name),mr(z,t.name),mt(typeof _t=="boolean",t,"internal-error"),mt(typeof pt=="boolean",t,"internal-error"),mr(Q,t.name),mr(et,t.name),mr(st,t.name),mr(Z,t.name),mr(At,t.name),mr(Tt,t.name);const R=new Vn({uid:ct,auth:t,email:z,emailVerified:_t,displayName:C,isAnonymous:pt,photoURL:et,phoneNumber:Q,tenantId:st,stsTokenManager:S,createdAt:At,lastLoginAt:Tt});return Nt&&Array.isArray(Nt)&&(R.providerData=Nt.map(O=>Object.assign({},O))),Z&&(R._redirectEventId=Z),R}static async _fromIdTokenResponse(t,i,s=!1){const l=new wa;l.updateFromServerResponse(i);const c=new Vn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Ic(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?JE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new wa;g.updateFromIdToken(s);const p=new Vn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new kd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=new Map;function xi(a){Li(a instanceof Function,"Expected a class definition");let t=W_.get(a);return t?(Li(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,W_.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}WE.type="NONE";const tv=WE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(a,t,i){return`firebase:${a}:${t}:${i}`}class Ia{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=hc(this.userKey,l.apiKey,c),this.fullPersistenceKey=hc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await wc(this.auth,{idToken:t}).catch(()=>{});return i?Vn._fromGetAccountInfoResponse(this.auth,i,t):null}return Vn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Ia(xi(tv),t,s);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||xi(tv);const d=hc(s,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){let C;if(typeof A=="string"){const z=await wc(t,{idToken:A}).catch(()=>{});if(!z)break;C=await Vn._fromGetAccountInfoResponse(t,z,A)}else C=Vn._fromJSON(t,A);v!==c&&(g=C),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ia(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Ia(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(i0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(t0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(s0(t))return"Blackberry";if(a0(t))return"Webos";if(e0(t))return"Safari";if((t.includes("chrome/")||n0(t))&&!t.includes("edge/"))return"Chrome";if(r0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function t0(a=Ke()){return/firefox\//i.test(a)}function e0(a=Ke()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function n0(a=Ke()){return/crios\//i.test(a)}function i0(a=Ke()){return/iemobile/i.test(a)}function r0(a=Ke()){return/android/i.test(a)}function s0(a=Ke()){return/blackberry/i.test(a)}function a0(a=Ke()){return/webos/i.test(a)}function pm(a=Ke()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function c1(a=Ke()){var t;return pm(a)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function h1(){return AA()&&document.documentMode===10}function o0(a=Ke()){return pm(a)||r0(a)||a0(a)||s0(a)||/windows phone/i.test(a)||i0(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(a,t=[]){let i;switch(a){case"Browser":i=ev(Ke());break;case"Worker":i=`${ev(Ke())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ka}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1(a,t={}){return xr(a,"GET","/v2/passwordPolicy",ws(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=6;class g1{constructor(t){var i,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:m1,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,s,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nv(this),this.idTokenSubscription=new nv(this),this.beforeStateQueue=new f1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=xi(i)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Ia.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await wc(this,{idToken:t}),s=await Vn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Mn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Ic(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Yw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Mn(this.app))return Promise.reject(Ir(this));const i=t?ai(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Mn(this.app)?Promise.reject(Ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await d1(this),i=new g1(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new El("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await u1(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&xi(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Ia.create(this,[xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=l0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&Fw(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function qa(a){return ai(a)}class nv{constructor(t){this.auth=t,this.observer=null,this.addObserver=OA(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y1(a){Kc=a}function u0(a){return Kc.loadJS(a)}function _1(){return Kc.recaptchaEnterpriseScript}function v1(){return Kc.gapiScript}function E1(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class T1{constructor(){this.enterprise=new A1}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class A1{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const S1="recaptcha-enterprise",c0="NO_RECAPTCHA";class b1{constructor(t){this.type=S1,this.auth=qa(t)}async verify(t="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{e1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new t1(p);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(p=>{g(p)})})}function l(c,d,g){const p=window.grecaptcha;Z_(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(v=>{d(v)}).catch(()=>{d(c0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new T1().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(g=>{if(!i&&Z_(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=_1();p.length!==0&&(p+=g),u0(p).then(()=>{l(g,c,d)}).catch(v=>{d(v)})}}).catch(g=>{d(g)})})}}async function iv(a,t,i,s=!1,l=!1){const c=new b1(a);let d;if(l)d=c0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g=Object.assign({},t);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,v=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function rv(a,t,i,s,l){var c;if(!((c=a._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await iv(a,t,i,i==="getOobCode");return s(a,d)}else return s(a,t).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await iv(a,t,i,i==="getOobCode");return s(a,g)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(a,t){const i=Hd(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ts(c,t??{}))return l;xn(l,"already-initialized")}return i.initialize({options:t})}function w1(a,t){const i=(t==null?void 0:t.persistence)||[],s=(Array.isArray(i)?i:[i]).map(xi);t!=null&&t.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function I1(a,t,i){const s=qa(a);mt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=h0(t),{host:d,port:g}=C1(t),p=g===null?"":`:${g}`,v={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){mt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),mt(Ts(v,s.config.emulator)&&Ts(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,D1()}function h0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function C1(a){const t=h0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:sv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:sv(d)}}}function sv(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function D1(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Vi("not implemented")}_getIdTokenResponse(t){return Vi("not implemented")}_linkToIdToken(t,i){return Vi("not implemented")}_getReauthenticationResolver(t){return Vi("not implemented")}}async function O1(a,t){return xr(a,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1(a,t){return Fc(a,"POST","/v1/accounts:signInWithPassword",ws(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(a,t){return Fc(a,"POST","/v1/accounts:signInWithEmailLink",ws(a,t))}async function V1(a,t){return Fc(a,"POST","/v1/accounts:signInWithEmailLink",ws(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends ym{constructor(t,i,s,l=null){super("password",s),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new vl(t,i,"password")}static _fromEmailAndCode(t,i,s=null){return new vl(t,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rv(t,i,"signInWithPassword",N1);case"emailLink":return M1(t,{email:this._email,oobCode:this._password});default:xn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rv(t,s,"signUpPassword",O1);case"emailLink":return V1(t,{idToken:i,email:this._email,oobCode:this._password});default:xn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(a,t){return Fc(a,"POST","/v1/accounts:signInWithIdp",ws(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="http://localhost";class bs extends ym{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new bs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):xn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=i,c=fm(i,["providerId","signInMethod"]);if(!s||!l)return null;const d=new bs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ca(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ca(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ca(t,i)}buildRequest(){const t={requestUri:x1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Tl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function P1(a){const t=el(nl(a)).link,i=t?el(nl(t)).deep_link_id:null,s=el(nl(a)).deep_link_id;return(s?el(nl(s)).link:null)||s||i||t||a}class _m{constructor(t){var i,s,l,c,d,g;const p=el(nl(t)),v=(i=p.apiKey)!==null&&i!==void 0?i:null,A=(s=p.oobCode)!==null&&s!==void 0?s:null,C=U1((l=p.mode)!==null&&l!==void 0?l:null);mt(v&&A&&C,"argument-error"),this.apiKey=v,this.operation=C,this.code=A,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.lang)!==null&&d!==void 0?d:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const i=P1(t);try{return new _m(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.providerId=Ha.PROVIDER_ID}static credential(t,i){return vl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const s=_m.parseLink(i);return mt(s,"argument-error"),vl._fromEmailAndCode(t,s.code,s.tenantId)}}Ha.PROVIDER_ID="password";Ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends f0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Il{constructor(){super("facebook.com")}static credential(t){return bs._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gr.credential(t.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Il{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return bs._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return pr.credential(i,s)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Il{constructor(){super("github.com")}static credential(t){return bs._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yr.credential(t.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Il{constructor(){super("twitter.com")}static credential(t,i){return bs._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return _r.credential(i,s)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Vn._fromIdTokenResponse(t,s,l),d=av(s);return new La({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=av(s);return new La({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function av(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends ki{constructor(t,i,s,l){var c;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Cc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new Cc(t,i,s,l)}}function d0(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Cc._fromErrorAndOperation(a,c,t,s):c})}async function L1(a,t,i=!1){const s=await _l(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return La._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(a,t,i=!1){const{auth:s}=a;if(Mn(s.app))return Promise.reject(Ir(s));const l="reauthenticate";try{const c=await _l(a,d0(s,l,t,a),i);mt(c.idToken,s,"internal-error");const d=gm(c.idToken);mt(d,s,"internal-error");const{sub:g}=d;return mt(a.uid===g,s,"user-mismatch"),La._forOperation(a,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&xn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m0(a,t,i=!1){if(Mn(a.app))return Promise.reject(Ir(a));const s="signIn",l=await d0(a,s,t),c=await La._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(c.user),c}async function z1(a,t){return m0(qa(a),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(a){const t=qa(a);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function j1(a,t,i){return Mn(a.app)?Promise.reject(Ir(a)):z1(ai(a),Ha.credential(t,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&B1(a),s})}function q1(a,t,i,s){return ai(a).onIdTokenChanged(t,i,s)}function H1(a,t,i){return ai(a).beforeAuthStateChanged(t,i)}function G1(a,t,i,s){return ai(a).onAuthStateChanged(t,i,s)}const Dc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Dc,"1"),this.storage.removeItem(Dc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=1e3,K1=10;class p0 extends g0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);h1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,K1):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},F1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}p0.type="LOCAL";const Q1=p0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends g0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}y0.type="SESSION";const _0=y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new Qc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,c)),p=await Y1(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const v=vm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(C){const z=C;if(z.data.eventId===v)switch(z.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(z.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function $1(a){ii().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function Z1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J1(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function W1(){return v0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="firebaseLocalStorageDb",tI=1,Oc="firebaseLocalStorage",T0="fbase_key";class Cl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Yc(a,t){return a.transaction([Oc],t?"readwrite":"readonly").objectStore(Oc)}function eI(){const a=indexedDB.deleteDatabase(E0);return new Cl(a).toPromise()}function zd(){const a=indexedDB.open(E0,tI);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Oc,{keyPath:T0})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Oc)?t(s):(s.close(),await eI(),t(await zd()))})})}async function ov(a,t,i){const s=Yc(a,!0).put({[T0]:t,value:i});return new Cl(s).toPromise()}async function nI(a,t){const i=Yc(a,!1).get(t),s=await new Cl(i).toPromise();return s===void 0?null:s.value}function lv(a,t){const i=Yc(a,!0).delete(t);return new Cl(i).toPromise()}const iI=800,rI=3;class A0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>rI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qc._getInstance(W1()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await Z1(),!this.activeServiceWorker)return;this.sender=new X1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||J1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zd();return await ov(t,Dc,"1"),await lv(t,Dc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>ov(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>nI(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>lv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Yc(l,!1).getAll();return new Cl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A0.type="LOCAL";const sI=A0;new wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(a,t){return t?xi(t):(mt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em extends ym{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ca(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ca(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ca(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function oI(a){return m0(a.auth,new Em(a),a.bypassAuthState)}function lI(a){const{auth:t,user:i}=a;return mt(i,t,"internal-error"),k1(i,new Em(a),a.bypassAuthState)}async function uI(a){const{auth:t,user:i}=a;return mt(i,t,"internal-error"),L1(i,new Em(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return oI;case"linkViaPopup":case"linkViaRedirect":return uI;case"reauthViaPopup":case"reauthViaRedirect":return lI;default:xn(this.auth,"internal-error")}}resolve(t){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new wl(2e3,1e4);class Sa extends S0{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const t=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cI.get())};t()}}Sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="pendingRedirect",fc=new Map;class fI extends S0{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=fc.get(this.auth._key());if(!t){try{const s=await dI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}fc.set(this.auth._key(),t)}return this.bypassAuthState||fc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dI(a,t){const i=pI(t),s=gI(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function mI(a,t){fc.set(a._key(),t)}function gI(a){return xi(a._redirectPersistence)}function pI(a){return hc(hI,a.config.apiKey,a.name)}async function yI(a,t,i=!1){if(Mn(a.app))return Promise.reject(Ir(a));const s=qa(a),l=aI(s,t),d=await new fI(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=10*60*1e3;class vI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!EI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var s;if(t.error&&!b0(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(ni(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_I&&this.cachedEventUids.clear(),this.cachedEventUids.has(uv(t))}saveEventToCache(t){this.cachedEventUids.add(uv(t)),this.lastProcessedEventTime=Date.now()}}function uv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function b0({type:a,error:t}){return a==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function EI(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b0(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(a,t={}){return xr(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SI=/^https?/;async function bI(a){if(a.config.emulator)return;const{authorizedDomains:t}=await TI(a);for(const i of t)try{if(RI(i))return}catch{}xn(a,"unauthorized-domain")}function RI(a){const t=Ld(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!SI.test(i))return!1;if(AI.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new wl(3e4,6e4);function cv(){const a=ii().___jsl;if(a!=null&&a.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function II(a){return new Promise((t,i)=>{var s,l,c;function d(){cv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cv(),i(ni(a,"network-request-failed"))},timeout:wI.get()})}if(!((l=(s=ii().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ii().gapi)===null||c===void 0)&&c.load)d();else{const g=E1("iframefcb");return ii()[g]=()=>{gapi.load?d():i(ni(a,"network-request-failed"))},u0(`${v1()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw dc=null,t})}let dc=null;function CI(a){return dc=dc||II(a),dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new wl(5e3,15e3),OI="__/auth/iframe",NI="emulator/auth/iframe",MI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xI(a){const t=a.config;mt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?mm(t,NI):`https://${a.config.authDomain}/${OI}`,s={apiKey:t.apiKey,appName:a.name,v:ka},l=VI.get(a.config.apiHost);l&&(s.eid=l);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Tl(s).slice(1)}`}async function UI(a){const t=await CI(a),i=ii().gapi;return mt(i,a,"internal-error"),t.open({where:document.body,url:xI(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MI,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=ni(a,"network-request-failed"),g=ii().setTimeout(()=>{c(d)},DI.get());function p(){ii().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LI=500,kI=600,zI="_blank",BI="http://localhost";class hv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jI(a,t,i,s=LI,l=kI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},PI),{width:s.toString(),height:l.toString(),top:c,left:d}),v=Ke().toLowerCase();i&&(g=n0(v)?zI:i),t0(v)&&(t=t||BI,p.scrollbars="yes");const A=Object.entries(p).reduce((z,[Q,et])=>`${z}${Q}=${et},`,"");if(c1(v)&&g!=="_self")return qI(t||"",g),new hv(null);const C=window.open(t||"",g,A);mt(C,a,"popup-blocked");try{C.focus()}catch{}return new hv(C)}function qI(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="__/auth/handler",GI="emulator/auth/handler",FI=encodeURIComponent("fac");async function fv(a,t,i,s,l,c){mt(a.config.authDomain,a,"auth-domain-config-required"),mt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:ka,eventId:l};if(t instanceof f0){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",DA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,C]of Object.entries({}))d[A]=C}if(t instanceof Il){const A=t.getScopes().filter(C=>C!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await a._getAppCheckToken(),v=p?`#${FI}=${encodeURIComponent(p)}`:"";return`${KI(a)}?${Tl(g).slice(1)}${v}`}function KI({config:a}){return a.emulator?mm(a,GI):`https://${a.authDomain}/${HI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="webStorageSupport";class QI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_0,this._completeRedirectFn=yI,this._overrideRedirectResult=mI}async _openPopup(t,i,s,l){var c;Li((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await fv(t,i,s,Ld(),l);return jI(t,d,vm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await fv(t,i,s,Ld(),l);return $1(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Li(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await UI(t),s=new vI(t);return i.register("authEvent",l=>(mt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(dd,{type:dd},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[dd];d!==void 0&&i(!!d),xn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=bI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return o0()||e0()||pm()}}const YI=QI;var dv="@firebase/auth",mv="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZI(a){Da(new As("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l0(a)},v=new p1(s,l,c,p);return w1(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Da(new As("auth-internal",t=>{const i=qa(t.getProvider("auth").getImmediate());return(s=>new XI(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(dv,mv,$I(a)),Sr(dv,mv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=5*60,WI=Av("authIdTokenMaxAge")||JI;let gv=null;const tC=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>WI)return;const l=i==null?void 0:i.token;gv!==l&&(gv=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function eC(a=wv()){const t=Hd(a,"auth");if(t.isInitialized())return t.getImmediate();const i=R1(a,{popupRedirectResolver:YI,persistence:[sI,Q1,_0]}),s=Av("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=tC(c.toString());H1(i,d,()=>d(i.currentUser)),q1(i,g=>d(g))}}const l=Ev("auth");return l&&I1(i,`http://${l}`),i}function nC(){var a,t;return(t=(a=document.getElementsByTagName("head"))===null||a===void 0?void 0:a[0])!==null&&t!==void 0?t:document}y1({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const c=ni("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",nC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZI("Browser");const iC={apiKey:"AIzaSyCbJZBieS7Po0s4x9icFfNDB97s7lJVysk",authDomain:"trips-organizer-14ce0.firebaseapp.com",projectId:"trips-organizer-14ce0",storageBucket:"trips-organizer-14ce0.firebasestorage.app",messagingSenderId:"411332941597",appId:"1:411332941597:web:e193d09f7e6f24973133f4",measurementId:"G-SD5EG5R35G"},rC=Rv(iC),pv=Ow(rC),R0=eC();function sC({onAuthenticated:a}){const[t,i]=te.useState(""),[s,l]=te.useState(""),[c,d]=te.useState(""),g=async()=>{d("");try{const p=await j1(R0,t,s);a(p.user)}catch(p){console.error(p),d("Email ou senha inválidos.")}};return X.jsxs("div",{className:"login-container",children:[X.jsx("h1",{children:"Login"}),X.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:p=>{i(p.target.value),d("")}}),X.jsx("input",{type:"password",placeholder:"Senha",value:s,onChange:p=>{l(p.target.value),d("")}}),X.jsx("button",{onClick:g,children:"Entrar"}),c&&X.jsx("p",{className:"error",children:c})]})}const aC=({totalRaised:a,tripTotal:t})=>{const i=Math.min(a/t*100,100).toFixed(1);return X.jsxs("div",{className:"progress-container",children:[X.jsx("div",{className:"progress-bar-wrapper",children:X.jsx("div",{className:"progress-bar",style:{width:`${i}%`}})}),X.jsx("p",{children:`R$ ${a.toFixed(2)} / R$ ${t.toFixed(2)} (${i}%)`})]})},mc=["Lívia","Renê","Sálvia","Matheus","Alexandre","Thais","Guilherme","Mariana"],oC=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];function lC(){const[a,t]=te.useState("Calculando..."),i=new Date("2025-11-21"),s=i.toLocaleDateString("pt-BR"),l=i.getTime();return te.useEffect(()=>{const c=()=>{const g=new Date().getTime(),p=l-g,v=Math.ceil(p/(1e3*60*60*24));t(v>0?`${v}`:"Chegou o grande dia! 🎉")};c();const d=setInterval(c,36e5);return()=>clearInterval(d)},[]),X.jsxs("div",{className:"countdown-box",children:[X.jsxs("span",{children:["⏳ Faltam ",X.jsxs("strong",{children:[" ",a,"  "]})," dias"]}),X.jsxs("div",{className:"target-date",children:[X.jsx("strong",{children:"Dia da viagem:"})," ",s]})]})}function uC({onEstimatedCostChange:a,onCostsChange:t,initialCosts:i}){const[s,l]=te.useState({transportation:0,food:0,accommodation:0});te.useEffect(()=>{i&&l(i)},[i]);const c=s.transportation+s.food+s.accommodation,d=(g,p)=>{const v={...s,[g]:p};l(v),a(v.transportation+v.food+v.accommodation),t(v)};return X.jsxs("section",{children:[X.jsxs("hgroup",{children:[X.jsx("h2",{children:"Estimativa de Custos da Viagem"}),X.jsx("h3",{children:"Detalhamento por Categoria"})]}),X.jsxs("table",{children:[X.jsx("thead",{children:X.jsxs("tr",{children:[X.jsx("th",{children:"Categoria"}),X.jsx("th",{children:"Valor Estimado"})]})}),X.jsxs("tbody",{children:[X.jsxs("tr",{children:[X.jsx("td",{children:"Transporte"}),X.jsx("td",{children:X.jsx("input",{type:"number",value:s.transportation??0,onChange:g=>d("transportation",Number(g.target.value))})})]}),X.jsxs("tr",{children:[X.jsx("td",{children:"Alimentação"}),X.jsx("td",{children:X.jsx("input",{type:"number",value:s.food??0,onChange:g=>d("food",Number(g.target.value))})})]}),X.jsxs("tr",{children:[X.jsx("td",{children:"Hospedagem"}),X.jsx("td",{children:X.jsx("input",{type:"number",value:s.accommodation??0,onChange:g=>d("accommodation",Number(g.target.value))})})]}),X.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#202d36"},children:[X.jsx("th",{children:"Total"}),X.jsxs("th",{children:["R$ ",c.toFixed(2)]})]}),X.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#005a79"},children:[X.jsx("th",{children:"Total unitário"}),X.jsxs("th",{children:["R$ ",(c/mc.length).toFixed(2)]})]})]})]})]})}function cC({month:a,onMonthDataChange:t,initialMonthData:i}){const[s,l]=te.useState(mc.reduce((p,v)=>{var A,C;return p[v]={caixinha:((A=i==null?void 0:i[v])==null?void 0:A.caixinha)??0,casa:((C=i==null?void 0:i[v])==null?void 0:C.casa)??0},p},{}));te.useEffect(()=>{l(mc.reduce((p,v)=>{var A,C;return p[v]={caixinha:((A=i==null?void 0:i[v])==null?void 0:A.caixinha)??0,casa:((C=i==null?void 0:i[v])==null?void 0:C.casa)??0},p},{}))},[i]);const c=(p,v,A)=>{const C={...s};C[p]={...C[p],[v]:A},l(C),t(a,C)},d=Object.values(s).reduce((p,v)=>p+v.caixinha,0),g=Object.values(s).reduce((p,v)=>p+v.casa,0);return X.jsxs("details",{children:[X.jsxs("summary",{children:[a," - Total: R$ ",(d+g).toFixed(2)]}),X.jsxs("table",{children:[X.jsx("thead",{children:X.jsxs("tr",{children:[X.jsx("th",{children:"Viajante"}),X.jsx("th",{children:"Caixinha"}),X.jsx("th",{children:"Casa"})]})}),X.jsxs("tbody",{children:[mc.map(p=>{var v,A;return X.jsxs("tr",{children:[X.jsx("td",{children:p}),X.jsx("td",{children:X.jsx("input",{type:"number",value:((v=s[p])==null?void 0:v.caixinha)??0,onChange:C=>c(p,"caixinha",Number(C.target.value))})}),X.jsx("td",{children:X.jsx("input",{type:"number",value:((A=s[p])==null?void 0:A.casa)??0,onChange:C=>c(p,"casa",Number(C.target.value))})})]},p)}),X.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#202d36"},children:[X.jsx("td",{children:"Total"}),X.jsxs("td",{children:["R$ ",d.toFixed(2)]}),X.jsxs("td",{children:["R$ ",g.toFixed(2)]})]})]})]})]})}function hC({onTotalContributionsChange:a,onContributionsChange:t,initialContributions:i}){const[s,l]=te.useState({});te.useEffect(()=>{i&&l(i)},[i]),te.useEffect(()=>{const d=Object.values(s).reduce((g,p)=>{const v=Object.values(p).reduce((A,C)=>A+C.caixinha+C.casa,0);return g+v},0);a(d)},[s,a]);const c=(d,g)=>{l(p=>{const v={...p,[d]:g};return t(v),v})};return X.jsxs("section",{children:[X.jsxs("hgroup",{children:[X.jsx("h2",{children:"Contribuições Mensais"}),X.jsx("h3",{children:"Distribuída por viajante"})]}),X.jsx("div",{className:"contributions-scroll",children:oC.map(d=>X.jsx(cC,{month:d,initialMonthData:s[d]??{},onMonthDataChange:c},d))})]})}function fC(){const[a,t]=te.useState(0),[i,s]=te.useState({}),[l,c]=te.useState({}),[d,g]=te.useState(0),[p,v]=te.useState(0),[A,C]=te.useState(0),z=Z=>{let At=0,Tt=0;Object.values(Z).forEach(ct=>{Object.values(ct).forEach(_t=>{At+=_t.caixinha??0,Tt+=_t.casa??0})}),v(At),C(Tt),g(At+Tt)};te.useEffect(()=>{(async()=>{try{const At=await jw(Dw(pv,"tripData","costs"));if(At.exists()){const _t=At.data();s(_t);const pt=(_t.transportation||0)+(_t.food||0)+(_t.accommodation||0);t(pt)}const Tt=await qw(Cw(pv,"tripData","contributions","months")),ct={};Tt.forEach(_t=>{ct[_t.id]=_t.data()}),c(ct),z(ct)}catch(At){console.error("Erro ao buscar dados do Firebase:",At)}})()},[]),te.useEffect(()=>{z(l)},[l]);const Q=Z=>{s(Z)},et=Z=>{t(Z)},st=Z=>{c(Z)};return X.jsxs("div",{className:"container",children:[X.jsxs("nav",{className:"nav",children:[X.jsx("strong",{children:"Trip Organizer"}),X.jsx("div",{className:"nav-links",children:X.jsx("img",{src:"/trips_planner/favicon.png",alt:""})})]}),X.jsxs("main",{children:[X.jsx(lC,{}),X.jsx(uC,{initialCosts:i,onEstimatedCostChange:et,onCostsChange:Q}),X.jsxs("section",{className:"highlight-box",children:[X.jsx("h3",{children:"Totais Arrecadados"}),X.jsxs("div",{className:"totals-display",children:[X.jsxs("div",{className:"total-card caixinha",children:[X.jsx("span",{children:"Caixinha"}),X.jsxs("strong",{children:["R$ ",p.toFixed(2)]})]}),X.jsxs("div",{className:"total-card casa",children:[X.jsx("span",{children:"Contribuição"}),X.jsxs("strong",{children:["R$ ",A.toFixed(2)]})]})]})]}),X.jsxs("section",{className:"highlight-box",children:[X.jsx("h3",{children:"Progresso de Arrecadação"}),X.jsx(aC,{totalRaised:d,tripTotal:a})]}),X.jsx(hC,{initialContributions:l,onTotalContributionsChange:g,onContributionsChange:st})]})]})}function dC(){const[a,t]=te.useState(null),[i,s]=te.useState(!0);return te.useEffect(()=>{const l=G1(R0,c=>{t(c),s(!1)});return()=>l()},[]),i?X.jsx("div",{children:"Carregando..."}):a?X.jsx(fC,{}):X.jsx(sC,{onAuthenticated:l=>{t(l)}})}sA.createRoot(document.getElementById("root")).render(X.jsx(te.StrictMode,{children:X.jsx(dC,{})}));
